<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>53. Surah: An-Najm 1-62 - MuslimBro1400</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600&family=Noto+Naskh+Arabic:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.png" type="image/x-icon">

  <style>
    /* Jameel Noori Nastaleeq Custom Font Face */
    @font-face {
      font-family: 'Jameel Noori Nastaleeq';
      src: url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff2') format('woff2'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff') format('woff'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.ttf') format('truetype');
      font-display: swap;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background-color: #007b5e;
      z-index: 1001;
      transition: width 0.25s ease;
    }

    .dark-mode #progress-bar {
      background-color: #0c8;
    }

    .navbar {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #f0f0f0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.5s ease;
    }

    .dark-mode .navbar { background-color: #2c2c2c; }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-links a {
      margin-left: 1rem;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .dark-mode .nav-links a { color: #e0e0e0; }

    .nav-links a:hover {
      color: #007b5e;
    }

    .theme-toggle {
      cursor: pointer;
      margin-left: 1rem;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .theme-toggle img.rotate {
      transform: rotate(180deg);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
    }

    .menu-toggle img {
      width: 24px;
      height: 24px;
    }

    .container {
      padding: 2rem 1rem;
      max-width: 800px;
      margin: auto;
    }

    .surah-info {
      text-align: center;
      margin-bottom: 2rem;
    }

    .surah-info h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      font-family: 'Amiri', serif;
    }

    .meaning {
      font-style: italic;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meaning { color: #bbb; }

    .meta {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #888;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meta { color: #aaa; }

    .bismillah {
      margin-top: 1.5rem;
      font-size: 1.5rem;
      color: #007b5e;
      font-weight: bold;
      font-family: 'Amiri', serif;
    }

    .dark-mode .bismillah { color: #0c8; }

    .ayah {
      background-color: #fff;
      padding: 3rem 3rem 3rem 3rem;
      margin-bottom: 1rem;
      border-left: 4px solid #007b5e;
      border-radius: 6px;
      position: relative;
    }

    .dark-mode .ayah {
      background-color: #2c2c2c;
      border-left-color: #0c8;
    }

    .ayah-number {
      position: absolute;
      top: 1rem;
      left: 1rem;
      font-size: 0.9rem;
      color: #007b5e;
      text-align: left;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .ayah-number { color: #0c8; }

    .arabic {
      font-size: 1.8rem;
      text-align: right;
      direction: rtl;
      font-family: 'Amiri', serif;
    }

    .translation {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-size: 1.2rem
    }

    /* Updated Urdu Translation Class */
    .translation.ur {
      text-align: right;
      direction: rtl;
      /* Prioritizing Jameel Noori */
      font-family: 'Jameel Noori Nastaleeq', 'Noto Nastaliq Urdu', serif;
      font-size: 1.5rem;
      line-height: 2.2; /* Increased line-height for Nastaliq script */
      margin-top: 10px;
      color: #444;
    }

    .dark-mode .translation { color: #ccc; }

    .transliteration {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-style: italic;
    }

    .dark-mode .transliteration { color: #ccc; }

    .verse-icon {
      display: inline-block;
      font-size: 1.2rem;
      margin-left: 0.5rem;
      vertical-align: middle;
      color: #007b5e;
      font-family: 'Amiri', serif;
    }

    .dark-mode .verse-icon {
      color: #0c8;
    }

    .favorite-btn, .bookmark-btn, .share-icon {
      position: absolute;
      right: 1rem;
      width: 24px;
      height: 24px;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .favorite-btn:hover, .bookmark-btn:hover, .share-icon:hover {
      opacity: 1;
    }

    .share-icon {
      top: 1rem;
    }

    .favorite-btn {
      top: 3rem;
    }

    .bookmark-btn {
      top: 5rem;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .navigation a {
      color: #007b5e;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .navigation a { color: #0c8; }

    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
      gap: 1rem;
    }

    .tab-button {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tab-button.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .tab-button {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .tab-button.active {
      background-color: #0c8;
    }

    .transliteration-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .transliteration-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .transliteration-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .transliteration-toggle.active {
      background-color: #0c8;
    }

    .translation-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .translation-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .translation-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .translation-toggle.active {
      background-color: #0c8;
    }

    .lang-select, .audio-select {
      margin-top: 1rem;
      text-align: center;
    }

    .lang-select label, .audio-select label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .lang-select label, .dark-mode .audio-select label {
      color: #e0e0e0;
    }

    .lang-select select, .audio-select select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .audio-select button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .audio-select button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .audio-select button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .audio-select button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .dark-mode .lang-select select, .dark-mode .audio-select select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .lang-select select:hover, .audio-select select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .lang-select select:hover, .dark-mode .audio-select select:hover {
      border-color: #0a6;
    }

    .lang-select select:focus, .audio-select select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .lang-select select:focus, .dark-mode .audio-select select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .hidden { display: none; }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      max-width: 600px;
      width: 90%;
      position: relative;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .dark-mode .modal-content {
      background-color: #2c2c2c;
      color: #e0e0e0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
    }

    .modal-content iframe {
      border-radius: 8px;
      border: none;
      width: 100%;
      height: 60px;
    }

    .modal-content button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
    }

    .dark-mode .modal-content button:hover {
      background-color: #0a6;
    }

        .go-to-verse {
      margin-top: 1rem;
      text-align: center;
    }

    .go-to-verse label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .go-to-verse label {
      color: #e0e0e0;
    }

    .go-to-verse input {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 80px;
      text-align: center;
    }

    .dark-mode .go-to-verse input {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .go-to-verse input:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse input:hover {
      border-color: #0a6;
    }

    .go-to-verse input:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .go-to-verse input:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .go-to-verse button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .go-to-verse button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .go-to-verse button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    /* Scroll to Top Button */
    #scrollToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    #scrollToTop:hover {
      background-color: #005f4a;
    }

    #scrollToTop.show {
      opacity: 1;
      visibility: visible;
    }

    .dark-mode #scrollToTop {
      background-color: #0c8;
    }

    .dark-mode #scrollToTop:hover {
      background-color: #0a6;
    }

    /* Share Modal Styling */
    .modal-content h2 {
      margin-top: 0;
      color: #333;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .modal-content h2 {
      color: #e0e0e0;
    }

    .modal-content div {
      margin-bottom: 1rem;
      text-align: left;
    }

    .modal-content label {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
      cursor: pointer;
    }

    .dark-mode .modal-content label {
      color: #e0e0e0;
    }

    .modal-content input[type="checkbox"] {
      margin-right: 0.5rem;
      width: 18px;
      height: 18px;
      border: 2px solid #007b5e;
      border-radius: 4px;
      background-color: #fff;
      cursor: pointer;
      transition: border-color 0.3s ease, background-color 0.3s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content input[type="checkbox"]:checked {
      background-color: #007b5e;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="12" height="12"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
    }

    .dark-mode .modal-content input[type="checkbox"] {
      background-color: #2c2c2c;
      border-color: #0c8;
    }

    .dark-mode .modal-content input[type="checkbox"]:checked {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .dark-mode .modal-content select:hover {
      border-color: #0a6;
    }

    .modal-content select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .modal-content button {
      margin-top: 1rem;
      margin-right: 0.5rem;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .modal-content input[type="text"] {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 100%;
      box-sizing: border-box;
    }

    .modal-content input[type="text"]:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content input[type="text"] {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .dark-mode .modal-content input[type="text"]:hover {
      border-color: #0a6;
    }

    .modal-content input[type="text"]:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content input[type="text"]:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    @media (max-width: 600px) {
      .navbar h1 {
        font-size: 1.25rem;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #f0f0f0;
        position: absolute;
        top: 60px;
        left: 0;
        padding: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        z-index: 1000;
      }

      .dark-mode .nav-links {
        background-color: #2c2c2c;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }

      .theme-toggle {
        margin: 0;
      }

      .menu-toggle {
        display: block;
      }

      .lang-select select, .audio-select select {
        padding: 0.5rem 1.8rem 0.5rem 0.8rem;
        font-size: 0.9rem;
        background-size: 16px;
      }

      .surah-info h1 {
        font-size: 1.5rem;
      }

      .bismillah {
        font-size: 1.3rem;
      }

      .arabic {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div id="progress-bar"></div>
  <!-- Navbar -->
  <nav class="navbar">
    <h1>MuslimBro1400</h1>
    <button class="menu-toggle" onclick="toggleMenu()">
      <img src="menu.png" alt="Menu" />
    </button>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="quran.html">Quran</a>
      <a href="hadith.html">Hadiths</a>
      <a href="islamic-books.html">Books</a>
      <a href="quran-recitations.html">Recitations</a>
      <a href="islamic-calendar.html">Calendar</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <img id="theme-icon" src="moon.png" alt="Toggle Theme" title="Toggle light/dark mode" />
      </button>
    </div>
  </nav>

  <!-- Content -->
  <div class="container">
    <div class="surah-info">
      <h1>Surah An-Najm (سورة النجم)</h1>
      <p class="meaning">Meaning: The Star</p>
      <p class="meta">Mecca - 62 Verses</p>
      
      <div class="audio-select">
        <label for="reciter">Reciter:</label>
        <select id="reciter" onchange="changeReciter()">
          <option value="saadalghamdi">Saad Al Ghamdi</option>
        </select>
        <br><br>
        <button id="playButton" onclick="playAudio()">Play Audio</button>
      </div>
      
      <p class="bismillah">بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ</p>

            <!-- Transliteration Toggle -->
      <button id="transliteration-toggle" class="transliteration-toggle" onclick="toggleTransliteration()">Show Transliteration</button>

      <!-- Translation Toggle -->
      <button id="translation-toggle" class="translation-toggle" onclick="toggleTranslation()">Show Translation</button>

      <!-- Language Selector -->
      <div class="lang-select hidden" id="languageSelector">
        <label for="language">Translation Language:</label>
        <select id="language" onchange="changeLanguage()"></select>
      </div>
      
               <!-- Go to Verse -->
      <div class="go-to-verse">
        <label for="verse-number">Go to Verse:</label>
        <input type="number" id="verse-number" min="1" max="62" placeholder="1-62">
        <button onclick="goToVerse()">Go</button>
      </div>

      <div class="navigation">
        <a href="at-tur.html">← Surah At-Tur</a>
        <a href="al-qamar.html">Next: Surah Al-Qamar →</a>
      </div>
    </div>

    <!-- Arabic Tab -->
    <div id="read-tab"></div>

    <!-- Translation Tab -->
    <div id="translate-tab" class="hidden"></div>

    <div class="navigation">
      <a href="at-tur.html">← Surah At-Tur</a>
      <a href="al-qamar.html">Next: Surah Al-Qamar →</a>
    </div>
  </div>

  <!-- Audio Modal -->
  <div id="audioModal" class="modal" style="display: none;">
    <div class="modal-content">
      <iframe src="https://archive.org/embed/053_20260102" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen></iframe>
      <br><br>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>

    <!-- Share Modal -->
  <div id="shareModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Share Ayah Options</h2>
      <div>
        <label><input type="checkbox" id="includeTransliteration"> Include Transliteration</label>
      </div>
      <div>
        <label><input type="checkbox" id="includeTranslation" onchange="toggleLanguageSelect()"> Include Translation</label>
      </div>
      <div id="languageSelectDiv" style="display: none;">
        <label for="shareLanguage">Translation Language:</label>
        <select id="shareLanguage">
          <option value="en">English</option>
          <option value="ur">Urdu</option>
        </select>
      </div>
      <br>
      <div id="shareMessage" style="display: none; margin-top: 1rem; text-align: center; font-weight: bold;"></div>
      <button onclick="generateAndCopyText()">Copy Text</button>
      <button onclick="closeShareModal()">Cancel</button>
    </div>
  </div>

    <!-- Scroll to Top Button -->
  <button id="scrollToTop" onclick="scrollToTop()">↑</button>

  <script>
    const unfavoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const favoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="#0c8" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const unbookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#00CC88" stroke-width="66.66" stroke-miterlimit="10" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;
    const bookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#00CC88" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;

    const ayahs = [
      {
        arabic: "وَالنَّجمِ إِذا هَوىٰ",
        en: "By the stars when they fade away!",
        ur: "قسم ہے ستارے کی جبکہ وہ گرتا ہے۔",
        trans: "Wannajmi izaa hawaa"
      },
      {
        arabic: "ما ضَلَّ صاحِبُكُم وَما غَوىٰ",
        en: "Your fellow man is neither misguided nor astray.",
        ur: "اے لوگو !) تمہارے یہ ساتھی نہ تو بھٹکے ہیں اور نہ ہی بہکے ہیں۔)",
        trans: "Maa dalla saahibukum wa maa ghawaa"
      },
      {
        arabic: "وَما يَنطِقُ عَنِ الهَوىٰ",
        en: "Nor does he speak of his own whims.",
        ur: "اور یہ (جو کچھ کہہ رہے ہیں) اپنی خواہش نفس سے نہیں کہہ رہے ہیں۔",
        trans: "Wa maa yyantiqu ‘anilhawaaa"
      },
      {
        arabic: "إِن هُوَ إِلّا وَحيٌ يوحىٰ",
        en: "It is only a revelation sent down ˹to him˺.",
        ur: "یہ تو صرف وحی ہے جو ان کی طرف کی جاتی ہے۔",
        trans: "In huwa illaa Wahyuny yoohaa"
      },
      {
        arabic: "عَلَّمَهُ شَديدُ القُوىٰ",
        en: "He has been taught by one ˹angel˺ of mighty power",
        ur: "انہیں سکھایا ہے اس نے جو زبردست قوت والا ہے۔",
        trans: "‘Allamahoo shadeedul quwaa"
      },
      {
        arabic: "ذو مِرَّةٍ فَاستَوىٰ",
        en: "and great perfection, who once rose to ˹his˺ true form",
        ur: "جو بڑا زور آور ہے۔ وہ سیدھا ہوا۔",
        trans: "Zoo mirratin fastawaa"
      },
      {
        arabic: "وَهُوَ بِالأُفُقِ الأَعلىٰ",
        en: "while on the highest point above the horizon,",
        ur: "اور وہ افق اعلیٰ پر تھا۔",
        trans: "Wa huwa bil ufuqil a’laa"
      },  
      {
        arabic: "ثُمَّ دَنا فَتَدَلّىٰ",
        en: "then he approached ˹the Prophet˺, coming so close",
        ur: "پھر وہ قریب آیا اور جھک پڑا۔",
        trans: "Summa danaa fatadalla"
      },
      {
        arabic: "فَكانَ قابَ قَوسَينِ أَو أَدنىٰ",
        en: "that he was only two arms-lengths away or even less.",
        ur: "بس دو کمانوں کے برابر (فاصلہ رہ گیا) یا اس سے بھی قریب۔",
        trans: "Fakaana qaaba qawsaini aw adnaa"
      },
      {
        arabic: "فَأَوحىٰ إِلىٰ عَبدِهِ ما أَوحىٰ",
        en: "Then Allah revealed to His servant what He revealed ˹through Gabriel˺.",
        ur: "پھر اس نے وحی کی اللہ کے بندے کی طرف جو وحی کی۔",
        trans: "Fa awhaaa ilaa ‘abdihee maaa awhaa"
      },
      {
        arabic: "ما كَذَبَ الفُؤادُ ما رَأىٰ",
        en: "The ˹Prophet’s˺ heart did not doubt what he saw.",
        ur: "جو کچھ انہوں نے دیکھا ان کے دل و دماغ نے اسے جھٹلایا نہیں۔",
        trans: "Maa kazabal fu’aadu maa ra aa"
      },
      {
        arabic: "أَفَتُمارونَهُ عَلىٰ ما يَرىٰ",
        en: "How can you ˹O pagans˺ then dispute with him regarding what he saw?",
        ur: "تو کیا تم اس سے جھگڑتے ہو اس چیز پر جسے وہ دیکھتا ہے",
        trans: "Afatumaaroonahoo ‘alaa maayaraa"
      },
      {
        arabic: "وَلَقَد رَآهُ نَزلَةً أُخرىٰ",
        en: "And he certainly saw that ˹angel descend˺ a second time",
        ur: "اور انہوں نے تو اس کو ایک مرتبہ اور بھی اترتے دیکھا ہے۔",
        trans: "Wa laqad ra aahu nazlatan ukhraa"
      },
      {
        arabic: "عِندَ سِدرَةِ المُنتَهىٰ",
        en: "at the Lote Tree of the most extreme limit ˹in the seventh heaven˺—",
        ur: "سدرۃ المنتہیٰ کے پاس۔",
        trans: "‘Inda sidratil muntaha"
      },
      {
        arabic: "عِندَها جَنَّةُ المَأوىٰ",
        en: "near which is the Garden of ˹Eternal˺ Residence—",
        ur: "جنت الماویٰ بھی اس کے پاس ہی ہے۔",
        trans: "‘Indahaa jannatul maawaa"
      },
      {
        arabic: "إِذ يَغشَى السِّدرَةَ ما يَغشىٰ",
        en: "while the Lote Tree was overwhelmed with ˹heavenly˺ splendours!",
        ur: "جبکہ چھائے ہوئے تھا سدرہ پر جو چھائے ہوئے تھا۔",
        trans: "Iz yaghshas sidrata maa yaghshaa"
      },
      {
        arabic: "ما زاغَ البَصَرُ وَما طَغىٰ",
        en: "The ˹Prophet’s˺ sight never wandered, nor did it overreach.",
        ur: "اس وقت محمد ﷺ کی) آنکھ نہ تو کج ہوئی اور نہ ہی حد سے بڑھی۔)",
        trans: "Maa zaaghal basaru wa maa taghaa"
      },
      {
        arabic: "لَقَد رَأىٰ مِن آياتِ رَبِّهِ الكُبرىٰ",
        en: "He certainly saw some of his Lord’s greatest signs.",
        ur: "انہوں نے اپنے رب کی عظیم ترین آیات کو دیکھا۔",
        trans: "Laqad ra aa min aayaati Rabbihil kubraaa"
      },
      {
        arabic: "أَفَرَأَيتُمُ اللّاتَ وَالعُزّىٰ",
        en: "Now, have you considered ˹the idols of˺ Lât and ’Uzza,",
        ur: "تو کیا تم لوگوں نے لات اور عزیٰ کے بارے میں غور کیا ہے ؟",
        trans: "Afara’aytumul laata wal ‘uzzaa"
      },
      {
        arabic: "وَمَناةَ الثّالِثَةَ الأُخرىٰ",
        en: "and the third one, Manât, as well?",
        ur: "اور جو تیسری ایک اور (دیوی) منات ہے ؟",
        trans: "Wa manaatas saalisatal ukhraa"
      },
      {
        arabic: "أَلَكُمُ الذَّكَرُ وَلَهُ الأُنثىٰ",
        en: "Do you ˹prefer to˺ have sons while ˹you attribute˺ to Him daughters?",
        ur: "کیا تمہارے لیے بیٹے ہیں اور اس کے لیے بیٹیاں ؟",
        trans: "A-lakumuz zakaru wa lahul unsaa"
      },
      {
        arabic: "تِلكَ إِذًا قِسمَةٌ ضيزىٰ",
        en: "Then this is ˹truly˺ a biased distribution!",
        ur: "یہ تو بہت بھونڈی تقسیم ہے",
        trans: "Tilka izan qismatun deezaa"
      },
      {
        arabic: "إِن هِيَ إِلّا أَسماءٌ سَمَّيتُموها أَنتُم وَآباؤُكُم ما أَنزَلَ اللَّهُ بِها مِن سُلطانٍ ۚ إِن يَتَّبِعونَ إِلَّا الظَّنَّ وَما تَهوَى الأَنفُسُ ۖ وَلَقَد جاءَهُم مِن رَبِّهِمُ الهُدىٰ",
        en: "These ˹idols˺ are mere names that you and your forefathers have made up—a practice Allah has never authorized. They follow nothing but ˹inherited˺ assumptions and whatever ˹their˺ souls desire, although ˹true˺ guidance has already come to them from their Lord.",
        ur: "یہ کچھ نہیں ہے سوائے اس کے کہ کچھ نام ہیں جو رکھ لیے ہیں تم نے اور تمہارے آباء و اَجداد نے اللہ نے ان کے لیے کوئی سند نہیں اتاری یہ لوگ نہیں پیروی کر رہے مگر ظن وتخمین کی اور اپنی خواہشاتِ نفس کی جب کہ ان کے پاس ان کے رب کی طرف سے الہدیٰ آچکا ہے۔",
        trans: "In hiya illaaa asmaaa’un sammaitumoohaaa antum wa aabaaa’ukum maaa anzalal laahu bihaa min sultaan; inyyattabi’oona illaz zanna wa maa tahwal anfusu wa laqad jaaa’ahum mir Rabbihimul hudaa"
      },
      {
        arabic: "أَم لِلإِنسانِ ما تَمَنّىٰ",
        en: "Or should every person ˹simply˺ have whatever ˹intercessors˺ they desire?",
        ur: "کیا انسان کو وہی کچھ مل جائے گا جس کی وہ آرزو کرتا ہے ؟",
        trans: "Am lil insaani maa taman naa"
      },
      {
        arabic: "فَلِلَّهِ الآخِرَةُ وَالأولىٰ",
        en: "In fact, to Allah ˹alone˺ belongs this world and the next.",
        ur: "پس آخرت اور دنیا سب اللہ ہی کے اختیار میں ہے۔",
        trans: "Falillaahil aakhiratu wal oolaa"
      },
      {
        arabic: "۞ وَكَم مِن مَلَكٍ فِي السَّماواتِ لا تُغني شَفاعَتُهُم شَيئًا إِلّا مِن بَعدِ أَن يَأذَنَ اللَّهُ لِمَن يَشاءُ وَيَرضىٰ",
        en: "˹Imagine˺ how many ˹noble˺ angels are in the heavens! ˹Even˺ their intercession would be of no benefit whatsoever, until Allah gives permission to whoever He wills and ˹only for the people He˺ approves.",
        ur: "اور کتنے ہی فرشتے ہیں آسمانوں میں جن کی شفاعت کسی کام نہیں آئے گی مگر اس کے بعد کہ اللہ جس کے لیے چاہے اجازت بخشے اور (سفارش) پسند کرے۔",
        trans: "Wa kam mim malakin fissamaawaati laa tughnee shafaa’atuhum shai’an illaa mim ba’di anyyaazanal laahu limany yashaaa’u wa yardaa"
      },
      {
        arabic: "إِنَّ الَّذينَ لا يُؤمِنونَ بِالآخِرَةِ لَيُسَمّونَ المَلائِكَةَ تَسمِيَةَ الأُنثىٰ",
        en: "Indeed, those who do not believe in the Hereafter label angels as female,",
        ur: "یہ لوگ جو آخرت پر ایمان نہیں رکھتے انہوں نے فرشتوں کے مونث نام رکھ دیے ہیں۔",
        trans: "innal lazeena laa yu’minoona bil aakhirati la yusammoonal malaaa’ikata tasmiyatal unsaa"
      },
      {
        arabic: "وَما لَهُم بِهِ مِن عِلمٍ ۖ إِن يَتَّبِعونَ إِلَّا الظَّنَّ ۖ وَإِنَّ الظَّنَّ لا يُغني مِنَ الحَقِّ شَيئًا ۙ",
        en: "although they have no knowledge ˹in support˺ of this. They follow nothing but ˹inherited˺ assumptions. And surely assumptions can in no way replace the truth.",
        ur: "اور ان کے پاس اس بارے میں کوئی علم نہیں ہے۔ وہ نہیں پیروی کر رہے مگر صرف گمان کی۔ اور ظن تو حق سے کچھ بھی مستغنی نہیں کرسکتا۔",
        trans: "Wa maa lahum bihee min ‘ilmin iny yattabi’oona illaz zanna wa innaz zanna laa yughnee minal haqqi shai’aa"
      },
      {
        arabic: "فَأَعرِض عَن مَن تَوَلّىٰ عَن ذِكرِنا وَلَم يُرِد إِلَّا الحَياةَ الدُّنيا",
        en: "So turn away ˹O Prophet˺ from whoever has shunned Our Reminder, only seeking the ˹fleeting˺ life of this world.",
        ur: "تو (اے نبی ﷺ !) آپ اعراض کر لیجیے ہر اس شخص سے جس نے روگردانی کی ہے ہمارے ذکر سے اور دنیا کی زندگی کے سوا جسے کچھ مطلوب نہیں ہے۔",
        trans: "Fa a’rid ‘am man tawallaa ‘an zikrinaa wa lam yurid illal hayaatad dunyaa"
      },
      {
        arabic: "ذٰلِكَ مَبلَغُهُم مِنَ العِلمِ ۚ إِنَّ رَبَّكَ هُوَ أَعلَمُ بِمَن ضَلَّ عَن سَبيلِهِ وَهُوَ أَعلَمُ بِمَنِ اهتَدىٰ",
        en: "This is the extent of their knowledge. Surely your Lord knows best who has strayed from His Way and who is ˹rightly˺ guided.",
        ur: "یہ ہے ان کے علم کی رسائی کی حد یقینا آپ ﷺ کا ربّ خوب جانتا ہے ان کو بھی جو اس کی راہ سے بھٹک گئے ہیں اور وہ خوب جانتا ہے ان کو بھی جو ہدایت پر ہیں۔",
        trans: "Zalika mablaghuhum minal ‘ilm; inna rabbaka huwa a’lamu biman dalla ‘an sabee lihee wa huwa a’lamu bimanih tadaa"
      },
      {
        arabic: "وَلِلَّهِ ما فِي السَّماواتِ وَما فِي الأَرضِ لِيَجزِيَ الَّذينَ أَساءوا بِما عَمِلوا وَيَجزِيَ الَّذينَ أَحسَنوا بِالحُسنَى",
        en: "To Allah ˹alone˺ belongs whatever is in the heavens and whatever is on the earth so that He may reward the evildoers according to what they did, and reward the good-doers with the finest reward—",
        ur: "اور اللہ ہی کا ہے جو کچھ آسمانوں میں ہے اور جو کچھ زمین میں ہے تاکہ وہ بدلہ دے ان کو جنہوں نے برائیاں کمائی ہیں ان کے اعمال کا اور بدلہ دے ان کو جنہوں نے نیک کام کیے ہیں اچھا۔",
        trans: "Wa lillaahi maa fis samaawaati wa maa fil ardi liyajziyal lazeena asaaa’oo bimaa ‘amiloo wa yajziyal lazeena ahsanoo bilhusnaa"
      },
      {
        arabic: "الَّذينَ يَجتَنِبونَ كَبائِرَ الإِثمِ وَالفَواحِشَ إِلَّا اللَّمَمَ ۚ إِنَّ رَبَّكَ واسِعُ المَغفِرَةِ ۚ هُوَ أَعلَمُ بِكُم إِذ أَنشَأَكُم مِنَ الأَرضِ وَإِذ أَنتُم أَجِنَّةٌ في بُطونِ أُمَّهاتِكُم ۖ فَلا تُزَكّوا أَنفُسَكُم ۖ هُوَ أَعلَمُ بِمَنِ اتَّقىٰ",
        en: "those who avoid major sins and shameful deeds, despite ˹stumbling on˺ minor sins. Surely your Lord is infinite in forgiveness. He knew well what would become of you as He created you from the earth and while you were ˹still˺ fetuses in the wombs of your mothers. So do not ˹falsely˺ elevate yourselves. He knows best who is ˹truly˺ righteous.",
        ur: "وہ لوگ جو بڑے بڑے گناہوں اور بےحیائی سے بچتے ہیں سوائے کچھ آلودگی کے۔ یقینا آپ کا ربّ بہت ہی وسیع مغفرت والا ہے۔ وہ تمہیں خوب جانتا ہے جبکہ اس نے تمہیں زمین سے اٹھایا اور جب کہ تم اپنی مائوں کے پیٹوں میں جنین کی شکل میں تھے۔ تو تم خود کو بہت پاکباز نہ ٹھہرائو۔ وہ اسے خوب جانتا ہے جو تقویٰ اختیار کرتا ہے۔",
        trans: "Allazeena yajtaniboona kabaaa’iral ismi walfawaa hisha illal lamam; inna rabbaka waasi’ul maghfirah; huwa a’lamu bikum iz ansha akum minal ardi wa iz antum ajinnatun fee butooni umma haatikum falaa tuzakkooo anfusakum huwa a’lamu bimanit taqaa"
      },
      {
        arabic: "أَفَرَأَيتَ الَّذي تَوَلّىٰ",
        en: "Have you seen the one who turned away ˹from Islam,˺",
        ur: "پھر (اے نبی ﷺ !) کیا آپ نے اس شخص کو بھی دیکھا جس نے پیٹھ موڑ لی ؟",
        trans: "Afara’ayatal lazee tawallaa"
      },
      {
        arabic: "وَأَعطىٰ قَليلًا وَأَكدىٰ",
        en: "and ˹initially˺ paid a little ˹for his salvation˺, and then stopped?",
        ur: "تھوڑا سا دیا اور پھر سخت ہوگیا۔",
        trans: "Wa a’taa qaleelanw wa akdaa"
      },
      {
        arabic: "أَعِندَهُ عِلمُ الغَيبِ فَهُوَ يَرىٰ",
        en: "Does he have the knowledge of the unseen so that he sees ˹the Hereafter˺?",
        ur: "کیا اس کے پاس غیب کا علم ہے کہ وہ دیکھ رہا ہے",
        trans: "A’indahoo ‘ilmul ghaibi fahuwa yaraa"
      },
      {
        arabic: "أَم لَم يُنَبَّأ بِما في صُحُفِ موسىٰ",
        en: "Or has he not been informed of what is in the Scripture of Moses,",
        ur: "کیا اسے خبر نہیں پہنچی اس بارے میں جو کچھ موسیٰ ؑ کے صحیفوں میں تھا ؟",
        trans: "Am lam yunabbaa bimaa fee suhuhfi Moosa"
      },
      {
        arabic: "وَإِبراهيمَ الَّذي وَفّىٰ",
        en: "and ˹that of˺ Abraham, who ˹perfectly˺ fulfilled ˹his covenant˺?",
        ur: "اور ابراہیم کے (صحیفوں میں تھا) جس نے وفا کی انتہا کردی",
        trans: "Wa Ibraaheemal lazee waffaaa"
      },
      {
        arabic: "أَلّا تَزِرُ وازِرَةٌ وِزرَ أُخرىٰ",
        en: "˹They state˺ that no soul burdened with sin will bear the burden of another,",
        ur: "کہ نہیں اٹھائے گی کوئی جان کسی دوسری جان کے بوجھ کو۔",
        trans: "Allaa taziru waaziratunw wizra ukhraa"
      },
      {
        arabic: "وَأَن لَيسَ لِلإِنسانِ إِلّا ما سَعىٰ",
        en: "and that each person will only have what they endeavoured towards,",
        ur: "اور یہ کہ انسان کے لیے نہیں ہے مگر وہی کچھ جس کی اس نے سعی کی ہوگی۔",
        trans: "Wa al laisa lil insaani illaa maa sa’aa"
      },
      {
        arabic: "وَأَنَّ سَعيَهُ سَوفَ يُرىٰ",
        en: "and that ˹the outcome of˺ their endeavours will be seen ˹in their record˺,",
        ur: "اور یہ کہ اس کی سعی عنقریب اسے دکھا دی جائے گی۔",
        trans: "Wa anna sa’yahoo sawfa yuraa"
      },
      {
        arabic: "ثُمَّ يُجزاهُ الجَزاءَ الأَوفىٰ",
        en: "then they will be fully rewarded,",
        ur: "پھر اس کو بدلہ دیا جائے گا پورا پورا بدلہ۔",
        trans: "Summa yujzaahul jazaaa ‘al awfaa"
      },
      {
        arabic: "وَأَنَّ إِلىٰ رَبِّكَ المُنتَهىٰ",
        en: "and that to your Lord ˹alone˺ is the ultimate return ˹of all things˺.",
        ur: "اور یہ کہ بالآخر پہنچنا تمہارے رب ہی کی طرف ہے۔",
        trans: "Wa anna ilaa rabbikal muntahaa"
      },
      {
        arabic: "وَأَنَّهُ هُوَ أَضحَكَ وَأَبكىٰ",
        en: "Moreover, He is the One Who brings about joy and sadness.",
        ur: "اور یہ کہ وہی ہے جو ہنساتا بھی ہے اور رلاتا بھی ہے۔",
        trans: "Wa annahoo huwa adhaka wa abkaa"
      },
      {
        arabic: "وَأَنَّهُ هُوَ أَماتَ وَأَحيا",
        en: "And He is the One Who gives life and causes death.",
        ur: "اور یہ کہ وہی ہے جو مارتا بھی ہے اور زندہ بھی رکھتا ہے۔",
        trans: "Wa annahoo huwa amaata wa ahyaa"
      },
      {
        arabic: "وَأَنَّهُ خَلَقَ الزَّوجَينِ الذَّكَرَ وَالأُنثىٰ",
        en: "And He created the pairs—males and females—",
        ur: "اور یہ کہ وہی ہے جس نے پیدا کیے ہیں جوڑے نر اور مادہ کے",
        trans: "Wa annahoo khalaqaz zawjainiz zakara wal unsaa"
      },
      {
        arabic: "مِن نُطفَةٍ إِذا تُمنىٰ",
        en: "from a sperm-drop when it is emitted.",
        ur: "ایک ہی بوندھ سے جبکہ وہ ٹپکائی جاتی ہے۔",
        trans: "Min nutfatin izaa tumnaa"
      },
      {
        arabic: "وَأَنَّ عَلَيهِ النَّشأَةَ الأُخرىٰ",
        en: "And it is upon Him to bring about re-creation.",
        ur: "اور یہ کہ اسی کے ذمے ہے دوبارہ اٹھانا۔",
        trans: "Wa anna ‘alaihin nash atal ukhraa"
      },
      {
        arabic: "وَأَنَّهُ هُوَ أَغنىٰ وَأَقنىٰ",
        en: "And He is the One Who enriches and impoverishes.",
        ur: "اور یہ کہ اسی نے دولت دی اور اسی نے خزانہ دیا۔",
        trans: "Wa annahoo huwa aghnaa wa aqnaa"
      },
      {
        arabic: "وَأَنَّهُ هُوَ رَبُّ الشِّعرىٰ",
        en: "And He alone is the Lord of Sirius.",
        ur: "اور یہ کہ وہی شعریٰ کا بھی ربّ ہے۔",
        trans: "Wa annahoo huwa rabbush shi’raa"
      },
      {
        arabic: "وَأَنَّهُ أَهلَكَ عادًا الأولىٰ",
        en: "And He destroyed the first ˹people of˺ ’Ȃd,",
        ur: "اور یہ کہ اسی نے ہلاک کیا تھا عاد اولیٰ کو۔",
        trans: "Wa annahooo ahlak a ‘Aadanil oolaa"
      },
      {
        arabic: "وَثَمودَ فَما أَبقىٰ",
        en: "and ˹then˺ Thamûd, sparing no one.",
        ur: "اور ثمود کو بھی پس کسی کو باقی نہ چھوڑا۔",
        trans: "Wa samooda famaaa abqaa"
      },
      {
        arabic: "وَقَومَ نوحٍ مِن قَبلُ ۖ إِنَّهُم كانوا هُم أَظلَمَ وَأَطغىٰ",
        en: "And before ˹that He destroyed˺ the people of Noah, who were truly far worse in wrongdoing and transgression.",
        ur: "اور قوم نوح ؑ کو بھی (ہلاک کیا) ان سے پہلے۔",
        trans: "Wa qawma Noohim min qablu innahum kaanoo hum azlama wa atghaa"
      },
      {
        arabic: "وَالمُؤتَفِكَةَ أَهوىٰ",
        en: "And ˹it was˺ He ˹Who˺ turned the cities ˹of Sodom and Gomorrah˺ upside down.",
        ur: "اور (اُسی نے) الٹی ہوئی بستیوں کو پٹخ دیا۔",
        trans: "Wal mu’tafikata ahwaa"
      },
      {
        arabic: "فَغَشّاها ما غَشّىٰ",
        en: "How overwhelming was what covered ˹them˺!",
        ur: "اور پھر اس کو ڈھانپ لیاجس چیز نے ڈھانپ لیا۔",
        trans: "Faghashshaahaa maa ghashshaa"
      },
      {
        arabic: "فَبِأَيِّ آلاءِ رَبِّكَ تَتَمارىٰ",
        en: "Now, which of your Lord’s favours will you dispute?",
        ur: "تو تم اپنے رب کی کون کون سی قدرتوں کے بارے میں شک کرو گے ؟",
        trans: "Fabi ayyi aalaaa’i Rabbika tatamaaraa"
      },
      {
        arabic: "هٰذا نَذيرٌ مِنَ النُّذُرِ الأولىٰ",
        en: "This ˹Prophet˺ is a warner like earlier ones.",
        ur: "یہ (محمد ﷺ ایک خبردار کرنے والے ہیں پہلے خبردار کرنے والوں (کے زمرے) میں سے۔",
        trans: "Haazaa nazeerum minan nuzuril oolaa"
      },
      {
        arabic: "أَزِفَتِ الآزِفَةُ",
        en: "The approaching ˹Hour˺ has drawn near.",
        ur: "قریب آچکی ہے وہ آنے والی۔",
        trans: "Azifatil aazifah"
      },
      {
        arabic: "لَيسَ لَها مِن دونِ اللَّهِ كاشِفَةٌ",
        en: "None but Allah can disclose it.",
        ur: "نہیں ہے اس کو اللہ کے سوا کوئی کھولنے والا۔",
        trans: "Laisa lahaa min doonil laahi kaashifah"
      },
      {
        arabic: "أَفَمِن هٰذَا الحَديثِ تَعجَبونَ",
        en: "Do you find this revelation astonishing,",
        ur: "تو کیا تم لوگوں کو اس کلام کے بارے میں تعجب ہورہا ہے ؟",
        trans: "Afamin hazal hadeesi ta’jaboon"
      },
      {
        arabic: "وَتَضحَكونَ وَلا تَبكونَ",
        en: "laughing ˹at it˺ and not weeping ˹in awe˺,",
        ur: "اور تم ہنستے ہو اور روتے نہیں ہو",
        trans: "Wa tadhakoona wa laa tabkoon"
      },
      {
        arabic: "وَأَنتُم سامِدونَ",
        en: "while persisting in heedlessness?",
        ur: "اور تم خوش فعلیاں کر رہے ہو",
        trans: "Wa antum saamidoon"
      },
      {
        arabic: "فَاسجُدوا لِلَّهِ وَاعبُدوا ۩",
        en: "Instead, prostrate to Allah and worship ˹Him alone˺!",
        ur: "پس سجدہ کرو اللہ کے لیے اور اسی کی بندگی کرو",
        trans: "Fasjudoo lillaahi wa’budoo"
      },
    ];

    const readTab = document.getElementById('read-tab');
    const translateTab = document.getElementById('translate-tab');
    const langSelect = document.getElementById('language');
    const langWrapper = document.getElementById('languageSelector');
    let showTransliteration = false;
    let showTranslation = false;
    let currentAyahIndex = 0;

    // Favorites and Bookmarks storage
    let favoritedAyahs = JSON.parse(localStorage.getItem('favoritedAyahs')) || [];
    let bookmarkedAyahs = JSON.parse(localStorage.getItem('bookmarkedAyahs')) || [];

    function isFavorite(index) {
      return favoritedAyahs.some(ayah => ayah.surah === 53 && ayah.ayah === index + 1);
    }

    function toggleFavorite(index) {
      const ayahObj = { surah: 53, ayah: index + 1 };
      if (isFavorite(index)) {
        favoritedAyahs = favoritedAyahs.filter(ayah => !(ayah.surah === 53 && ayah.ayah === index + 1));
      } else {
        favoritedAyahs.push(ayahObj);
      }
      localStorage.setItem('favoritedAyahs', JSON.stringify(favoritedAyahs));
      renderReadTab();
      renderTranslation();
    }

    function isBookmarked(index) {
      return bookmarkedAyahs.some(ayah => ayah.surah === 53 && ayah.ayah === index + 1);
    }

    function toggleBookmark(index) {
      const ayahObj = { surah: 53, ayah: index + 1 };
      if (isBookmarked(index)) {
        bookmarkedAyahs = bookmarkedAyahs.filter(ayah => !(ayah.surah === 53 && ayah.ayah === index + 1));
      } else {
        bookmarkedAyahs.push(ayahObj);
      }
      localStorage.setItem('bookmarkedAyahs', JSON.stringify(bookmarkedAyahs));
      renderReadTab();
      renderTranslation();
    }

    // Language options with display names
    const languages = [
      { value: 'en', name: 'English: Dr. Mustafa Khattab' },
      { value: 'ur', name: 'Urdu: Dr. Israr Ahmed' }
      // Add more languages here in the future, e.g., { value: 'ar', name: 'Arabic' }
    ];

    // Populate language selector with sorted options
    function populateLanguageSelector() {
      // Sort languages alphabetically by name
      languages.sort((a, b) => a.name.localeCompare(b.name));
      
      // Clear existing options
      langSelect.innerHTML = '';
      
      // Add sorted options
      languages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang.value;
        option.textContent = lang.name;
        langSelect.appendChild(option);
      });
    }

    // Load Arabic verses
    function renderReadTab() {
      readTab.innerHTML = '';
      const lang = langSelect.value;
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = 'ayah';
        let transliterationHTML = '';
        if (showTransliteration && ayah.trans) {
          transliterationHTML = `<div class="transliteration">${ayah.trans}</div>`;
        }
        let translationHTML = '';
        if (showTranslation) {
          translationHTML = `<div class="translation ${lang}">${ayah[lang]}</div>`;
        }
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="arabic">${ayah.arabic}<span class="verse-icon">۝</span></div>
          ${transliterationHTML}
          ${translationHTML}
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        readTab.appendChild(div);
      });
    }

    function renderTranslation() {
      const lang = langSelect.value;
      translateTab.innerHTML = '';
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = `ayah translation ${lang}`;
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="translation ${lang}">${ayah[lang]}<span class="verse-icon">۝</span></div>
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        translateTab.appendChild(div);
      });
    }
    let currentEmbedSrc = "https://archive.org/embed/053_20260102"; // Default for saadalghamdi

    function changeReciter() {
      const reciter = document.getElementById('reciter').value;
      const playButton = document.getElementById('playButton');

      // Define your reciter embed sources (Archive.org embed links)
      const reciterEmbeds = {
        saadalghamdi: "https://archive.org/embed/053_20260102",
        // Add more reciters here as needed, e.g., anotherreciter: "https://archive.org/embed/another_id"
      };

      // Get the correct embed URL for the selected reciter
      const newSrc = reciterEmbeds[reciter];

      if (newSrc) {
        currentEmbedSrc = newSrc;
        // Show the play button
        playButton.style.display = 'block';
      } else {
        alert("Embed source not available for this reciter.");
        playButton.style.display = 'none';
      }
    }

    function playAudio() {
      // Show the modal with the embed iframe
      const modal = document.getElementById('audioModal');
      const iframe = modal.querySelector('iframe');
      iframe.src = currentEmbedSrc;
      modal.style.display = 'flex';
    }

    function closeModal() {
      const modal = document.getElementById('audioModal');
      modal.style.display = 'none';
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tabs button')[tab === 'read' ? 0 : 1].classList.add('active');

      if (tab === 'read') {
        readTab.classList.remove('hidden');
        translateTab.classList.add('hidden');
        langWrapper.classList.add('hidden');
        renderReadTab();
      } else {
        readTab.classList.add('hidden');
        translateTab.classList.remove('hidden');
        langWrapper.classList.remove('hidden');
        renderTranslation();
      }
    }

    function goToVerse() {
      const verseNumber = parseInt(document.getElementById('verse-number').value);
      if (isNaN(verseNumber) || verseNumber < 1 || verseNumber > 62) {
        alert('Please enter a valid verse number between 1 and 62.');
        return;
      }

      // Determine which tab is active
      const activeTab = readTab.classList.contains('hidden') ? translateTab : readTab;
      const ayahs = activeTab.querySelectorAll('.ayah');

      if (ayahs[verseNumber - 1]) {
        ayahs[verseNumber - 1].scrollIntoView({ behavior: 'smooth' });

        // Highlight the verse temporarily
        ayahs[verseNumber - 1].style.backgroundColor = '#005f4a';
        setTimeout(() => {
          ayahs[verseNumber - 1].style.backgroundColor = '';
        }, 2000);
      }
    }

    function setThemeIcon() {
      const icon = document.getElementById('theme-icon');
      icon.classList.remove('rotate');
      void icon.offsetWidth;
      icon.classList.add('rotate');
      icon.src = document.body.classList.contains('dark-mode')
        ? "sun.png"
        : "moon.png";
      icon.alt = document.body.classList.contains('dark-mode')
        ? "Switch to light mode"
        : "Switch to dark mode";
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      setThemeIcon();
    }

    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    function toggleTransliteration() {
      showTransliteration = !showTransliteration;
      const toggleButton = document.getElementById('transliteration-toggle');
      if (showTransliteration) {
        toggleButton.textContent = 'Hide Transliteration';
        toggleButton.classList.add('active');
      } else {
        toggleButton.textContent = 'Show Transliteration';
        toggleButton.classList.remove('active');
      }
      renderReadTab();
    }

    function toggleTranslation() {
      showTranslation = !showTranslation;
      const toggleButton = document.getElementById('translation-toggle');
      if (showTranslation) {
        toggleButton.textContent = 'Hide Translation';
        toggleButton.classList.add('active');
        langWrapper.classList.remove('hidden');
      } else {
        toggleButton.textContent = 'Show Translation';
        toggleButton.classList.remove('active');
        langWrapper.classList.add('hidden');
      }
      renderReadTab();
    }

    function changeLanguage() {
      renderReadTab();
      renderTranslation();
    }

        // Scroll to Top functionality
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Share functions
    function openShareModal(index) {
      currentAyahIndex = index;
      document.getElementById('includeTransliteration').checked = false;
      document.getElementById('includeTranslation').checked = false;
      document.getElementById('languageSelectDiv').style.display = 'none';
      document.getElementById('shareMessage').style.display = 'none';
      document.getElementById('shareModal').style.display = 'flex';
    }

    function toggleLanguageSelect() {
      const includeTranslation = document.getElementById('includeTranslation').checked;
      document.getElementById('languageSelectDiv').style.display = includeTranslation ? 'block' : 'none';
    }

    function closeShareModal() {
      document.getElementById('shareModal').style.display = 'none';
    }

    function generateAndCopyText() {
      const ayah = ayahs[currentAyahIndex];
      let text = `Surah An-Najm\nVerse ${currentAyahIndex + 1}\n\nArabic:\n${ayah.arabic}\n`;

      if (document.getElementById('includeTransliteration').checked && ayah.trans) {
        text += `\nTransliteration:\n${ayah.trans}\n`;
      }

      if (document.getElementById('includeTranslation').checked) {
        const lang = document.getElementById('shareLanguage').value;
        text += `\nTranslation (${lang === 'en' ? 'English' : 'Urdu'}):\n${ayah[lang]}\n`;
      }

      text += `\nhttps://adil43534.github.io/Muslimbro1400.com/`;

      const shareMessage = document.getElementById('shareMessage');
      navigator.clipboard.writeText(text).then(() => {
        shareMessage.textContent = 'Text copied to clipboard!';
        shareMessage.style.color = '#007b5e';
        shareMessage.style.display = 'block';
        setTimeout(() => {
          closeShareModal();
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy text: ', err);
        shareMessage.textContent = 'Failed to copy text. Please try again.';
        shareMessage.style.color = '#d9534f';
        shareMessage.style.display = 'block';
      });
    }

    // Show/hide scroll to top button and update progress bar based on scroll position
    window.addEventListener('scroll', () => {
      const scrollToTopBtn = document.getElementById('scrollToTop');
      if (window.pageYOffset > 300) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }

      // Update progress bar
      const progressBar = document.getElementById('progress-bar');
      const totalHeight = document.body.scrollHeight - window.innerHeight;
      const progress = (window.pageYOffset / totalHeight) * 100;
      progressBar.style.width = progress + '%';
    });

    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
      populateLanguageSelector();
      renderReadTab();
      // Ensure modal is hidden on load
      document.getElementById('audioModal').classList.add('hidden');

      // Check for ayah parameter in URL and navigate to it
      const urlParams = new URLSearchParams(window.location.search);
      const ayah = urlParams.get('ayah');
      if (ayah) {
        document.getElementById('verse-number').value = ayah;
        goToVerse();
      }
    };
  </script>
</body>
</html>
