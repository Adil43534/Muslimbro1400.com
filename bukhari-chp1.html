<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Muslimbro1400 - Sahih al-Bukhari - Chapter 1: Revelation</title>
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600&family=Noto+Naskh+Arabic:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="icon" href="favicon.png" type="image/x-icon">  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    .navbar {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #f0f0f0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.5s ease;
    }

    .dark-mode .navbar { background-color: #2c2c2c; }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-links a {
      margin-left: 1rem;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .dark-mode .nav-links a { color: #e0e0e0; }

    .nav-links a:hover {
      color: #007b5e;
    }

    .theme-toggle {
      cursor: pointer;
      margin-left: 1rem;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .theme-toggle img.rotate {
      transform: rotate(180deg);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
    }

    .menu-toggle img {
      width: 24px;
      height: 24px;
    }

    .container {
      max-width: 800px;
      margin: auto;
      padding: 2rem 1rem;
    }

    .hadith-info {
      text-align: center;
      margin-bottom: 2rem;
    }

    .hadith-info h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .subtitle {
      font-style: italic;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .subtitle { color: #bbb; }

    .meta {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #888;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meta { color: #aaa; }

    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
      gap: 1rem;
    }

    .tab-button {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tab-button.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .tab-button {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .tab-button.active {
      background-color: #0c8;
    }

    .lang-select {
      margin-top: 1rem;
      text-align: center;
    }

    .lang-select label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .lang-select label {
      color: #e0e0e0;
    }

    .lang-select select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .dark-mode .lang-select select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .lang-select select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .lang-select select:hover {
      border-color: #0a6;
    }

    .lang-select select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .lang-select select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .go-to-hadith {
      margin-top: 1rem;
      text-align: center;
    }

    .go-to-hadith label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .go-to-hadith label {
      color: #e0e0e0;
    }

    .go-to-hadith input {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 80px;
      text-align: center;
    }

    .dark-mode .go-to-hadith input {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .go-to-hadith input:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .go-to-hadith input:hover {
      border-color: #0a6;
    }

    .go-to-hadith input:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .go-to-hadith input:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .go-to-hadith button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .go-to-hadith button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .go-to-hadith button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .go-to-hadith button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }



    .hadith {
      background-color: #fff;
      padding: 1rem 3rem 1rem 1rem;
      margin-bottom: 1rem;
      border-left: 4px solid #007b5e;
      border-radius: 6px;
      position: relative;
    }

    .dark-mode .hadith {
      background-color: #2c2c2c;
      border-left-color: #0c8;
    }

    .hadith-number {
      font-size: 0.9rem;
      color: #007b5e;
      margin-bottom: 0.4rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .hadith-number { color: #0c8; }

    .arabic {
      font-size: 1.8rem;
      text-align: right;
      direction: rtl;
      font-family: 'Amiri', serif;
    }

    .translation {
      margin-top: 0.5rem;
      padding-top: 2rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .translation.ur {
      text-align: right;
      direction: rtl;
      font-family: 'Noto Nastaliq Urdu', serif;
    }

    .dark-mode .translation { color: #ccc; }

    .hadith-meta {
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .hadith-meta { color: #ccc; }

    .hadith-meta a {
      color: #007b5e;
      text-decoration: none;
    }

    .dark-mode .hadith-meta a { color: #0c8; }

    .hadith-meta a:hover {
      text-decoration: underline;
    }

    .share-icon {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 24px;
      height: 24px;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .share-icon:hover {
      opacity: 1;
    }

    .favorite-btn, .bookmark-btn {
      position: absolute;
      top: 1rem;
      width: 24px;
      height: 24px;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .favorite-btn {
      right: 4rem;
    }

    .bookmark-btn {
      right: 7rem;
    }

    .favorite-btn:hover, .bookmark-btn:hover {
      opacity: 1;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      max-width: 600px;
      width: 90%;
      position: relative;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .dark-mode .modal-content {
      background-color: #2c2c2c;
      color: #e0e0e0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
    }

    .modal-content h2 {
      margin-top: 0;
      color: #333;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .modal-content h2 {
      color: #e0e0e0;
    }

    .modal-content div {
      margin-bottom: 1rem;
      text-align: left;
    }

    .modal-content label {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
      cursor: pointer;
    }

    .dark-mode .modal-content label {
      color: #e0e0e0;
    }

    .modal-content input[type="checkbox"] {
      margin-right: 0.5rem;
      width: 18px;
      height: 18px;
      border: 2px solid #007b5e;
      border-radius: 4px;
      background-color: #fff;
      cursor: pointer;
      transition: border-color 0.3s ease, background-color 0.3s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content input[type="checkbox"]:checked {
      background-color: #007b5e;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="12" height="12"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
    }

    .dark-mode .modal-content input[type="checkbox"] {
      background-color: #2c2c2c;
      border-color: #0c8;
    }

    .dark-mode .modal-content input[type="checkbox"]:checked {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .dark-mode .modal-content select:hover {
      border-color: #0a6;
    }

    .modal-content select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .modal-content button {
      margin-top: 1rem;
      margin-right: 0.5rem;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .modal-content button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .navigation a {
      color: #007b5e;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .navigation a { color: #0c8; }

    .hidden { display: none; }

    @media (max-width: 600px) {
      .navbar h1 {
        font-size: 1.25rem;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #f0f0f0;
        position: absolute;
        top: 60px;
        left: 0;
        padding: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        z-index: 1000;
      }

      .dark-mode .nav-links {
        background-color: #2c2c2c;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }

      .theme-toggle {
        margin: 0;
      }

      .menu-toggle {
        display: block;
      }

      .lang-select select {
        padding: 0.5rem 1.8rem 0.5rem 0.8rem;
        font-size: 0.9rem;
        background-size: 16px;
      }

      .hadith-info h1 {
        font-size: 1.5rem;
      }

      .arabic {
        font-size: 1.5rem;
      }
    }

    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background-color: #007b5e;
      z-index: 1001;
      transition: width 0.25s ease;
    }

    .dark-mode #progress-bar {
      background-color: #0c8;
    }

    #scrollToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    #scrollToTop:hover {
      background-color: #005f4a;
      transform: scale(1.1);
    }

    #scrollToTop.show {
      display: block;
    }

    .dark-mode #scrollToTop {
      background-color: #0c8;
    }

    .dark-mode #scrollToTop:hover {
      background-color: #0a6;
    }
  </style>
</head>
<body>
  <div id="progress-bar"></div>
  <!-- Navbar -->
  <nav class="navbar">
    <h1>MuslimBro1400</h1>
    <button class="menu-toggle" onclick="toggleMenu()">
      <img src="menu.png" alt="Menu" />
    </button>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="quran.html">Quran</a>
      <a href="hadith.html">Hadith</a>
      <a href="islamic-books.html">Islamic Books</a>
      <a href="quran-recitations.html">Quran Recitations</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <img id="theme-icon" src="moon.png" alt="Toggle Theme" title="Toggle light/dark mode" />
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container">
    <div class="hadith-info">
      <h1>Book 1: Revelation <span class="arabic">(كتاب بدء الوحى)</span></h1>
      <p class="subtitle">Chapter: Start of Divine Revelation</p>
      <p class="meta">7 Hadiths</p>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-button active" onclick="switchTab('read')">Read</button>
        <button class="tab-button" onclick="switchTab('translate')">Translation</button>
      </div>





      <!-- Language Selector -->
      <div class="lang-select hidden" id="languageSelector">
        <label for="language">Translation Language:</label>
        <select id="language" onchange="renderTranslation()">
          <option value="en">English</option>
          <option value="ur">Urdu</option>
        </select>
      </div>

      <!-- Go to Hadith -->
      <div class="go-to-hadith">
        <label for="hadith-number">Go to Hadith:</label>
        <input type="number" id="hadith-number" min="1" max="7" placeholder="1-7">
        <button onclick="goToHadith()">Go</button>
      </div>
    </div>

    <!-- Navigation above hadith container -->
    <div class="navigation">
      <a href="bukhari.html">Back to Bukhari</a>
      <a href="bukhari-chp2.html">Next Chapter</a>
    </div>

    <br>

    <!-- Arabic Tab -->
    <div id="read-tab"></div>

    <!-- Translation Tab -->
    <div id="translate-tab" class="hidden"></div>

    <!-- Navigation below hadith container -->
    <div class="navigation">
      <a href="bukhari.html">Back to Bukhari</a>
      <a href="bukhari-chp2.html">Next Chapter</a>
    </div>
  </div>


  <!-- Share Modal -->
  <div id="share-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Share Hadith</h2>
      <div>
        <label>
          <input type="checkbox" id="include-arabic" checked> Include Arabic Text
        </label>
      </div>
      <div>
        <label>
          <input type="checkbox" id="include-translation" checked> Include Translation
        </label>
      </div>
      <div>
        <label for="share-language">Translation Language:</label>
        <select id="share-language">
          <option value="en">English</option>
          <option value="ur">Urdu</option>
        </select>
      </div>
      <button onclick="shareHadith()">Share</button>
      <button onclick="closeShareModal()">Cancel</button>
      <div id="copy-message" class="hidden" style="color: #0c8; margin-top: 1rem; font-weight: bold;">Text copied to clipboard!</div>
    </div>
  </div>

  <script>
    const unfavoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const favoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="#0c8" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const unbookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#00CC88" stroke-width="66.66" stroke-miterlimit="10" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;
    const bookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#00CC88" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;

    // Favorites and Bookmarks storage
    let favoritedHadiths = JSON.parse(localStorage.getItem('favoritedHadiths')) || [];
    let bookmarkedHadiths = JSON.parse(localStorage.getItem('bookmarkedHadiths')) || [];

    const hadiths = [
      {
        id: 1,
        volume: 1,
        arabic: "كَيْفَ كَانَ بَدْءُ الوَحْيِ إِلَى رَسُولِ اللَّهِ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ",
        en: "How the Divine Revelation started being revealed to Allah's Messenger (peace be upon him).",
        ur: "اللہ کے رسول صلی اللہ علیہ وسلم پر وحی کا آغاز کیسے ہوا۔",
      },
      {
        id: 2,
        volume: 1,
        arabic: "إِنَّمَا الأَعْمَالُ بِالنِّيَّاتِ وَإِنَّمَا لِكُلِّ امْرِئٍ مَا نَوَى",
        en: "Actions are judged by intentions, and every person will get what they intended.",
        ur: "عمل نیتوں پر مبنی ہیں، اور ہر شخص کو وہی ملے گا جو اس نے نیت کی۔",
      },
      {
        id: 3,
        volume: 1,
        arabic: "أَوَّلُ مَا بُدِئَ بِهِ رَسُولُ اللَّهِ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ مِنَ الوَحْيِ الرُّؤْيَا الصَّالِحَةُ",
        en: "The first revelation to Allah's Messenger (peace be upon him) was a true dream.",
        ur: "اللہ کے رسول صلی اللہ علیہ وسلم پر وحی کا آغاز سچے خواب سے ہوا۔",
      },
      {
        id: 4,
        volume: 1,
        arabic: "أَوَّلُ مَا بُدِئَ بِهِ رَسُولُ اللَّهِ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ مِنَ الوَحْيِ الرُّؤْيَا الصَّالِحَةُ فِي النَّوْمِ فَكَانَ لاَ يَرَى رُؤْيَا إِلاَّ جَاءَتْ مِثْلَ فَلَقِ الصُّبْحِ",
        en: "The first thing that was revealed to Allah's Messenger (peace be upon him) was the true dream in his sleep, so he never saw a dream but it came like the break of dawn.",
        ur: "اللہ کے رسول صلی اللہ علیہ وسلم پر وحی کا آغاز نیند میں سچے خواب سے ہوا، تو وہ کوئی خواب نہیں دیکھتے تھے مگر وہ صبح کی روشنی کی طرح آتا تھا۔",
      },
      {
        id: 5,
        volume: 1,
        arabic: "ثُمَّ حُبِّبَ إِلَيْهِ الْخَلَاءُ وَكَانَ يَخْلُو بِغَارِ حِرَاءٍ فَيَتَحَنَّثُ فِيهِ وَيَتَعَبَّدُ لَيَالِيَ ذَوَاتِ الْعَدَدِ قَبْلَ أَنْ يَنْزِعَ إِلَى أَهْلِهِ وَيَتَزَوَّدُ لِذَلِكَ ثُمَّ يَرْجِعُ إِلَى خَدِيجَةَ فَيَتَزَوَّدُ لِمِثْلِهَا حَتَّى جَاءَهُ الْحَقُّ وَهُوَ فِي غَارِ حِرَاءٍ",
        en: "Then seclusion was made beloved to him, and he used to seclude himself in the cave of Hira, where he would worship for several nights before returning to his family, and he would take provisions for that. Then he would return to Khadijah and take provisions for a similar period, until the truth came to him while he was in the cave of Hira.",
        ur: "پھر انہیں تنہائی پسند آئی، اور وہ غار حراء میں تنہا رہتے تھے جہاں وہ کئی راتیں عبادت کرتے تھے اس سے پہلے کہ اپنے گھر والوں کے پاس لوٹتے، اور اس کے لیے سامان لے لیتے تھے۔ پھر وہ خدیجہ کے پاس لوٹتے اور اسی طرح کے لیے سامان لے لیتے یہاں تک کہ انہیں غار حراء میں حق آیا۔",
      },
      {
        id: 6,
        volume: 1,
        arabic: "فَجَاءَهُ الْمَلَكُ فَقَالَ اقْرَأْ قَالَ مَا أَنَا بِقَارِئٍ قَالَ فَأَخَذَنِي فَغَطَّنِي حَتَّى بَلَغَ مِنِّي الْجَهْدَ ثُمَّ أَرْسَلَنِي فَقَالَ اقْرَأْ قَالَ مَا أَنَا بِقَارِئٍ فَأَخَذَنِي فَغَطَّنِي الثَّانِيَةَ حَتَّى بَلَغَ مِنِّي الْجَهْدَ ثُمَّ أَرْسَلَنِي فَقَالَ اقْرَأْ فَقُلْتُ مَا أَنَا بِقَارِئٍ فَأَخَذَنِي فَغَطَّنِي الثَّالِثَةَ حَتَّى بَلَغَ مِنِّي الْجَهْدَ ثُمَّ أَرْسَلَنِي فَقَالَ اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ",
        en: "Then the angel came to him and said, 'Read!' He said, 'I am not a reader.' So he took me and squeezed me until I reached the limit of my strength, then he released me and said, 'Read!' I said, 'I am not a reader.' So he took me and squeezed me a second time until I reached the limit of my strength, then he released me and said, 'Read!' I said, 'I am not a reader.' So he took me and squeezed me a third time until I reached the limit of my strength, then he released me and said, 'Read in the name of your Lord who created.'",
        ur: "پھر فرشتہ ان کے پاس آیا اور کہا اقرأ (پڑھو) انہوں نے کہا میں پڑھنے والا نہیں ہوں۔ تو اس نے مجھے پکڑا اور دبانا شروع کیا یہاں تک کہ مجھ سے طاقت نکل گئی پھر مجھے چھوڑا اور کہا اقرأ میں نے کہا میں پڑھنے والا نہیں ہوں۔ تو اس نے مجھے دوسری بار پکڑا اور دبانا شروع کیا یہاں تک کہ مجھ سے طاقت نکل گئی پھر مجھے چھوڑا اور کہا اقرأ میں نے کہا میں پڑھنے والا نہیں ہوں۔ تو اس نے مجھے تیسر ی بار پکڑا اور دبانا شروع کیا یہاں تک کہ مجھ سے طاقت نکل گئی پھر مجھے چھوڑا اور کہا اقرأ بسم ربک الذی خلق (اپنے رب کے نام سے پڑھو جس نے پیدا کیا)",
      },
      {
        id: 7,
        volume: 1,
        arabic: "فَرَجَعَ بِهَا رَسُولُ اللَّهِ صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمَ يَرْجُفُ فُؤَادُهُ حَتَّى دَخَلَ عَلَى خَدِيجَةَ بِنْتِ خُوَيْلِدٍ فَقَالَ زَمِّلُونِي زَمِّلُونِي فَزَمَّلُوهُ حَتَّى ذَهَبَ عَنْهُ الرَّوْعُ ثُمَّ قَالَ لِخَدِيجَةَ مَا لِي يَا خَدِيجَةُ فَأَخْبَرَهَا الْخَبَرَ فَقَالَتْ خَدِيجَةُ كَلَّا وَاللَّهِ مَا يُخْزِيكَ اللَّهُ أَبَدًا إِنَّكَ لَتَصِلُ الرَّحِمَ وَتَحْمِلُ الْكَلَّ وَتَكْسِبُ الْمَعْدُومَ وَتَقْرِي الضَّيْفَ وَتُعِينُ عَلَى نَوَائِبِ الْحَقِّ",
        en: "So Allah's Messenger (peace be upon him) returned with it, his heart trembling, until he entered upon Khadijah bint Khuwaylid and said, 'Cover me, cover me!' So they covered him until the fear went away from him. Then he said to Khadijah, 'What is wrong with me, O Khadijah?' So he informed her of the news. Khadijah said, 'No, by Allah, Allah will never disgrace you. Indeed, you maintain the ties of kinship, carry the burden, earn for the destitute, honor the guest, and help in the calamities of truth.'",
        ur: "تو اللہ کے رسول صلی اللہ علیہ وسلم اس کے ساتھ لوٹے ان کا دل کانپ رہا تھا یہاں تک کہ وہ خدیجہ بنت خویلد کے پاس داخل ہوئے اور کہا مجھے ڈھانپ دو مجھے ڈھانپ دو تو انہوں نے انہیں ڈھانپ دیا یہاں تک کہ ان سے خوف دور ہو گیا پھر انہوں نے خدیجہ سے کہا مجھے کیا ہوا ہے اے خدیجہ تو انہوں نے انہیں خبر بتائی تو خدیجہ نے کہا نہیں اللہ کی قسم اللہ آپ کو کبھی رسوا نہیں کرے گا بے شک آپ رشتے جوڑتے ہیں بوجھ اٹھاتے ہیں بے آسرا کے لیے کماتے ہیں مہمان کا احترام کرتے ہیں اور حق کی مصیبتوں میں مدد کرتے ہیں۔",
      }
    ];

    const readTab = document.getElementById('read-tab');
    const translateTab = document.getElementById('translate-tab');
    const langSelect = document.getElementById('language');
    const langWrapper = document.getElementById('languageSelector');

    function toggleFavorite(hadithId) {
      const index = favoritedHadiths.indexOf(hadithId);
      if (index > -1) {
        favoritedHadiths.splice(index, 1);
      } else {
        favoritedHadiths.push(hadithId);
      }
      localStorage.setItem('favoritedHadiths', JSON.stringify(favoritedHadiths));
      if (!translateTab.classList.contains('hidden')) {
        renderTranslation();
      } else {
        renderReadTab();
      }
    }

    function toggleBookmark(hadithId) {
      const index = bookmarkedHadiths.indexOf(hadithId);
      if (index > -1) {
        bookmarkedHadiths.splice(index, 1);
      } else {
        bookmarkedHadiths.push(hadithId);
      }
      localStorage.setItem('bookmarkedHadiths', JSON.stringify(bookmarkedHadiths));
      if (!translateTab.classList.contains('hidden')) {
        renderTranslation();
      } else {
        renderReadTab();
      }
    }

    function renderReadTab() {
      readTab.innerHTML = '';
      hadiths.forEach(hadith => {
        const isFavorited = favoritedHadiths.includes(hadith.id);
        const isBookmarked = bookmarkedHadiths.includes(hadith.id);
        const div = document.createElement('div');
        div.className = 'hadith';
        div.id = `hadith${hadith.id}`;
        div.innerHTML = `
          <div class="hadith-number">Hadith ${hadith.id}</div>
          <div class="arabic">${hadith.arabic}</div>
          <div class="hadith-meta">
            <p>Book: Sahih al-Bukhari | Volume: ${hadith.volume} | Hadith: ${hadith.id}</p>
          </div>
          <button class="favorite-btn" onclick="toggleFavorite(${hadith.id})">${isFavorited ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${hadith.id})">${isBookmarked ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${hadith.id}, 'read')" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        readTab.appendChild(div);
      });
    }

    function renderTranslation() {
      const lang = langSelect.value;
      translateTab.innerHTML = '';
      hadiths.forEach(hadith => {
        const isFavorited = favoritedHadiths.includes(hadith.id);
        const isBookmarked = bookmarkedHadiths.includes(hadith.id);
        const div = document.createElement('div');
        div.className = `hadith translation ${lang}`;
        div.id = `hadith${hadith.id}`;
        div.innerHTML = `
          <div class="hadith-number">Hadith ${hadith.id}</div>
          <div class="translation">${hadith[lang]}</div>
          <div class="hadith-meta">
            <p>Book: Sahih al-Bukhari | Volume: ${hadith.volume} | Hadith: ${hadith.id}</p>
          </div>
          <button class="favorite-btn" onclick="toggleFavorite(${hadith.id})">${isFavorited ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${hadith.id})">${isBookmarked ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${hadith.id}, 'translate')" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        translateTab.appendChild(div);
      });
    }



    function switchTab(tab) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tabs button')[tab === 'read' ? 0 : 1].classList.add('active');

      if (tab === 'read') {
        readTab.classList.remove('hidden');
        translateTab.classList.add('hidden');
        langWrapper.classList.add('hidden');
        renderReadTab();
      } else {
        readTab.classList.add('hidden');
        translateTab.classList.remove('hidden');
        langWrapper.classList.remove('hidden');
        renderTranslation();
      }
    }

    function setThemeIcon() {
      const icon = document.getElementById('theme-icon');
      icon.classList.remove('rotate');
      void icon.offsetWidth;
      icon.classList.add('rotate');
      icon.src = document.body.classList.contains('dark-mode')
        ? "sun.png"
        : "moon.png";
      icon.alt = document.body.classList.contains('dark-mode')
        ? "Switch to light mode"
        : "Switch to dark mode";
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      setThemeIcon();
    }

    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    function openShareModal(hadithId, tab) {
      const modal = document.getElementById('share-modal');
      modal.classList.remove('hidden');
      // Store the current hadith and tab for sharing
      modal.dataset.hadithId = hadithId;
      modal.dataset.tab = tab;
    }

    function closeShareModal() {
      const modal = document.getElementById('share-modal');
      modal.classList.add('hidden');
    }

    function goToHadith() {
      const hadithNumber = parseInt(document.getElementById('hadith-number').value);
      if (isNaN(hadithNumber) || hadithNumber < 1 || hadithNumber > 7) {
        alert('Please enter a valid hadith number between 1 and 7.');
        return;
      }

      // Determine which tab is active
      const activeTab = translateTab.classList.contains('hidden') ? readTab : translateTab;
      const hadithElements = activeTab.querySelectorAll('.hadith');

      if (hadithElements[hadithNumber - 1]) {
        hadithElements[hadithNumber - 1].scrollIntoView({ behavior: 'smooth' });

        // Highlight the hadith temporarily
        hadithElements[hadithNumber - 1].style.backgroundColor = '#005f4a';
        setTimeout(() => {
          hadithElements[hadithNumber - 1].style.backgroundColor = '';
        }, 2000);
      }
    }

    function shareHadith() {
      const modal = document.getElementById('share-modal');
      const hadithId = parseInt(modal.dataset.hadithId);
      const tab = modal.dataset.tab;
      const hadith = hadiths.find(h => h.id === hadithId);

      const includeArabic = document.getElementById('include-arabic').checked;
      const includeTranslation = document.getElementById('include-translation').checked;
      const shareLang = document.getElementById('share-language').value;

      let shareText = `Hadith ${hadith.id}\n`;
      shareText += `Book: Sahih al-Bukhari | Volume: ${hadith.volume} | Hadith: ${hadith.id}\n\n`;

      if (includeArabic) {
        shareText += `${hadith.arabic}\n\n`;
      }

      if (includeTranslation) {
        shareText += `${hadith[shareLang]}\n\n`;
      }

      shareText += `https://adil43534.github.io/Muslimbro1400.com/`;

      // Copy to clipboard
      navigator.clipboard.writeText(shareText).then(() => {
        const copyMessage = document.getElementById('copy-message');
        copyMessage.classList.remove('hidden');
        setTimeout(() => {
          copyMessage.classList.add('hidden');
          closeShareModal();
        }, 3000); // Hide message and close modal after 3 seconds
      });
    }



    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
      renderReadTab();
      // Scroll to the hadith if redirected with hash
      const hash = window.location.hash;
      if (hash.startsWith('#hadith')) {
        setTimeout(() => {
          const element = document.getElementById(hash.substring(1));
          if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Highlight the hadith temporarily
            element.style.backgroundColor = '#005f4a';
            setTimeout(() => {
              element.style.backgroundColor = '';
            }, 2000);
          }
        }, 100);
      }
    };
  </script>

  <!-- Scroll to Top Button -->
  <button id="scrollToTop">↑</button>

  <script>
    // Scroll to Top functionality
    window.addEventListener('scroll', function() {
      const scrollToTopBtn = document.getElementById('scrollToTop');
      if (window.pageYOffset > 100) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }

      // Update progress bar
      const progressBar = document.getElementById('progress-bar');
      const totalHeight = document.body.scrollHeight - window.innerHeight;
      const progress = (window.pageYOffset / totalHeight) * 100;
      progressBar.style.width = progress + '%';
    });

    document.getElementById('scrollToTop').addEventListener('click', function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
