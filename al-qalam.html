<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>68. Surah: Al-Qalam 1-52 - MuslimBro1400</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600&family=Noto+Naskh+Arabic:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.png" type="image/x-icon">

  <style>
    /* Jameel Noori Nastaleeq Custom Font Face */
    @font-face {
      font-family: 'Jameel Noori Nastaleeq';
      src: url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff2') format('woff2'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff') format('woff'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.ttf') format('truetype');
      font-display: swap;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background-color: #007b5e;
      z-index: 1001;
      transition: width 0.25s ease;
    }

    .dark-mode #progress-bar {
      background-color: #0c8;
    }

    .navbar {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #f0f0f0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.5s ease;
    }

    .dark-mode .navbar { background-color: #2c2c2c; }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-links a {
      margin-left: 1rem;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .dark-mode .nav-links a { color: #e0e0e0; }

    .nav-links a:hover {
      color: #007b5e;
    }

    .theme-toggle {
      cursor: pointer;
      margin-left: 1rem;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .theme-toggle img.rotate {
      transform: rotate(180deg);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
    }

    .menu-toggle img {
      width: 24px;
      height: 24px;
    }

    .container {
      padding: 2rem 1rem;
      max-width: 800px;
      margin: auto;
    }

    .surah-info {
      text-align: center;
      margin-bottom: 2rem;
    }

    .surah-info h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      font-family: 'Amiri', serif;
    }

    .meaning {
      font-style: italic;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meaning { color: #bbb; }

    .meta {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #888;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meta { color: #aaa; }

    .bismillah {
      margin-top: 1.5rem;
      font-size: 1.5rem;
      color: #007b5e;
      font-weight: bold;
      font-family: 'Amiri', serif;
    }

    .dark-mode .bismillah { color: #0c8; }

    .ayah {
      background-color: #fff;
      padding: 3rem 3rem 3rem 3rem;
      margin-bottom: 1rem;
      border-left: 4px solid #007b5e;
      border-radius: 6px;
      position: relative;
    }

    .dark-mode .ayah {
      background-color: #2c2c2c;
      border-left-color: #0c8;
    }

    .ayah-number {
      position: absolute;
      top: 1rem;
      left: 1rem;
      font-size: 0.9rem;
      color: #007b5e;
      text-align: left;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .ayah-number { color: #0c8; }

    .arabic {
      font-size: 1.8rem;
      text-align: right;
      direction: rtl;
      font-family: 'Amiri', serif;
    }

    .translation {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-size: 1.2rem
    }

    /* Updated Urdu Translation Class */
    .translation.ur {
      text-align: right;
      direction: rtl;
      /* Prioritizing Jameel Noori */
      font-family: 'Jameel Noori Nastaleeq', 'Noto Nastaliq Urdu', serif;
      font-size: 1.5rem;
      line-height: 2.2; /* Increased line-height for Nastaliq script */
      margin-top: 10px;
      color: #444;
    }

    .dark-mode .translation { color: #ccc; }

    .transliteration {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-style: italic;
    }

    .dark-mode .transliteration { color: #ccc; }

    .verse-icon {
      display: inline-block;
      font-size: 1.2rem;
      margin-left: 0.5rem;
      vertical-align: middle;
      color: #007b5e;
      font-family: 'Amiri', serif;
    }

    .dark-mode .verse-icon {
      color: #0c8;
    }

    .favorite-btn, .bookmark-btn, .share-icon {
      position: absolute;
      right: 1rem;
      width: 24px;
      height: 24px;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .favorite-btn:hover, .bookmark-btn:hover, .share-icon:hover {
      opacity: 1;
    }

    .share-icon {
      top: 1rem;
    }

    .favorite-btn {
      top: 3rem;
    }

    .bookmark-btn {
      top: 5rem;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .navigation a {
      color: #007b5e;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .navigation a { color: #0c8; }

    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
      gap: 1rem;
    }

    .tab-button {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tab-button.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .tab-button {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .tab-button.active {
      background-color: #0c8;
    }

    .transliteration-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .transliteration-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .transliteration-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .transliteration-toggle.active {
      background-color: #0c8;
    }

    .translation-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .translation-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .translation-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .translation-toggle.active {
      background-color: #0c8;
    }

    .lang-select, .audio-select {
      margin-top: 1rem;
      text-align: center;
    }

    .lang-select label, .audio-select label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .lang-select label, .dark-mode .audio-select label {
      color: #e0e0e0;
    }

    .lang-select select, .audio-select select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .audio-select button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .audio-select button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .audio-select button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .audio-select button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .dark-mode .lang-select select, .dark-mode .audio-select select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .lang-select select:hover, .audio-select select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .lang-select select:hover, .dark-mode .audio-select select:hover {
      border-color: #0a6;
    }

    .lang-select select:focus, .audio-select select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .lang-select select:focus, .dark-mode .audio-select select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .hidden { display: none; }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      max-width: 600px;
      width: 90%;
      position: relative;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .dark-mode .modal-content {
      background-color: #2c2c2c;
      color: #e0e0e0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
    }

    .modal-content iframe {
      border-radius: 8px;
      border: none;
      width: 100%;
      height: 60px;
    }

    .modal-content button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
    }

    .dark-mode .modal-content button:hover {
      background-color: #0a6;
    }

        .go-to-verse {
      margin-top: 1rem;
      text-align: center;
    }

    .go-to-verse label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .go-to-verse label {
      color: #e0e0e0;
    }

    .go-to-verse input {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 80px;
      text-align: center;
    }

    .dark-mode .go-to-verse input {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .go-to-verse input:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse input:hover {
      border-color: #0a6;
    }

    .go-to-verse input:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .go-to-verse input:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .go-to-verse button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .go-to-verse button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .go-to-verse button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    /* Scroll to Top Button */
    #scrollToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    #scrollToTop:hover {
      background-color: #005f4a;
    }

    #scrollToTop.show {
      opacity: 1;
      visibility: visible;
    }

    .dark-mode #scrollToTop {
      background-color: #0c8;
    }

    .dark-mode #scrollToTop:hover {
      background-color: #0a6;
    }

    /* Share Modal Styling */
    .modal-content h2 {
      margin-top: 0;
      color: #333;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .modal-content h2 {
      color: #e0e0e0;
    }

    .modal-content div {
      margin-bottom: 1rem;
      text-align: left;
    }

    .modal-content label {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
      cursor: pointer;
    }

    .dark-mode .modal-content label {
      color: #e0e0e0;
    }

    .modal-content input[type="checkbox"] {
      margin-right: 0.5rem;
      width: 18px;
      height: 18px;
      border: 2px solid #007b5e;
      border-radius: 4px;
      background-color: #fff;
      cursor: pointer;
      transition: border-color 0.3s ease, background-color 0.3s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content input[type="checkbox"]:checked {
      background-color: #007b5e;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="12" height="12"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
    }

    .dark-mode .modal-content input[type="checkbox"] {
      background-color: #2c2c2c;
      border-color: #0c8;
    }

    .dark-mode .modal-content input[type="checkbox"]:checked {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .dark-mode .modal-content select:hover {
      border-color: #0a6;
    }

    .modal-content select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .modal-content button {
      margin-top: 1rem;
      margin-right: 0.5rem;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .modal-content input[type="text"] {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 100%;
      box-sizing: border-box;
    }

    .modal-content input[type="text"]:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content input[type="text"] {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .dark-mode .modal-content input[type="text"]:hover {
      border-color: #0a6;
    }

    .modal-content input[type="text"]:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content input[type="text"]:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    @media (max-width: 600px) {
      .navbar h1 {
        font-size: 1.25rem;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #f0f0f0;
        position: absolute;
        top: 60px;
        left: 0;
        padding: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        z-index: 1000;
      }

      .dark-mode .nav-links {
        background-color: #2c2c2c;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }

      .theme-toggle {
        margin: 0;
      }

      .menu-toggle {
        display: block;
      }

      .lang-select select, .audio-select select {
        padding: 0.5rem 1.8rem 0.5rem 0.8rem;
        font-size: 0.9rem;
        background-size: 16px;
      }

      .surah-info h1 {
        font-size: 1.5rem;
      }

      .bismillah {
        font-size: 1.3rem;
      }

      .arabic {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div id="progress-bar"></div>
  <!-- Navbar -->
  <nav class="navbar">
    <h1>MuslimBro1400</h1>
    <button class="menu-toggle" onclick="toggleMenu()">
      <img src="menu.png" alt="Menu" />
    </button>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="quran.html">Quran</a>
      <a href="hadith.html">Hadiths</a>
      <a href="islamic-books.html">Books</a>
      <a href="quran-recitations.html">Recitations</a>
      <a href="islamic-calendar.html">Calendar</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <img id="theme-icon" src="moon.png" alt="Toggle Theme" title="Toggle light/dark mode" />
      </button>
    </div>
  </nav>

  <!-- Content -->
  <div class="container">
    <div class="surah-info">
      <h1>Surah Al-Qalam (سورة القلم)</h1>
      <p class="meaning">Meaning: The Pen</p>
      <p class="meta">Mecca - 52 Verses</p>
      
      <div class="audio-select">
        <label for="reciter">Reciter:</label>
        <select id="reciter" onchange="changeReciter()">
          <option value="saadalghamdi">Saad Al Ghamdi</option>
        </select>
        <br><br>
        <button id="playButton" onclick="playAudio()">Play Audio</button>
      </div>
      
      <p class="bismillah">بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ</p>

            <!-- Transliteration Toggle -->
      <button id="transliteration-toggle" class="transliteration-toggle" onclick="toggleTransliteration()">Show Transliteration</button>

      <!-- Translation Toggle -->
      <button id="translation-toggle" class="translation-toggle" onclick="toggleTranslation()">Show Translation</button>

      <!-- Language Selector -->
      <div class="lang-select hidden" id="languageSelector">
        <label for="language">Translation Language:</label>
        <select id="language" onchange="changeLanguage()"></select>
      </div>
      
               <!-- Go to Verse -->
      <div class="go-to-verse">
        <label for="verse-number">Go to Verse:</label>
        <input type="number" id="verse-number" min="1" max="52" placeholder="1-52">
        <button onclick="goToVerse()">Go</button>
      </div>

      <div class="navigation">
        <a href="al-mulk.html">← Surah Al-Mulk</a>
        <a href="al-haqqah.html">Next: Surah Al-Haqqah →</a>
      </div>
    </div>

    <!-- Arabic Tab -->
    <div id="read-tab"></div>

    <!-- Translation Tab -->
    <div id="translate-tab" class="hidden"></div>

    <div class="navigation">
      <a href="al-mulk.html">← Surah Al-Mulk</a>
      <a href="al-haqqah.html">Next: Surah Al-Haqqah →</a>
    </div>
  </div>

  <!-- Audio Modal -->
  <div id="audioModal" class="modal" style="display: none;">
    <div class="modal-content">
      <iframe src="https://archive.org/embed/068_20260102" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen></iframe>
      <br><br>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>

    <!-- Share Modal -->
  <div id="shareModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Share Ayah Options</h2>
      <div>
        <label><input type="checkbox" id="includeTransliteration"> Include Transliteration</label>
      </div>
      <div>
        <label><input type="checkbox" id="includeTranslation" onchange="toggleLanguageSelect()"> Include Translation</label>
      </div>
      <div id="languageSelectDiv" style="display: none;">
        <label for="shareLanguage">Translation Language:</label>
        <select id="shareLanguage">
          <option value="en">English</option>
          <option value="ur">Urdu</option>
        </select>
      </div>
      <br>
      <div id="shareMessage" style="display: none; margin-top: 1rem; text-align: center; font-weight: bold;"></div>
      <button onclick="generateAndCopyText()">Copy Text</button>
      <button onclick="closeShareModal()">Cancel</button>
    </div>
  </div>

    <!-- Scroll to Top Button -->
  <button id="scrollToTop" onclick="scrollToTop()">↑</button>

  <script>
    const unfavoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const favoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="#0c8" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const unbookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#00CC88" stroke-width="66.66" stroke-miterlimit="10" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;
    const bookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#00CC88" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;

    const ayahs = [
      {
        arabic: "ن ۚ وَالقَلَمِ وَما يَسطُرونَ",
        en: "Nũn. By the pen and what everyone writes!",
        ur: "ن قسم ہے قلم کی اور جو کچھ یہ لکھتے ہیں۔",
        trans: "Noon; walqalami wa maa yasturoon"
      },
      {
        arabic: "ما أَنتَ بِنِعمَةِ رَبِّكَ بِمَجنونٍ",
        en: "By the grace of your Lord, you ˹O Prophet˺ are not insane.",
        ur: "آپ اپنے رب کے فضل و کرم سے مجنون نہیں ہیں۔",
        trans: "Maa anta bini’mati Rabbika bimajnoon"
      },
      {
        arabic: "وَإِنَّ لَكَ لَأَجرًا غَيرَ مَمنونٍ",
        en: "You will certainly have a never-ending reward.",
        ur: "اور یقینا آپ کے لیے تو وہ اجر ہے جس کا سلسلہ کبھی منقطع نہیں ہوگا۔",
        trans: "Wa inna laka la ajran ghaira mamnoon"
      },
      {
        arabic: "وَإِنَّكَ لَعَلىٰ خُلُقٍ عَظيمٍ",
        en: "And you are truly ˹a man˺ of outstanding character.",
        ur: "اور آپ ﷺ یقینا اخلاق کے بلند ترین مرتبے پر فائز ہیں۔",
        trans: "Wa innaka la’alaa khuluqin ‘azeem"
      },
      {
        arabic: "فَسَتُبصِرُ وَيُبصِرونَ",
        en: "Soon you and the pagans will see,",
        ur: "تو عنقریب آپ ﷺ بھی دیکھ لیں گے اور وہ بھی دیکھ لیں گے۔",
        trans: "Fasatubsiru wa yubsiroon"
      },
      {
        arabic: "بِأَييِكُمُ المَفتونُ",
        en: "which of you is mad.",
        ur: "!کہ تم میں سے کون فتنے میں مبتلا تھا",
        trans: "Bi ayyikumul maftoon"
      },
      {
        arabic: "إِنَّ رَبَّكَ هُوَ أَعلَمُ بِمَن ضَلَّ عَن سَبيلِهِ وَهُوَ أَعلَمُ بِالمُهتَدينَ",
        en: "Surely your Lord ˹alone˺ knows best who has strayed from His Way and who is ˹rightly˺ guided.",
        ur: "یقینا آپ ﷺ کا رب خوب جانتا ہے کہ کون اس کی راہ سے بھٹک گیا ہے اور وہ ان کو بھی خوب جانتا ہے جو ہدایت یافتہ ہیں۔",
        trans: "Innaa Rabbaka Huwa a’lamu biman dalla ‘an sabeelihee wa Huwa a’lamu bilmuhtadeen"
      },  
      {
        arabic: "فَلا تُطِعِ المُكَذِّبينَ",
        en: "So do not give in to the deniers.",
        ur: "تو (اے نبی ﷺ !) آپ ان جھٹلانے والوں کی باتوں پر دھیان نہ دیں۔",
        trans: "Falaa tuti’il mukazzibeen"
      },
      {
        arabic: "وَدّوا لَو تُدهِنُ فَيُدهِنونَ",
        en: "They wish you would compromise so they would yield ˹to you˺.",
        ur: "وہ تو چاہتے ہیں کہ آپ ﷺ ذرا ڈھیلے پڑیں تو وہ بھی ڈھیلے پڑجائیں۔",
        trans: "Waddoo law tudhinu fa-yudhinoon"
      },
      {
        arabic: "وَلا تُطِع كُلَّ حَلّافٍ مَهينٍ",
        en: "And do not obey the despicable, vain oath-taker,",
        ur: "اور آپ ﷺ مت مانیے کسی ایسے شخص کی بات جو بہت قسمیں کھانے والا انتہائی گھٹیا ہے۔",
        trans: "Wa laa tuti’ kulla hallaa fim maheen"
      },
      {
        arabic: "هَمّازٍ مَشّاءٍ بِنَميمٍ",
        en: "slanderer, gossip-monger,",
        ur: "رُو در رُو طعنے دیتا ہے چغلیاں کھاتا پھرتا ہے۔",
        trans: "Hammaazim mash shaaa’im binameem"
      },
      {
        arabic: "مَنّاعٍ لِلخَيرِ مُعتَدٍ أَثيمٍ",
        en: "withholder of good, transgressor, evildoer,",
        ur: "خیر سے روکنے والا حد سے بڑھنے والا گنہگار۔",
        trans: "Mannaa’il lilkhairi mu’tadin aseem"
      },
      {
        arabic: "عُتُلٍّ بَعدَ ذٰلِكَ زَنيمٍ",
        en: "brute, and—on top of all that—an illegitimate child.",
        ur: "بالکل گنوار ہے اس کے بعد یہ کہ بداصل بھی ہے۔",
        trans: "‘Utullim ba’da zaalika zaneem"
      },
      {
        arabic: "أَن كانَ ذا مالٍ وَبَنينَ",
        en: "Now, ˹simply˺ because he has been blessed with ˹abundant˺ wealth and children,",
        ur: "صرف اس گھمنڈ پر کہ وہ مال و دولت اور بیٹوں والا ہے۔",
        trans: "An kaana zaa maalinw-wa baneen"
      },
      {
        arabic: "إِذا تُتلىٰ عَلَيهِ آياتُنا قالَ أَساطيرُ الأَوَّلينَ",
        en: "whenever Our revelations are recited to him, he says, “Ancient fables!”",
        ur: "جب اسے ہماری آیات پڑھ کر سنائی جاتی ہیں تو وہ کہتا ہے کہ یہ تو پہلے لوگوں کی کہانیاں ہیں۔",
        trans: "Izaa tutlaa ‘alaihi aayaatunaa qaala asaateerul awwaleen"
      },
      {
        arabic: "سَنَسِمُهُ عَلَى الخُرطومِ",
        en: "We will soon mark his snout.",
        ur: "ہم عنقریب اس کی سونڈ پر داغ لگائیں گے۔",
        trans: "Sanasimuhoo ‘alal khurtoom"
      },
      {
        arabic: "إِنّا بَلَوناهُم كَما بَلَونا أَصحابَ الجَنَّةِ إِذ أَقسَموا لَيَصرِمُنَّها مُصبِحينَ",
        en: "Indeed, We have tested those ˹Meccans˺ as We tested the owners of the garden—when they swore they would surely harvest ˹all˺ its fruit in the early morning,",
        ur: "یقینا ہم نے ان (اہل مکہ) کو اسی طرح آزمایا ہے جیسے ہم نے باغ والوں کو آزمایا تھا۔ جبکہ انہوں نے قسم کھائی کہ وہ ضرور اس کا پھل اتار لیں گے صبح سویرے۔",
        trans: "Innaa balawnaahum kamaa balawnaaa As-haabal jannati iz ‘aqsamoo la-yasri munnahaa musbiheen"
      },
      {
        arabic: "وَلا يَستَثنونَ",
        en: "leaving no thought for Allah’s Will.",
        ur: "اور انہوں نے (اس پر) ان شاء اللہ بھی نہ کہا۔",
        trans: "Wa laa yastasnoon"
      },
      {
        arabic: "فَطافَ عَلَيها طائِفٌ مِن رَبِّكَ وَهُم نائِمونَ",
        en: "Then it was struck by a torment from your Lord while they slept,",
        ur: "پس ایک پھرنے والا پھر گیا اس (باغ) پر آپ کے رب کی طرف سے جبکہ وہ ابھی سوئے ہوئے ہی تھے۔",
        trans: "Fataafa ‘alaihaa taaa’i fum mir rabbika wa hum naaa’imoon"
      },
      {
        arabic: "فَأَصبَحَت كَالصَّريمِ",
        en: "so it was reduced to ashes.",
        ur: "تو وہ ایسے ہوگیا جیسے کٹی ہوئی فصل ہو۔",
        trans: "Fa asbahat kassareem"
      },
      {
        arabic: "فَتَنادَوا مُصبِحينَ",
        en: "Then by daybreak they called out to each other,",
        ur: "اب صبح ہی صبح انہوں نے ایک دوسرے کو پکارا۔",
        trans: "Fatanaadaw musbiheen"
      },
      {
        arabic: "أَنِ اغدوا عَلىٰ حَرثِكُم إِن كُنتُم صارِمينَ",
        en: "˹saying,˺ “Go early to your harvest, if you want to pick ˹all˺ the fruit.”",
        ur: "کہ صبح سویرے چلو اپنے کھیت کی طرف اگر تم پھل توڑنا چاہتے ہو۔",
        trans: "Anighdoo ‘alaa harsikum in kuntum saarimeen"
      },
      {
        arabic: "فَانطَلَقوا وَهُم يَتَخافَتونَ",
        en: "So they went off, whispering to one another,",
        ur: "چناچہ وہ چلے اور آپس میں چپکے چپکے یہ باتیں کرتے جا رہے تھے۔",
        trans: "Fantalaqoo wa hum yatakhaafatoon"
      },
      {
        arabic: "أَن لا يَدخُلَنَّهَا اليَومَ عَلَيكُم مِسكينٌ",
        en: "“Do not let any poor person enter your garden today.”",
        ur: "کہ دیکھو آج کوئی مسکین تمہارے پاس باغ میں ہرگز داخل نہ ہونے پائے۔",
        trans: "Al laa yadkhulannahal yawma ‘alaikum miskeen"
      },
      {
        arabic: "وَغَدَوا عَلىٰ حَردٍ قادِرينَ",
        en: "And they proceeded early, totally fixated on their purpose.",
        ur: "اور وہ صبح سویرے چلے جلدی جلدی (یہ سمجھتے ہوئے) کہ وہ اس ارادہ پر پوری طرح قادر ہیں۔",
        trans: "Wa ghadaw ‘alaa hardin qaadireen"
      },
      {
        arabic: "فَلَمّا رَأَوها قالوا إِنّا لَضالّونَ",
        en: "But when they saw it ˹devastated˺, they cried, “We must have lost ˹our˺ way!",
        ur: "پھر جب انہوں نے اس (باغ) کو دیکھا تو کہنے لگے کہ ہم تو کہیں بھٹک گئے ہیں۔",
        trans: "Falammaa ra awhaa qaalooo innaa ladaaalloon"
      },
      {
        arabic: "بَل نَحنُ مَحرومونَ",
        en: "In fact, we have been deprived ˹of our livelihood˺.”",
        ur: "نہیں نہیں (باغ تویہی ہے) ہم تو محروم ہوگئے ہیں۔",
        trans: "Bal nahnu mahroomoon"
      },
      {
        arabic: "قالَ أَوسَطُهُم أَلَم أَقُل لَكُم لَولا تُسَبِّحونَ",
        en: "The most sensible of them said, “Did I not urge you to say, ‘Allah willing.’?”",
        ur: "ان کے درمیان والے نے کہا : میں تمہیں کہتا نہ تھا کہ تم (اپنے رب کی) تسبیح کیوں نہیں کرتے ؟",
        trans: "Qaala awsatuhum alam aqul lakum law laa tusabbihoon"
      },
      {
        arabic: "قالوا سُبحانَ رَبِّنا إِنّا كُنّا ظالِمينَ",
        en: "They replied, “Glory be to our Lord! We have truly been wrongdoers.”",
        ur: "انہوں نے کہا (واقعی تم ٹھیک کہتے ہو) ہمارا رب پاک ہے بیشک ہم ہی ظالم تھے۔",
        trans: "Qaaloo subhaana rabbinaaa innaa kunnaa zaalimeen"
      },
      {
        arabic: "فَأَقبَلَ بَعضُهُم عَلىٰ بَعضٍ يَتَلاوَمونَ",
        en: "Then they turned on each other, throwing blame.",
        ur: "پھر وہ آپس میں ایک دوسرے کو ملامت کرنے لگے۔",
        trans: "Fa aqbala ba’duhum ‘alaa ba’diny yatalaawamoon"
      },
      {
        arabic: "قالوا يا وَيلَنا إِنّا كُنّا طاغينَ",
        en: "They said, “Woe to us! We have certainly been transgressors.",
        ur: "(بالآخر اعتراف کرتے ہوئے) وہ کہنے لگے : ہائے ہماری بدبختی ! اصل میں ہم سب ہی اپنی حدود سے تجاوز کرنے والے تھے۔",
        trans: "Qaaloo yaa wailanaaa innaa kunnaa taagheen"
      },
      {
        arabic: "عَسىٰ رَبُّنا أَن يُبدِلَنا خَيرًا مِنها إِنّا إِلىٰ رَبِّنا راغِبونَ",
        en: "We trust our Lord will give us a better garden than this, ˹for˺ we are indeed turning to our Lord with hope.”",
        ur: "اُمید ہے ہمارا رب ہمیں اس سے بہتر عطا کر دے گا اب ہم اپنے رب کی طرف رجوع کرتے ہیں۔",
        trans: "‘Asaa rabbunaaa any yubdilanaa khairam minhaaa innaaa ilaa rabbinaa raaghiboon"
      },
      {
        arabic: "كَذٰلِكَ العَذابُ ۖ وَلَعَذابُ الآخِرَةِ أَكبَرُ ۚ لَو كانوا يَعلَمونَ",
        en: "That is the ˹way of Our˺ punishment ˹in this world˺. But the punishment of the Hereafter is certainly far worse, if only they knew.",
        ur: "اسی طرح آتا ہے عذاب ! اور آخرت کا عذاب تو یقینا بہت ہی بڑا ہے۔",
        trans: "Kazaalikal azaab, wa la’azaabul aakhirati akbar; law kaanoo ya’lamoon"
      },
      {
        arabic: "إِنَّ لِلمُتَّقينَ عِندَ رَبِّهِم جَنّاتِ النَّعيمِ",
        en: "Indeed, the righteous will have the Gardens of Bliss with their Lord.",
        ur: "متقین کے لیے یقینا ان کے رب کے پاس نعمت والے باغات ہیں۔",
        trans: "Inna lilmuttaqeena ‘inda rabbihim jannaatin na’eem"
      },
      {
        arabic: "أَفَنَجعَلُ المُسلِمينَ كَالمُجرِمينَ",
        en: "Should We then treat those who have submitted like the wicked?",
        ur: "کیا ہم اپنے فرمانبرداروں کو مجرموں کے برابر کردیں گے ؟",
        trans: "Afanaj’alul muslimeena kalmujrimeen"
      },
      {
        arabic: "ما لَكُم كَيفَ تَحكُمونَ",
        en: "What is the matter with you? How do you judge?",
        ur: "تمہیں کیا ہوگیا ہے تم کیسے حکم لگاتے ہو ؟",
        trans: "Maa lakum kaifa tahkumoon"
      },
      {
        arabic: "أَم لَكُم كِتابٌ فيهِ تَدرُسونَ",
        en: "Or do you have a scripture, in which you read",
        ur: "کیا تمہارے پاس کوئی کتاب ہے جس میں تم یہ پڑھتے ہو ؟",
        trans: "Am lakum kitaabun feehi tadrusoon"
      },
      {
        arabic: "إِنَّ لَكُم فيهِ لَما تَخَيَّرونَ",
        en: "that you will have whatever you choose?",
        ur: "کہ اس (آخرت) میں تمہیں وہ سب کچھ مل جائے گا جو تم پسند کرو گے",
        trans: "Inna lakum feehi lamaa takhaiyaroon"
      },
      {
        arabic: "أَم لَكُم أَيمانٌ عَلَينا بالِغَةٌ إِلىٰ يَومِ القِيامَةِ ۙ إِنَّ لَكُم لَما تَحكُمونَ",
        en: "Or do you have oaths binding on Us until the Day of Judgment that you will have whatever you decide?",
        ur: "کیا تم نے ہم سے کوئی قسم لے رکھی ہے جو باقی رہنے والی ہو قیامت کے دن تک کہ تمہارے لیے وہی کچھ ہوگا جو تم فیصلہ کرو گے ؟",
        trans: "Am lakum aymaanun ‘alainaa baalighatun ilaa yawmil qiyaamati inna lakum lamaa tahkumoon"
      },
      {
        arabic: "سَلهُم أَيُّهُم بِذٰلِكَ زَعيمٌ",
        en: "Ask them ˹O Prophet˺ which of them can guarantee all that.",
        ur: "(اے نبی ﷺ !) ذرا ان سے پوچھئے کہ ان میں سے کون ہے جو اس کا ضامن ہو ؟",
        trans: "Salhum ayyuhum bizaa lika za’eem"
      },
      {
        arabic: "أَم لَهُم شُرَكاءُ فَليَأتوا بِشُرَكائِهِم إِن كانوا صادِقينَ",
        en: "Or do they have associate-gods ˹supporting this claim˺? Then let them bring forth their associate-gods, if what they say is true.",
        ur: "!کیا ان کے کوئی شریک ہیں ؟ تو لائیں یہ اپنے شریکوں کو اگر یہ سچے ہیں",
        trans: "Am lahum shurakaaa’u fal ya’too bishurakaaa ‘ihim in kaanoo saadiqeen"
      },
      {
        arabic: "يَومَ يُكشَفُ عَن ساقٍ وَيُدعَونَ إِلَى السُّجودِ فَلا يَستَطيعونَ",
        en: "˹Beware of˺ the Day the Shin ˹of Allah˺ will be bared, and the wicked will be asked to prostrate, but they will not be able to do so,",
        ur: "جس دن پنڈلی کھولی جائے گی اور انہیں پکارا جائے گا (اللہ کے حضور) سجدے کے لیے تو وہ کر نہیں سکیں گے۔",
        trans: "Yawma yukshafu ‘an saaqinw wa yud’awna ilas sujoodi falaa yastatee’oon"
      },
      {
        arabic: "خاشِعَةً أَبصارُهُم تَرهَقُهُم ذِلَّةٌ ۖ وَقَد كانوا يُدعَونَ إِلَى السُّجودِ وَهُم سالِمونَ",
        en: "with eyes downcast, totally covered with disgrace. For they were ˹always˺ called to prostrate ˹in the world˺ when they were fully capable ˹but they chose not to˺.",
        ur: "ان کی نگاہیں زمین پر گڑی رہ جائیں گی ان (کے چہروں) پر ذلت چھا رہی ہوگی۔ اور ان کو (دنیا میں) پکارا جاتا تھا سجدے کے لیے جبکہ یہ صحیح سالم تھے۔",
        trans: "Khaashi’atan absaaruhum tarhaquhum zillatunw wa qad kaanoo yud’awna ilassujoodi wa hum saalimoon"
      },
      {
        arabic: "فَذَرني وَمَن يُكَذِّبُ بِهٰذَا الحَديثِ ۖ سَنَستَدرِجُهُم مِن حَيثُ لا يَعلَمونَ",
        en: "So leave to Me ˹O Prophet˺ those who reject this message. We will gradually draw them to destruction in ways they cannot comprehend.",
        ur: "تو (اے نبی ﷺ !) آپ چھوڑ دیجیے مجھے اور ان لوگوں کو جو اس کلام کی تکذیب کر رہے ہیں۔ ہم انہیں رفتہ رفتہ وہاں سے لے آئیں گے جہاں سے انہیں علم تک نہیں ہوگا۔",
        trans: "Fazarnee wa many yukazzibu bihaazal hadeesi sanastad rijuhum min haisu laa ya’lamoon"
      },
      {
        arabic: "وَأُملي لَهُم ۚ إِنَّ كَيدي مَتينٌ",
        en: "I ˹only˺ delay their end for a while, but My planning is flawless.",
        ur: "اور میں ان کو ڈھیل دے رہا ہوں۔ بیشک میری تدبیر بہت مضبوط ہے۔",
        trans: "Wa umlee lahum; inna kaidee mateen"
      },
      {
        arabic: "أَم تَسأَلُهُم أَجرًا فَهُم مِن مَغرَمٍ مُثقَلونَ",
        en: "Or are you asking them for a reward ˹for the message˺ so that they are overburdened by debt?",
        ur: "(اے نبی ﷺ !) کیا آپ ان سے کوئی اجرت مانگتے ہیں جس کے تاوان کے بوجھ تلے یہ دبے جا رہے ہیں ؟",
        trans: "Am tas’aluhum ajran fahum min maghramin musqaloon"
      },
      {
        arabic: "أَم عِندَهُمُ الغَيبُ فَهُم يَكتُبونَ",
        en: "Or do they have access to ˹the Record in˺ the unseen, so they copy it ˹for all to see˺?",
        ur: "یا ان کے پاس غیب کا علم ہے جسے یہ لکھ رہے ہیں ؟",
        trans: "Am ‘indahumul ghaibu fahum yaktuboon"
      },
      {
        arabic: "فَاصبِر لِحُكمِ رَبِّكَ وَلا تَكُن كَصاحِبِ الحوتِ إِذ نادىٰ وَهُوَ مَكظومٌ",
        en: "So be patient with your Lord’s decree, and do not be like ˹Jonah,˺ the Man of the Whale, who cried out ˹to Allah˺, in total distress.",
        ur: "تو (اے نبی ﷺ !) آپ انتظار کیجیے اپنے رب کے حکم کا اور دیکھئے آپ ﷺ اس مچھلی والے کی طرح نہ ہوجایئے گا !",
        trans: "Fasbir lihukmi rabbika wa laa takun kasaahibil hoot; iz naadaa wa huwa makzoom"
      },
      {
        arabic: "لَولا أَن تَدارَكَهُ نِعمَةٌ مِن رَبِّهِ لَنُبِذَ بِالعَراءِ وَهُوَ مَذمومٌ",
        en: "Had he not been shown grace by his Lord, he would have certainly been cast onto the open ˹shore˺, still blameworthy.",
        ur: "اگر اس کی دست گیری نہ کرتا اس کے رب کا ایک انعام (اور احسان) تو وہ ملامت زدہ ہو کر پھینک دیاجاتا کسی چٹیل زمین پر۔",
        trans: "Law laaa an tadaara kahoo ni’matum mir rabbihee lanubiza bil’araaa’i wa huwa mazmoom"
      },
      {
        arabic: "فَاجتَباهُ رَبُّهُ فَجَعَلَهُ مِنَ الصّالِحينَ",
        en: "Then his Lord chose him, making him one of the righteous.",
        ur: "تو اس کے ربّ نے اس کو ُ چن لیا اور اسے پھر صالحین میں سے کردیا۔",
        trans: "Fajtabaahu rabbuhoo faja’alahoo minas saaliheen"
      },
      {
        arabic: "وَإِن يَكادُ الَّذينَ كَفَروا لَيُزلِقونَكَ بِأَبصارِهِم لَمّا سَمِعُوا الذِّكرَ وَيَقولونَ إِنَّهُ لَمَجنونٌ",
        en: "The disbelievers would almost cut you down with their eyes when they hear ˹you recite˺ the Reminder, and say, “He is certainly a madman.”",
        ur: "اور یہ کافر تو ُ تلے ہوئے ہیں اس پر کہ اپنی نگاہوں کے زور سے آپ ﷺ کو پھسلا دیں گے جب وہ قرآن سنتے ہیں اور کہتے ہیں کہ یہ تو دیوانہ ہے۔",
        trans: "Wa iny-yakaadul lazeena kafaroo la-yuzliqoonaka biabsaarihim lammaa sami’uz-Zikra wa yaqooloona innahoo lamajnoon"
      },
      {
        arabic: "وَما هُوَ إِلّا ذِكرٌ لِلعالَمينَ",
        en: "But it is simply a reminder to the whole world.",
        ur: "اور نہیں ہے وہ مگر ایک یاد دہانی تمام جہان والوں کے لیے۔",
        trans: "Wa maa huwa illaa zikrul lil’aalameen"
      },
    ];

    const readTab = document.getElementById('read-tab');
    const translateTab = document.getElementById('translate-tab');
    const langSelect = document.getElementById('language');
    const langWrapper = document.getElementById('languageSelector');
    let showTransliteration = false;
    let showTranslation = false;
    let currentAyahIndex = 0;

    // Favorites and Bookmarks storage
    let favoritedAyahs = JSON.parse(localStorage.getItem('favoritedAyahs')) || [];
    let bookmarkedAyahs = JSON.parse(localStorage.getItem('bookmarkedAyahs')) || [];

    function isFavorite(index) {
      return favoritedAyahs.some(ayah => ayah.surah === 68 && ayah.ayah === index + 1);
    }

    function toggleFavorite(index) {
      const ayahObj = { surah: 68, ayah: index + 1 };
      if (isFavorite(index)) {
        favoritedAyahs = favoritedAyahs.filter(ayah => !(ayah.surah === 68 && ayah.ayah === index + 1));
      } else {
        favoritedAyahs.push(ayahObj);
      }
      localStorage.setItem('favoritedAyahs', JSON.stringify(favoritedAyahs));
      renderReadTab();
      renderTranslation();
    }

    function isBookmarked(index) {
      return bookmarkedAyahs.some(ayah => ayah.surah === 68 && ayah.ayah === index + 1);
    }

    function toggleBookmark(index) {
      const ayahObj = { surah: 68, ayah: index + 1 };
      if (isBookmarked(index)) {
        bookmarkedAyahs = bookmarkedAyahs.filter(ayah => !(ayah.surah === 68 && ayah.ayah === index + 1));
      } else {
        bookmarkedAyahs.push(ayahObj);
      }
      localStorage.setItem('bookmarkedAyahs', JSON.stringify(bookmarkedAyahs));
      renderReadTab();
      renderTranslation();
    }

    // Language options with display names
    const languages = [
      { value: 'en', name: 'English: Dr. Mustafa Khattab' },
      { value: 'ur', name: 'Urdu: Dr. Israr Ahmed' }
      // Add more languages here in the future, e.g., { value: 'ar', name: 'Arabic' }
    ];

    // Populate language selector with sorted options
    function populateLanguageSelector() {
      // Sort languages alphabetically by name
      languages.sort((a, b) => a.name.localeCompare(b.name));
      
      // Clear existing options
      langSelect.innerHTML = '';
      
      // Add sorted options
      languages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang.value;
        option.textContent = lang.name;
        langSelect.appendChild(option);
      });
    }

    // Load Arabic verses
    function renderReadTab() {
      readTab.innerHTML = '';
      const lang = langSelect.value;
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = 'ayah';
        let transliterationHTML = '';
        if (showTransliteration && ayah.trans) {
          transliterationHTML = `<div class="transliteration">${ayah.trans}</div>`;
        }
        let translationHTML = '';
        if (showTranslation) {
          translationHTML = `<div class="translation ${lang}">${ayah[lang]}</div>`;
        }
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="arabic">${ayah.arabic}<span class="verse-icon">۝</span></div>
          ${transliterationHTML}
          ${translationHTML}
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        readTab.appendChild(div);
      });
    }

    function renderTranslation() {
      const lang = langSelect.value;
      translateTab.innerHTML = '';
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = `ayah translation ${lang}`;
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="translation ${lang}">${ayah[lang]}<span class="verse-icon">۝</span></div>
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        translateTab.appendChild(div);
      });
    }

    let currentEmbedSrc = "https://archive.org/embed/068_20260102"; // Default for saadalghamdi

    function changeReciter() {
      const reciter = document.getElementById('reciter').value;
      const playButton = document.getElementById('playButton');

      // Define your reciter embed sources (Archive.org embed links)
      const reciterEmbeds = {
        saadalghamdi: "https://archive.org/embed/068_20260102",
        // Add more reciters here as needed, e.g., anotherreciter: "https://archive.org/embed/another_id"
      };

      // Get the correct embed URL for the selected reciter
      const newSrc = reciterEmbeds[reciter];

      if (newSrc) {
        currentEmbedSrc = newSrc;
        // Show the play button
        playButton.style.display = 'block';
      } else {
        alert("Embed source not available for this reciter.");
        playButton.style.display = 'none';
      }
    }

    function playAudio() {
      // Show the modal with the embed iframe
      const modal = document.getElementById('audioModal');
      const iframe = modal.querySelector('iframe');
      iframe.src = currentEmbedSrc;
      modal.style.display = 'flex';
    }

    function closeModal() {
      const modal = document.getElementById('audioModal');
      modal.style.display = 'none';
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tabs button')[tab === 'read' ? 0 : 1].classList.add('active');

      if (tab === 'read') {
        readTab.classList.remove('hidden');
        translateTab.classList.add('hidden');
        langWrapper.classList.add('hidden');
        renderReadTab();
      } else {
        readTab.classList.add('hidden');
        translateTab.classList.remove('hidden');
        langWrapper.classList.remove('hidden');
        renderTranslation();
      }
    }

    function goToVerse() {
      const verseNumber = parseInt(document.getElementById('verse-number').value);
      if (isNaN(verseNumber) || verseNumber < 1 || verseNumber > 52) {
        alert('Please enter a valid verse number between 1 and 52.');
        return;
      }

      // Determine which tab is active
      const activeTab = readTab.classList.contains('hidden') ? translateTab : readTab;
      const ayahs = activeTab.querySelectorAll('.ayah');

      if (ayahs[verseNumber - 1]) {
        ayahs[verseNumber - 1].scrollIntoView({ behavior: 'smooth' });

        // Highlight the verse temporarily
        ayahs[verseNumber - 1].style.backgroundColor = '#005f4a';
        setTimeout(() => {
          ayahs[verseNumber - 1].style.backgroundColor = '';
        }, 2000);
      }
    }

    function setThemeIcon() {
      const icon = document.getElementById('theme-icon');
      icon.classList.remove('rotate');
      void icon.offsetWidth;
      icon.classList.add('rotate');
      icon.src = document.body.classList.contains('dark-mode')
        ? "sun.png"
        : "moon.png";
      icon.alt = document.body.classList.contains('dark-mode')
        ? "Switch to light mode"
        : "Switch to dark mode";
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      setThemeIcon();
    }

    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    function toggleTransliteration() {
      showTransliteration = !showTransliteration;
      const toggleButton = document.getElementById('transliteration-toggle');
      if (showTransliteration) {
        toggleButton.textContent = 'Hide Transliteration';
        toggleButton.classList.add('active');
      } else {
        toggleButton.textContent = 'Show Transliteration';
        toggleButton.classList.remove('active');
      }
      renderReadTab();
    }

    function toggleTranslation() {
      showTranslation = !showTranslation;
      const toggleButton = document.getElementById('translation-toggle');
      if (showTranslation) {
        toggleButton.textContent = 'Hide Translation';
        toggleButton.classList.add('active');
        langWrapper.classList.remove('hidden');
      } else {
        toggleButton.textContent = 'Show Translation';
        toggleButton.classList.remove('active');
        langWrapper.classList.add('hidden');
      }
      renderReadTab();
    }

    function changeLanguage() {
      renderReadTab();
      renderTranslation();
    }

        // Scroll to Top functionality
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Share functions
    function openShareModal(index) {
      currentAyahIndex = index;
      document.getElementById('includeTransliteration').checked = false;
      document.getElementById('includeTranslation').checked = false;
      document.getElementById('languageSelectDiv').style.display = 'none';
      document.getElementById('shareMessage').style.display = 'none';
      document.getElementById('shareModal').style.display = 'flex';
    }

    function toggleLanguageSelect() {
      const includeTranslation = document.getElementById('includeTranslation').checked;
      document.getElementById('languageSelectDiv').style.display = includeTranslation ? 'block' : 'none';
    }

    function closeShareModal() {
      document.getElementById('shareModal').style.display = 'none';
    }

    function generateAndCopyText() {
      const ayah = ayahs[currentAyahIndex];
      let text = `Surah Al-Qalam\nVerse ${currentAyahIndex + 1}\n\nArabic:\n${ayah.arabic}\n`;

      if (document.getElementById('includeTransliteration').checked && ayah.trans) {
        text += `\nTransliteration:\n${ayah.trans}\n`;
      }

      if (document.getElementById('includeTranslation').checked) {
        const lang = document.getElementById('shareLanguage').value;
        text += `\nTranslation (${lang === 'en' ? 'English' : 'Urdu'}):\n${ayah[lang]}\n`;
      }

      text += `\nhttps://adil43534.github.io/Muslimbro1400.com/`;

      const shareMessage = document.getElementById('shareMessage');
      navigator.clipboard.writeText(text).then(() => {
        shareMessage.textContent = 'Text copied to clipboard!';
        shareMessage.style.color = '#007b5e';
        shareMessage.style.display = 'block';
        setTimeout(() => {
          closeShareModal();
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy text: ', err);
        shareMessage.textContent = 'Failed to copy text. Please try again.';
        shareMessage.style.color = '#d9534f';
        shareMessage.style.display = 'block';
      });
    }

    // Show/hide scroll to top button and update progress bar based on scroll position
    window.addEventListener('scroll', () => {
      const scrollToTopBtn = document.getElementById('scrollToTop');
      if (window.pageYOffset > 300) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }

      // Update progress bar
      const progressBar = document.getElementById('progress-bar');
      const totalHeight = document.body.scrollHeight - window.innerHeight;
      const progress = (window.pageYOffset / totalHeight) * 100;
      progressBar.style.width = progress + '%';
    });

    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
      populateLanguageSelector();
      renderReadTab();
      // Ensure modal is hidden on load
      document.getElementById('audioModal').classList.add('hidden');

      // Check for ayah parameter in URL and navigate to it
      const urlParams = new URLSearchParams(window.location.search);
      const ayah = urlParams.get('ayah');
      if (ayah) {
        document.getElementById('verse-number').value = ayah;
        goToVerse();
      }
    };
  </script>
</body>
</html>
