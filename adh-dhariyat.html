<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>51. Surah: Adh-Dhariyat 1-60 - MuslimBro1400</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600&family=Noto+Naskh+Arabic:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.png" type="image/x-icon">

  <style>
    /* Jameel Noori Nastaleeq Custom Font Face */
    @font-face {
      font-family: 'Jameel Noori Nastaleeq';
      src: url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff2') format('woff2'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff') format('woff'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.ttf') format('truetype');
      font-display: swap;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background-color: #007b5e;
      z-index: 1001;
      transition: width 0.25s ease;
    }

    .dark-mode #progress-bar {
      background-color: #0c8;
    }

    .navbar {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #f0f0f0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.5s ease;
    }

    .dark-mode .navbar { background-color: #2c2c2c; }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-links a {
      margin-left: 1rem;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .dark-mode .nav-links a { color: #e0e0e0; }

    .nav-links a:hover {
      color: #007b5e;
    }

    .theme-toggle {
      cursor: pointer;
      margin-left: 1rem;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .theme-toggle img.rotate {
      transform: rotate(180deg);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
    }

    .menu-toggle img {
      width: 24px;
      height: 24px;
    }

    .container {
      padding: 2rem 1rem;
      max-width: 800px;
      margin: auto;
    }

    .surah-info {
      text-align: center;
      margin-bottom: 2rem;
    }

    .surah-info h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      font-family: 'Amiri', serif;
    }

    .meaning {
      font-style: italic;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meaning { color: #bbb; }

    .meta {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #888;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meta { color: #aaa; }

    .bismillah {
      margin-top: 1.5rem;
      font-size: 1.5rem;
      color: #007b5e;
      font-weight: bold;
      font-family: 'Amiri', serif;
    }

    .dark-mode .bismillah { color: #0c8; }

    .ayah {
      background-color: #fff;
      padding: 3rem 3rem 3rem 3rem;
      margin-bottom: 1rem;
      border-left: 4px solid #007b5e;
      border-radius: 6px;
      position: relative;
    }

    .dark-mode .ayah {
      background-color: #2c2c2c;
      border-left-color: #0c8;
    }

    .ayah-number {
      position: absolute;
      top: 1rem;
      left: 1rem;
      font-size: 0.9rem;
      color: #007b5e;
      text-align: left;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .ayah-number { color: #0c8; }

    .arabic {
      font-size: 1.8rem;
      text-align: right;
      direction: rtl;
      font-family: 'Amiri', serif;
    }

    .translation {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-size: 1.2rem
    }

    /* Updated Urdu Translation Class */
    .translation.ur {
      text-align: right;
      direction: rtl;
      /* Prioritizing Jameel Noori */
      font-family: 'Jameel Noori Nastaleeq', 'Noto Nastaliq Urdu', serif;
      font-size: 1.5rem;
      line-height: 2.2; /* Increased line-height for Nastaliq script */
      margin-top: 10px;
      color: #444;
    }

    .dark-mode .translation { color: #ccc; }

    .transliteration {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-style: italic;
    }

    .dark-mode .transliteration { color: #ccc; }

    .verse-icon {
      display: inline-block;
      font-size: 1.2rem;
      margin-left: 0.5rem;
      vertical-align: middle;
      color: #007b5e;
      font-family: 'Amiri', serif;
    }

    .dark-mode .verse-icon {
      color: #0c8;
    }

    .favorite-btn, .bookmark-btn, .share-icon {
      position: absolute;
      right: 1rem;
      width: 24px;
      height: 24px;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .favorite-btn:hover, .bookmark-btn:hover, .share-icon:hover {
      opacity: 1;
    }

    .share-icon {
      top: 1rem;
    }

    .favorite-btn {
      top: 3rem;
    }

    .bookmark-btn {
      top: 5rem;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .navigation a {
      color: #007b5e;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .navigation a { color: #0c8; }

    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
      gap: 1rem;
    }

    .tab-button {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tab-button.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .tab-button {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .tab-button.active {
      background-color: #0c8;
    }

    .transliteration-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .transliteration-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .transliteration-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .transliteration-toggle.active {
      background-color: #0c8;
    }

    .translation-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .translation-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .translation-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .translation-toggle.active {
      background-color: #0c8;
    }

    .lang-select, .audio-select {
      margin-top: 1rem;
      text-align: center;
    }

    .lang-select label, .audio-select label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .lang-select label, .dark-mode .audio-select label {
      color: #e0e0e0;
    }

    .lang-select select, .audio-select select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .audio-select button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .audio-select button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .audio-select button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .audio-select button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .dark-mode .lang-select select, .dark-mode .audio-select select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .lang-select select:hover, .audio-select select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .lang-select select:hover, .dark-mode .audio-select select:hover {
      border-color: #0a6;
    }

    .lang-select select:focus, .audio-select select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .lang-select select:focus, .dark-mode .audio-select select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .hidden { display: none; }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      max-width: 600px;
      width: 90%;
      position: relative;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .dark-mode .modal-content {
      background-color: #2c2c2c;
      color: #e0e0e0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
    }

    .modal-content iframe {
      border-radius: 8px;
      border: none;
      width: 100%;
      height: 60px;
    }

    .modal-content button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
    }

    .dark-mode .modal-content button:hover {
      background-color: #0a6;
    }

        .go-to-verse {
      margin-top: 1rem;
      text-align: center;
    }

    .go-to-verse label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .go-to-verse label {
      color: #e0e0e0;
    }

    .go-to-verse input {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 80px;
      text-align: center;
    }

    .dark-mode .go-to-verse input {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .go-to-verse input:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse input:hover {
      border-color: #0a6;
    }

    .go-to-verse input:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .go-to-verse input:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .go-to-verse button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .go-to-verse button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .go-to-verse button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    /* Scroll to Top Button */
    #scrollToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    #scrollToTop:hover {
      background-color: #005f4a;
    }

    #scrollToTop.show {
      opacity: 1;
      visibility: visible;
    }

    .dark-mode #scrollToTop {
      background-color: #0c8;
    }

    .dark-mode #scrollToTop:hover {
      background-color: #0a6;
    }

    /* Share Modal Styling */
    .modal-content h2 {
      margin-top: 0;
      color: #333;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .modal-content h2 {
      color: #e0e0e0;
    }

    .modal-content div {
      margin-bottom: 1rem;
      text-align: left;
    }

    .modal-content label {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
      cursor: pointer;
    }

    .dark-mode .modal-content label {
      color: #e0e0e0;
    }

    .modal-content input[type="checkbox"] {
      margin-right: 0.5rem;
      width: 18px;
      height: 18px;
      border: 2px solid #007b5e;
      border-radius: 4px;
      background-color: #fff;
      cursor: pointer;
      transition: border-color 0.3s ease, background-color 0.3s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content input[type="checkbox"]:checked {
      background-color: #007b5e;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="12" height="12"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
    }

    .dark-mode .modal-content input[type="checkbox"] {
      background-color: #2c2c2c;
      border-color: #0c8;
    }

    .dark-mode .modal-content input[type="checkbox"]:checked {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .dark-mode .modal-content select:hover {
      border-color: #0a6;
    }

    .modal-content select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .modal-content button {
      margin-top: 1rem;
      margin-right: 0.5rem;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .modal-content input[type="text"] {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 100%;
      box-sizing: border-box;
    }

    .modal-content input[type="text"]:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content input[type="text"] {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .dark-mode .modal-content input[type="text"]:hover {
      border-color: #0a6;
    }

    .modal-content input[type="text"]:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content input[type="text"]:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    @media (max-width: 600px) {
      .navbar h1 {
        font-size: 1.25rem;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #f0f0f0;
        position: absolute;
        top: 60px;
        left: 0;
        padding: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        z-index: 1000;
      }

      .dark-mode .nav-links {
        background-color: #2c2c2c;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }

      .theme-toggle {
        margin: 0;
      }

      .menu-toggle {
        display: block;
      }

      .lang-select select, .audio-select select {
        padding: 0.5rem 1.8rem 0.5rem 0.8rem;
        font-size: 0.9rem;
        background-size: 16px;
      }

      .surah-info h1 {
        font-size: 1.5rem;
      }

      .bismillah {
        font-size: 1.3rem;
      }

      .arabic {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div id="progress-bar"></div>
  <!-- Navbar -->
  <nav class="navbar">
    <h1>MuslimBro1400</h1>
    <button class="menu-toggle" onclick="toggleMenu()">
      <img src="menu.png" alt="Menu" />
    </button>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="quran.html">Quran</a>
      <a href="hadith.html">Hadiths</a>
      <a href="islamic-books.html">Books</a>
      <a href="quran-recitations.html">Recitations</a>
      <a href="islamic-calendar.html">Calendar</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <img id="theme-icon" src="moon.png" alt="Toggle Theme" title="Toggle light/dark mode" />
      </button>
    </div>
  </nav>

  <!-- Content -->
  <div class="container">
    <div class="surah-info">
      <h1>Surah Adh-Dhariyat (سورة الذاريات)</h1>
      <p class="meaning">Meaning: The Winnowing Winds</p>
      <p class="meta">Mecca - 60 Verses</p>
      
      <div class="audio-select">
        <label for="reciter">Reciter:</label>
        <select id="reciter" onchange="changeReciter()">
          <option value="saadalghamdi">Saad Al Ghamdi</option>
        </select>
        <br><br>
        <button id="playButton" onclick="playAudio()">Play Audio</button>
      </div>
      
      <p class="bismillah">بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ</p>

            <!-- Transliteration Toggle -->
      <button id="transliteration-toggle" class="transliteration-toggle" onclick="toggleTransliteration()">Show Transliteration</button>

      <!-- Translation Toggle -->
      <button id="translation-toggle" class="translation-toggle" onclick="toggleTranslation()">Show Translation</button>

      <!-- Language Selector -->
      <div class="lang-select hidden" id="languageSelector">
        <label for="language">Translation Language:</label>
        <select id="language" onchange="changeLanguage()"></select>
      </div>
      
               <!-- Go to Verse -->
      <div class="go-to-verse">
        <label for="verse-number">Go to Verse:</label>
        <input type="number" id="verse-number" min="1" max="60" placeholder="1-60">
        <button onclick="goToVerse()">Go</button>
      </div>

      <div class="navigation">
        <a href="qaf.html">← Surah Qaf</a>
        <a href="at-tur.html">Next: Surah At-Tur →</a>
      </div>
    </div>

    <!-- Arabic Tab -->
    <div id="read-tab"></div>

    <!-- Translation Tab -->
    <div id="translate-tab" class="hidden"></div>

    <div class="navigation">
      <a href="qaf.html">← Surah Qaf</a>
      <a href="at-tur.html">Next: Surah At-Tur →</a>
    </div>
  </div>

  <!-- Audio Modal -->
  <div id="audioModal" class="modal" style="display: none;">
    <div class="modal-content">
      <iframe src="https://archive.org/embed/051_20260102" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen></iframe>
      <br><br>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>

    <!-- Share Modal -->
  <div id="shareModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Share Ayah Options</h2>
      <div>
        <label><input type="checkbox" id="includeTransliteration"> Include Transliteration</label>
      </div>
      <div>
        <label><input type="checkbox" id="includeTranslation" onchange="toggleLanguageSelect()"> Include Translation</label>
      </div>
      <div id="languageSelectDiv" style="display: none;">
        <label for="shareLanguage">Translation Language:</label>
        <select id="shareLanguage">
          <option value="en">English</option>
          <option value="ur">Urdu</option>
        </select>
      </div>
      <br>
      <div id="shareMessage" style="display: none; margin-top: 1rem; text-align: center; font-weight: bold;"></div>
      <button onclick="generateAndCopyText()">Copy Text</button>
      <button onclick="closeShareModal()">Cancel</button>
    </div>
  </div>

    <!-- Scroll to Top Button -->
  <button id="scrollToTop" onclick="scrollToTop()">↑</button>

  <script>
    const unfavoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const favoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="#0c8" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const unbookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#00CC88" stroke-width="66.66" stroke-miterlimit="10" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;
    const bookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#00CC88" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;

    const ayahs = [
      {
        arabic: "وَالذّارِياتِ ذَروًا",
        en: "By the winds scattering ˹dust˺,",
        ur: "قسم ہے ان ہوائوں کی جو بکھیرنے والی ہیں جیسے کہ بکھیرا جاتا ہے۔",
        trans: "Waz-zaariyaati zarwaa"
      },
      {
        arabic: "فَالحامِلاتِ وِقرًا",
        en: "and ˹the clouds˺ loaded with rain,",
        ur: "پھر بوجھ اٹھا کر لانے والی ہیں۔",
        trans: "Falhaamilaati wiqraa"
      },
      {
        arabic: "فَالجارِياتِ يُسرًا",
        en: "and ˹the ships˺ gliding with ease,",
        ur: "پھر نرمی سے چلنے والی ہیں۔",
        trans: "Faljaariyaati yusraa"
      },
      {
        arabic: "فَالمُقَسِّماتِ أَمرًا",
        en: "and ˹the angels˺ administering affairs by ˹Allah’s˺ command!",
        ur: "پھر اللہ کے امر کو تقسیم کرنے والی ہیں۔",
        trans: "Falmuqassimaati amraa"
      },
      {
        arabic: "إِنَّما توعَدونَ لَصادِقٌ",
        en: "Indeed, what you are promised is true.",
        ur: "جو وعدہ تمہیں دیا جا رہا ہے وہ یقینا سچ ہے۔",
        trans: "Innamaa too’adoona la-saadiq"
      },
      {
        arabic: "وَإِنَّ الدّينَ لَواقِعٌ",
        en: "And the Judgment will certainly come to pass.",
        ur: "اور جزا و سزا ضرور واقع ہو کر رہے گی۔",
        trans: "Wa innad deena la waaqi’"
      },
      {
        arabic: "وَالسَّماءِ ذاتِ الحُبُكِ",
        en: "˹And˺ by the heavens in their marvellous design!",
        ur: "اور قسم ہے جالی دار آسمان کی۔",
        trans: "Wassamaaa’i zaatil hubuk"
      },  
      {
        arabic: "إِنَّكُم لَفي قَولٍ مُختَلِفٍ",
        en: "Surely you are ˹lost˺ in conflicting views ˹regarding the truth˺.",
        ur: "یقینا تم لوگ ایک جھگڑے کی بات میں پڑگئے ہو۔",
        trans: "Innakum lafee qawlim mukhtalif"
      },
      {
        arabic: "يُؤفَكُ عَنهُ مَن أُفِكَ",
        en: "Only those ˹destined to be˺ deluded are turned away from it.",
        ur: "اس سے وہی پھیرا جاتا ہے جو پھیر دیا گیا ہے۔",
        trans: "Yu’faku ‘anhu man ufik"
      },
      {
        arabic: "قُتِلَ الخَرّاصونَ",
        en: "Condemned are the liars—",
        ur: "ہلاک ہوجائیں یہ اٹکلیں دوڑانے والے۔",
        trans: "Qutilal kharraasoon"
      },
      {
        arabic: "الَّذينَ هُم في غَمرَةٍ ساهونَ",
        en: "those who are ˹steeped˺ in ignorance, totally heedless.",
        ur: "جو اپنی غفلت میں پڑے ہوئے ہیں۔",
        trans: "Allazeena hum fee ghamratin saahoon"
      },
      {
        arabic: "يَسأَلونَ أَيّانَ يَومُ الدّينِ",
        en: "They ask ˹mockingly˺, “When is this Day of Judgment?”",
        ur: "وہ پوچھتے ہیں کب آئے گا وہ جزا و سزا کا دن",
        trans: "Yas’aloona ayyaana yawmud Deen"
      },
      {
        arabic: "يَومَ هُم عَلَى النّارِ يُفتَنونَ",
        en: "˹It is˺ the Day they will be tormented over the Fire.",
        ur: "جس دن یہ لوگ آگ پر سینکے جائیں گے۔",
        trans: "Yawma hum ‘alan naari yuftanoon"
      },
      {
        arabic: "ذوقوا فِتنَتَكُم هٰذَا الَّذي كُنتُم بِهِ تَستَعجِلونَ",
        en: "˹They will be told,˺ “Taste your torment! This is what you sought to hasten.”",
        ur: "ُس دن ان سے کہا جائے گا) اب چکھو مزا اپنی شرارت کا۔ یہ ہے وہ (عذاب) جس کی تم جلدی مچایا کرتے تھے۔",
        trans: "Zooqoo fitnatakum haa zal lazee kuntum bihee tas ta’jiloon"
      },
      {
        arabic: "إِنَّ المُتَّقينَ في جَنّاتٍ وَعُيونٍ",
        en: "Indeed, the righteous will be amid Gardens and springs,",
        ur: "یقینا اہل تقویٰ باغات اور چشموں کے اندر ہوں گے۔",
        trans: "Innal muttaqeena fee jannaatinw wa ‘uyoon"
      },
      {
        arabic: "آخِذينَ ما آتاهُم رَبُّهُم ۚ إِنَّهُم كانوا قَبلَ ذٰلِكَ مُحسِنينَ",
        en: "˹joyfully˺ receiving what their Lord will grant them. Before this ˹reward˺ they were truly good-doers ˹in the world˺:",
        ur: "وہ (شکریے کے ساتھ) لے رہے ہوں گے جو کچھ ان کا رب انہیں دے گا۔ یہ وہ لوگ ہیں جو اس سے پہلے نیکوکار تھے۔",
        trans: "Aakhizeena maaa aataahum Rabbuhum; innahum kaanoo qabla zaalika muhsineen"
      },
      {
        arabic: "كانوا قَليلًا مِنَ اللَّيلِ ما يَهجَعونَ",
        en: "they used to sleep only little in the night,",
        ur: "رات کا تھوڑا ہی حصہ ہوتا تھا جس میں وہ سوتے تھے۔",
        trans: "kaanoo qaleelam minal laili maa yahja’oon"
      },
      {
        arabic: "وَبِالأَسحارِ هُم يَستَغفِرونَ",
        en: "and pray for forgiveness before dawn.",
        ur: "اور سحری کے اوقات میں وہ استغفار کرتے تھے۔",
        trans: "Wa bil as haari hum yastaghfiroon"
      },
      {
        arabic: "وَفي أَموالِهِم حَقٌّ لِلسّائِلِ وَالمَحرومِ",
        en: "And in their wealth there was a rightful share ˹fulfilled˺ for the beggar and the poor.",
        ur: "اور ان کے اموال میں سائل اور محتاج کا حق ہوا کرتا تھا۔",
        trans: "Wa feee amwaalihim haqqul lissaaa’ili walmahroom"
      },
      {
        arabic: "وَفِي الأَرضِ آياتٌ لِلموقِنينَ",
        en: "There are ˹countless˺ signs on earth for those with sure faith,",
        ur: "اور زمین میں (ہر چہارطرف) نشانیاں ہیں یقین کرنے والوں کے لیے۔",
        trans: "Wa fil ardi aayaatul lilmooqineen"
      },
      {
        arabic: "وَفي أَنفُسِكُم ۚ أَفَلا تُبصِرونَ",
        en: "as there are within yourselves. Can you not see?",
        ur: "اور تمہاری اپنی جانوں میں بھی (نشانیاں ہیں)۔ تو کیا تم دیکھتے نہیں ہو ؟",
        trans: "Wa feee anfusikum; afalaa tubsiroon"
      },
      {
        arabic: "وَفِي السَّماءِ رِزقُكُم وَما توعَدونَ",
        en: "In heaven is your sustenance and whatever you are promised.",
        ur: "اور آسمان میں تمہارا رزق ہے اور وہ بھی جس کا تم سے وعدہ کیا جا رہا ہے۔",
        trans: "Wa fissamaaa’i rizqukum wa maa too’adoon"
      },
      {
        arabic: "فَوَرَبِّ السَّماءِ وَالأَرضِ إِنَّهُ لَحَقٌّ مِثلَ ما أَنَّكُم تَنطِقونَ",
        en: "Then by the Lord of heaven and earth! ˹All˺ this is certainly as true as ˹the fact that˺ you can speak!",
        ur: "تو آسمانوں اور زمین کے رب کی قسم یقینایہ حق ہے بالکل ایسے جیسے (اِس وقت) تم بات چیت کر رہے ہو۔",
        trans: "Fawa Rabbis samaaa’i wal ardi innahoo lahaqqum misla maa annakum tantiqoon"
      },
      {
        arabic: "هَل أَتاكَ حَديثُ ضَيفِ إِبراهيمَ المُكرَمينَ",
        en: "Has the story of Abraham’s honoured guests reached you ˹O Prophet˺?",
        ur: "کیا آپ ﷺ کے پاس ابراہیم ؑ کے معزز مہمانوں کی خبرپہنچی ہے",
        trans: "Hal ataaka hadeesu daifi Ibraaheemal mukrameen"
      },
      {
        arabic: "إِذ دَخَلوا عَلَيهِ فَقالوا سَلامًا ۖ قالَ سَلامٌ قَومٌ مُنكَرونَ",
        en: "˹Remember˺ when they entered his presence and greeted ˹him with˺, “Peace!” He replied, “Peace ˹be upon you˺!” ˹Then he said to himself,˺ “These people must be strangers!”",
        ur: "جب وہ اس کے ہاں داخل ہوئے تو انہوں نے سلام کہا۔ اس نے بھی (جواب میں) سلام کہا (اور دل میں کہا کہ) یہ تو کوئی اجنبی لوگ ہیں۔",
        trans: "Iz dakhaloo ‘alaihi faqaaloo salaaman qaala salaamun qawmum munkaroon"
      },
      {
        arabic: "فَراغَ إِلىٰ أَهلِهِ فَجاءَ بِعِجلٍ سَمينٍ",
        en: "Then he slipped off to his family and brought a fat ˹roasted˺ calf,",
        ur: "پھر وہ چپکے سے اپنے گھر والوں کی طرف گیا اور ایک (بھنا ہوا) موٹا تازہ بچھڑا لے آیا۔",
        trans: "Faraagha ilaaa ahlihee fajaaa’a bi’ijlin sameen"
      },
      {
        arabic: "فَقَرَّبَهُ إِلَيهِم قالَ أَلا تَأكُلونَ",
        en: "and placed it before them, asking, “Will you not eat?”",
        ur: "پھر اسے ان کی طرف بڑھایا اور کہا کہ آپ لوگ کھاتے نہیں ؟",
        trans: "Faqarrabahooo ilaihim qaala alaa taakuloon"
      },
      {
        arabic: "فَأَوجَسَ مِنهُم خيفَةً ۖ قالوا لا تَخَف ۖ وَبَشَّروهُ بِغُلامٍ عَليمٍ ۙ",
        en: "˹They did not eat,˺ so he grew fearful of them. They reassured ˹him˺, “Do not be afraid,” and gave him good news of a knowledgeable son.",
        ur: "تو اس نے ان کی طرف سے دل میں اندیشہ محسوس کیا۔ انہوں نے کہا : آپ ڈریں نہیں۔ اور انہوں نے اسے بشارت دی ایک صاحب علم بیٹے کی۔",
        trans: "Fa awjasa minhum khee fatan qaaloo laa takhaf wa bashsharoohu bighulaamin ‘aleem"
      },
      {
        arabic: "فَأَقبَلَتِ امرَأَتُهُ في صَرَّةٍ فَصَكَّت وَجهَها وَقالَت عَجوزٌ عَقيمٌ",
        en: "Then his wife came forward with a cry, clasping her forehead ˹in astonishment˺, exclaiming, “˹A baby from˺ a barren, old woman!”",
        ur: "اس پر اس کی بیوی سامنے آئی بڑبڑاتی ہوئی اور اس نے اپنا ماتھا پیٹ لیا اور کہنے لگی : بڑھیا بانجھ (بچہ جنے گی کیا) ؟",
        trans: "Fa aqbalatim ra-atuhoo fee sarratin fasakkat wajhahaa wa qaalat ‘ajoozun ‘aqeem"
      },
      {
        arabic: "قالوا كَذٰلِكِ قالَ رَبُّكِ ۖ إِنَّهُ هُوَ الحَكيمُ العَليمُ",
        en: "They replied, “Such has your Lord decreed. He is truly the All-Wise, All-Knowing.”",
        ur: "انہوں نے کہا : ایسا ہی فرمایا ہے آپ کے رب نے۔ یقینا وہ سب کچھ جاننے والا بھی ہے اور بہت حکمت والا بھی۔",
        trans: "Qaaloo kazaaliki qaala Rabbuki innahoo huwal hakeemul ‘aleem"
      },
      {
        arabic: "۞ قالَ فَما خَطبُكُم أَيُّهَا المُرسَلونَ",
        en: "˹Later,˺ Abraham asked, “What is your mission, O  messenger-angels?”",
        ur: "ابراہیم نے پوچھا کہ اے ایلچیو ! پھر آپ لوگوں کا مقصد کیا ہے ؟",
        trans: "Qaala famaa khatbukum ayyuhal mursaloon"
      },
      {
        arabic: "قالوا إِنّا أُرسِلنا إِلىٰ قَومٍ مُجرِمينَ",
        en: "They replied, “We have actually been sent to a wicked people,",
        ur: "انہوں نے کہا : ہم بھیجے گئے ہیں ایک مجرم قوم کی طرف۔",
        trans: "Qaalooo innaaa ursilnaaa ilaa qawmim mujrimeen"
      },
      {
        arabic: "لِنُرسِلَ عَلَيهِم حِجارَةً مِن طينٍ",
        en: "to send upon them stones of ˹baked˺ clay,",
        ur: "تاکہ ہم ان پر بارش برسائیں کنکریوں کی۔",
        trans: "Linursila ‘alaihim hijaa ratam min teen"
      },
      {
        arabic: "مُسَوَّمَةً عِندَ رَبِّكَ لِلمُسرِفينَ",
        en: "marked by your Lord for the transgressors.”",
        ur: "جو نشان زدہ ہیں آپ کے رب کے پاس حد سے بڑھ جانے والوں کے لیے۔",
        trans: "Musawwamatan ‘inda rabbika lilmusrifeen"
      },
      {
        arabic: "فَأَخرَجنا مَن كانَ فيها مِنَ المُؤمِنينَ",
        en: "Then ˹before the torment˺ We evacuated the believers from the city.",
        ur: "پھر ہم نے نکال لیا جو بھی اس بستی میں تھے اہل ایمان۔",
        trans: "Fa akhrajnaa man kaana feehaa minal mu’mineen"
      },
      {
        arabic: "فَما وَجَدنا فيها غَيرَ بَيتٍ مِنَ المُسلِمينَ",
        en: "But We only found one family that had submitted ˹to Allah˺.",
        ur: "تو نہیں پایا ہم نے اس میں سوائے ایک گھر کے کسی کو مسلمانوں میں سے۔",
        trans: "Famaa wajadnaa feehaa ghaira baitim minal muslimeen"
      },
      {
        arabic: "وَتَرَكنا فيها آيَةً لِلَّذينَ يَخافونَ العَذابَ الأَليمَ",
        en: "And We have left a sign there ˹as a lesson˺ for those who fear the painful punishment.",
        ur: "اور ہم نے اس میں ایک نشانی چھوڑ دی ان لوگوں کے لیے جو ڈرتے ہوں دردناک عذاب سے۔",
        trans: "Wa taraknaa feehaaa aayatal lillazeena yakhaafoonal ‘azaabal aleem"
      },
      {
        arabic: "وَفي موسىٰ إِذ أَرسَلناهُ إِلىٰ فِرعَونَ بِسُلطانٍ مُبينٍ",
        en: "And in ˹the story of˺ Moses ˹was another lesson,˺ when We sent him to Pharaoh with compelling proof,",
        ur: "اور موسیٰ کے معاملے میں بھی (نشانی ہے) جب ہم نے اسے بھیجا فرعون کی طرف کھلی سند دے کر۔",
        trans: "Wa fee Moosaaa iz arsalnaahu ilaa Fir’awna bisultaa nim mubeen"
      },
      {
        arabic: "فَتَوَلّىٰ بِرُكنِهِ وَقالَ ساحِرٌ أَو مَجنونٌ",
        en: "but Pharaoh was carried away by his power, saying ˹of Moses˺, “A magician or a madman!”",
        ur: "تو اس نے منہ موڑ لیا اپنی شان و شوکت کے گھمنڈ میں اور کہا کہ یہ ساحر ہے یا مجنون ہے۔",
        trans: "Fatawalla biruknihee wa qaala saahirun aw majnoon"
      },
      {
        arabic: "فَأَخَذناهُ وَجُنودَهُ فَنَبَذناهُم فِي اليَمِّ وَهُوَ مُليمٌ",
        en: "So We seized him and his soldiers, casting them into the sea while he was blameworthy.",
        ur: "سو ہم نے پکڑا اس کو اور اس کے لشکروں کو اور انہیں پھینک دیا سمندر میں اور وہ ملامت زدہ تھا۔",
        trans: "Fa akhaznaahu wa junoo dahoo fanabaznaahum fil yammi wa huwa muleem"
      },
      {
        arabic: "وَفي عادٍ إِذ أَرسَلنا عَلَيهِمُ الرّيحَ العَقيمَ",
        en: "And in ˹the story of˺ ’Âd ˹was another lesson,˺ when We sent against them the devastating wind.",
        ur: "اور قوم عاد میں بھی (نشانی ہے) جب ہم نے ان پر ایک ایسی ہوا چھوڑ دی تھی جوہر خیر سے خالی تھی۔",
        trans: "Wa fee ‘Aadin iz arsalnaa ‘alaihimur reehal’aqeem"
      },
      {
        arabic: "ما تَذَرُ مِن شَيءٍ أَتَت عَلَيهِ إِلّا جَعَلَتهُ كَالرَّميمِ",
        en: "There was nothing it came upon that it did not reduce to ashes.",
        ur: "وہ نہیں چھوڑتی تھی کسی شے کو جس پر وہ آجاتی تھی مگر اس کو چوراچورا کر کے رکھ دیتی تھی۔",
        trans: "Maa tazaru min shai’in atat ‘alaihi illaa ja’alat hu karrameem"
      },
      {
        arabic: "وَفي ثَمودَ إِذ قيلَ لَهُم تَمَتَّعوا حَتّىٰ حينٍ",
        en: "And in ˹the story of˺ Thamûd ˹was another lesson,˺ when they were told, “Enjoy yourselves ˹only˺ for a ˹short˺ while.”",
        ur: "اور اسی طرح ثمود کے معاملے میں بھی (نشانی ہے) جب ان سے کہا گیا کہ ایک خاص وقت تک کے لیے تم فائدہ اٹھا لو (دنیا کی نعمتوں سے)۔",
        trans: "Wa fee Samooda iz qeela lahum tamatta”oo hattaa heen"
      },
      {
        arabic: "فَعَتَوا عَن أَمرِ رَبِّهِم فَأَخَذَتهُمُ الصّاعِقَةُ وَهُم يَنظُرونَ",
        en: "Still they persisted in defying the commands of their Lord, so they were overtaken by a ˹mighty˺ blast while they were looking on.",
        ur: "تو انہوں نے سرکشی کی اپنے رب کے حکم سے تو ان کے دیکھتے ہی دیکھتے ایک چنگھاڑ نے انہیں آپکڑا۔",
        trans: "Fa’ataw ‘an amri Rabbihim fa akhazat humus saa’iqatu wa hum yanzuroon"
      },
      {
        arabic: "فَمَا استَطاعوا مِن قِيامٍ وَما كانوا مُنتَصِرينَ",
        en: "Then they were not able to rise up, nor were they helped.",
        ur: "تو نہ ان میں کھڑے ہونے کی سکت رہی اور نہ ہی اس قابل رہے کہ بدلہ لیتے۔",
        trans: "Famas tataa’oo min qiyaaminw wa maa kaanoo muntasireen"
      },
      {
        arabic: "وَقَومَ نوحٍ مِن قَبلُ ۖ إِنَّهُم كانوا قَومًا فاسِقينَ",
        en: "And the people of Noah ˹had also been destroyed˺ earlier. They were truly a rebellious people.",
        ur: "اور قوم نوح کو بھی اس سے پہلے (ہم نے پکڑا)۔ یقینا وہ بھی بڑے ہی نافرمان لوگ تھے۔",
        trans: "Wa qawma Noohim min qablu innahum kaano qawman faasiqeen"
      },
      {
        arabic: "وَالسَّماءَ بَنَيناها بِأَيدٍ وَإِنّا لَموسِعونَ",
        en: "We built the universe with ˹great˺ might, and We are certainly expanding ˹it˺.",
        ur: "اور آسمان کو ہم نے بنایا اپنے ہاتھوں سے اور ہم (اس کو) توسیع دینے والے ہیں۔",
        trans: "Wassamaaa’a banainaa haa bi aydinw wa innaa lamoosi’oon"
      },
      {
        arabic: "وَالأَرضَ فَرَشناها فَنِعمَ الماهِدونَ",
        en: "As for the earth, We spread it out. How superbly did We smooth it out!",
        ur: "اور زمین کو ہم نے (فرش کی مانند) بچھا دیا پس ہم کیا ہی خوب بچھانے والے ہیں",
        trans: "Wal arda farashnaahaa fani’mal maahidoon"
      },
      {
        arabic: "وَمِن كُلِّ شَيءٍ خَلَقنا زَوجَينِ لَعَلَّكُم تَذَكَّرونَ",
        en: "And We created pairs of all things1 so perhaps you would be mindful.",
        ur: "اور ہم نے ہر شے کے جوڑے بنائے ہیں شاید کہ تم نصیحت اخذ کرو۔",
        trans: "Wa min kulli shai’in khalaqnaa zawjaini la’allakum tazakkaroon"
      },
      {
        arabic: "فَفِرّوا إِلَى اللَّهِ ۖ إِنّي لَكُم مِنهُ نَذيرٌ مُبينٌ",
        en: "So ˹proclaim, O  Prophet˺: “Flee to Allah! I am truly sent by Him with a clear warning to you.",
        ur: "تو دوڑو اللہ کی طرف یقینا میں تم لوگوں کے لیے اس کی طرف سے صاف صاف خبردار کرنے والا ہوں۔",
        trans: "Fafirrooo ilal laahi innee lakum minhu nazeerum mubeen"
      },
      {
        arabic: "وَلا تَجعَلوا مَعَ اللَّهِ إِلٰهًا آخَرَ ۖ إِنّي لَكُم مِنهُ نَذيرٌ مُبينٌ",
        en: "And do not set up another god with Allah. I am truly sent by Him with a clear warning to you.”",
        ur: "اور اللہ کے ساتھ کوئی دوسرا معبود نہ ٹھہرائو۔ یقینا میں اس کی جانب سے تمہارے لیے واضح طور پر خبردار کرنے والا ہوں۔",
        trans: "Wa laa taj’aloo ma’al laahi ilaahan aakhara innee lakum minhu nazeerum mubeen"
      },
      {
        arabic: "كَذٰلِكَ ما أَتَى الَّذينَ مِن قَبلِهِم مِن رَسولٍ إِلّا قالوا ساحِرٌ أَو مَجنونٌ",
        en: "Similarly, no messenger came to those before them without being told: “A magician or a madman!”",
        ur: "اسی طرح (ہوتا آیا ہے کہ) نہیں آیا تھا ان سے پہلے لوگوں کے پاس کوئی رسول مگر انہوں نے یہی کہا تھا کہ یہ ساحر ہے یا مجنون ہے۔",
        trans: "Kazaalika maaa atal lazeena min qablihim mir Rasoolin illaa qaaloo saahirun aw majnoon"
      },
      {
        arabic: "أَتَواصَوا بِهِ ۚ بَل هُم قَومٌ طاغونَ",
        en: "Have they passed this ˹cliché˺ down to one another? In fact, they have ˹all˺ been a transgressing people.",
        ur: "کیا وہ ایک دوسرے کو وصیت کر گئے تھے اس کی ؟ بلکہ یہ ہیں ہی سرکش لوگ",
        trans: "Atawaasaw bih; bal hum qawmun taaghoon"
      },
      {
        arabic: "فَتَوَلَّ عَنهُم فَما أَنتَ بِمَلومٍ",
        en: "So ˹now˺ turn away from them ˹O Prophet˺, for you will not be blamed.",
        ur: "پس (اے نبی ﷺ !) آپ ان سے رُخ پھیر لیں آپ پر کوئی ملامت نہیں ہے۔",
        trans: "Fatawalla ‘anhum famaaa anta bimaloom"
      },
      {
        arabic: "وَذَكِّر فَإِنَّ الذِّكرىٰ تَنفَعُ المُؤمِنينَ",
        en: "But ˹continue to˺ remind. For certainly reminders benefit the believers.",
        ur: "اور آپ تذکیر کرتے رہیے کیونکہ یہ تذکیر اہل ایمان کے لیے بہت فائدہ مند ہے۔",
        trans: "Wa zakkir fa innaz zikraa tanfa’ul mu’mineen"
      },
      {
        arabic: "وَما خَلَقتُ الجِنَّ وَالإِنسَ إِلّا لِيَعبُدونِ",
        en: "I did not create jinn and humans except to worship Me.",
        ur: "۔ } اور میں نے نہیں پیدا کیا جنوں اور انسانوں کو مگر صرف اس لیے کہ وہ میری بندگی کریں۔",
        trans: "Wa maa khalaqtul jinna wal insa illaa liya’budoon"
      },
      {
        arabic: "ما أُريدُ مِنهُم مِن رِزقٍ وَما أُريدُ أَن يُطعِمونِ",
        en: "I seek no provision from them, nor do I need them to feed Me.",
        ur: "میں ان سے کوئی رزق نہیں چاہتا اور نہ میں یہ چاہتا ہوں کہ یہ مجھے کھلائیں پلائیں۔",
        trans: "Maaa ureedu minhum mir rizqinw wa maaa ureedu anyyut’imoon"
      },
      {
        arabic: "إِنَّ اللَّهَ هُوَ الرَّزّاقُ ذُو القُوَّةِ المَتينُ",
        en: "Indeed, Allah ˹alone˺ is the Supreme Provider—Lord of all Power, Ever Mighty.",
        ur: "یقینا اللہ ہی سب کو رزق دینے والا قوت والا زبردست ہے۔",
        trans: "Innal laaha Huwar Razzaaqu Zul Quwwatil Mateen"
      },
      {
        arabic: "فَإِنَّ لِلَّذينَ ظَلَموا ذَنوبًا مِثلَ ذَنوبِ أَصحابِهِم فَلا يَستَعجِلونِ",
        en: "The wrongdoers will certainly have a share ˹of the torment˺ like that of their predecessors. So do not let them ask Me to hasten ˹it˺.",
        ur: "پس ان ظالموں کا پیمانہ بھی لبریز ہوچکا ہے جس طرح ان کے ساتھیوں کا پیمانہ لبریز ہوا تھا سو یہ مجھ سے جلدی نہ مچائیں۔",
        trans: "Fa inna lillazeena zalamoo zanoobam misla zanoobi ashaabihim falaa yasta’jiloon"
      },
      {
        arabic: "فَوَيلٌ لِلَّذينَ كَفَروا مِن يَومِهِمُ الَّذي يوعَدونَ",
        en: "Woe then to the disbelievers when they face their Day which they are warned of!",
        ur: "تو ہلاکت اور بربادی ہے ان کافروں کے لیے اس دن سے جس کا ان سے وعدہ کیا جا رہا ہے۔",
        trans: "Fawailul lillazeena kafaroo miny yawmihimul lazee yoo’adoon"
      },
    ];

    const readTab = document.getElementById('read-tab');
    const translateTab = document.getElementById('translate-tab');
    const langSelect = document.getElementById('language');
    const langWrapper = document.getElementById('languageSelector');
    let showTransliteration = false;
    let showTranslation = false;
    let currentAyahIndex = 0;

    // Favorites and Bookmarks storage
    let favoritedAyahs = JSON.parse(localStorage.getItem('favoritedAyahs')) || [];
    let bookmarkedAyahs = JSON.parse(localStorage.getItem('bookmarkedAyahs')) || [];

    function isFavorite(index) {
      return favoritedAyahs.some(ayah => ayah.surah === 51 && ayah.ayah === index + 1);
    }

    function toggleFavorite(index) {
      const ayahObj = { surah: 51, ayah: index + 1 };
      if (isFavorite(index)) {
        favoritedAyahs = favoritedAyahs.filter(ayah => !(ayah.surah === 51 && ayah.ayah === index + 1));
      } else {
        favoritedAyahs.push(ayahObj);
      }
      localStorage.setItem('favoritedAyahs', JSON.stringify(favoritedAyahs));
      renderReadTab();
      renderTranslation();
    }

    function isBookmarked(index) {
      return bookmarkedAyahs.some(ayah => ayah.surah === 51 && ayah.ayah === index + 1);
    }

    function toggleBookmark(index) {
      const ayahObj = { surah: 51, ayah: index + 1 };
      if (isBookmarked(index)) {
        bookmarkedAyahs = bookmarkedAyahs.filter(ayah => !(ayah.surah === 51 && ayah.ayah === index + 1));
      } else {
        bookmarkedAyahs.push(ayahObj);
      }
      localStorage.setItem('bookmarkedAyahs', JSON.stringify(bookmarkedAyahs));
      renderReadTab();
      renderTranslation();
    }

    // Language options with display names
    const languages = [
      { value: 'en', name: 'English: Dr. Mustafa Khattab' },
      { value: 'ur', name: 'Urdu: Dr. Israr Ahmed' }
      // Add more languages here in the future, e.g., { value: 'ar', name: 'Arabic' }
    ];

    // Populate language selector with sorted options
    function populateLanguageSelector() {
      // Sort languages alphabetically by name
      languages.sort((a, b) => a.name.localeCompare(b.name));
      
      // Clear existing options
      langSelect.innerHTML = '';
      
      // Add sorted options
      languages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang.value;
        option.textContent = lang.name;
        langSelect.appendChild(option);
      });
    }

    // Load Arabic verses
    function renderReadTab() {
      readTab.innerHTML = '';
      const lang = langSelect.value;
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = 'ayah';
        let transliterationHTML = '';
        if (showTransliteration && ayah.trans) {
          transliterationHTML = `<div class="transliteration">${ayah.trans}</div>`;
        }
        let translationHTML = '';
        if (showTranslation) {
          translationHTML = `<div class="translation ${lang}">${ayah[lang]}</div>`;
        }
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="arabic">${ayah.arabic}<span class="verse-icon">۝</span></div>
          ${transliterationHTML}
          ${translationHTML}
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        readTab.appendChild(div);
      });
    }

    function renderTranslation() {
      const lang = langSelect.value;
      translateTab.innerHTML = '';
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = `ayah translation ${lang}`;
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="translation ${lang}">${ayah[lang]}<span class="verse-icon">۝</span></div>
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        translateTab.appendChild(div);
      });
    }

    let currentEmbedSrc = "https://archive.org/embed/051_20260102"; // Default for saadalghamdi

    function changeReciter() {
      const reciter = document.getElementById('reciter').value;
      const playButton = document.getElementById('playButton');

      // Define your reciter embed sources (Archive.org embed links)
      const reciterEmbeds = {
        saadalghamdi: "https://archive.org/embed/051_20260102",
        // Add more reciters here as needed, e.g., anotherreciter: "https://archive.org/embed/another_id"
      };

      // Get the correct embed URL for the selected reciter
      const newSrc = reciterEmbeds[reciter];

      if (newSrc) {
        currentEmbedSrc = newSrc;
        // Show the play button
        playButton.style.display = 'block';
      } else {
        alert("Embed source not available for this reciter.");
        playButton.style.display = 'none';
      }
    }

    function playAudio() {
      // Show the modal with the embed iframe
      const modal = document.getElementById('audioModal');
      const iframe = modal.querySelector('iframe');
      iframe.src = currentEmbedSrc;
      modal.style.display = 'flex';
    }

    function closeModal() {
      const modal = document.getElementById('audioModal');
      modal.style.display = 'none';
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tabs button')[tab === 'read' ? 0 : 1].classList.add('active');

      if (tab === 'read') {
        readTab.classList.remove('hidden');
        translateTab.classList.add('hidden');
        langWrapper.classList.add('hidden');
        renderReadTab();
      } else {
        readTab.classList.add('hidden');
        translateTab.classList.remove('hidden');
        langWrapper.classList.remove('hidden');
        renderTranslation();
      }
    }

    function goToVerse() {
      const verseNumber = parseInt(document.getElementById('verse-number').value);
      if (isNaN(verseNumber) || verseNumber < 1 || verseNumber > 60) {
        alert('Please enter a valid verse number between 1 and 60.');
        return;
      }

      // Determine which tab is active
      const activeTab = readTab.classList.contains('hidden') ? translateTab : readTab;
      const ayahs = activeTab.querySelectorAll('.ayah');

      if (ayahs[verseNumber - 1]) {
        ayahs[verseNumber - 1].scrollIntoView({ behavior: 'smooth' });

        // Highlight the verse temporarily
        ayahs[verseNumber - 1].style.backgroundColor = '#005f4a';
        setTimeout(() => {
          ayahs[verseNumber - 1].style.backgroundColor = '';
        }, 2000);
      }
    }

    function setThemeIcon() {
      const icon = document.getElementById('theme-icon');
      icon.classList.remove('rotate');
      void icon.offsetWidth;
      icon.classList.add('rotate');
      icon.src = document.body.classList.contains('dark-mode')
        ? "sun.png"
        : "moon.png";
      icon.alt = document.body.classList.contains('dark-mode')
        ? "Switch to light mode"
        : "Switch to dark mode";
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      setThemeIcon();
    }

    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    function toggleTransliteration() {
      showTransliteration = !showTransliteration;
      const toggleButton = document.getElementById('transliteration-toggle');
      if (showTransliteration) {
        toggleButton.textContent = 'Hide Transliteration';
        toggleButton.classList.add('active');
      } else {
        toggleButton.textContent = 'Show Transliteration';
        toggleButton.classList.remove('active');
      }
      renderReadTab();
    }

    function toggleTranslation() {
      showTranslation = !showTranslation;
      const toggleButton = document.getElementById('translation-toggle');
      if (showTranslation) {
        toggleButton.textContent = 'Hide Translation';
        toggleButton.classList.add('active');
        langWrapper.classList.remove('hidden');
      } else {
        toggleButton.textContent = 'Show Translation';
        toggleButton.classList.remove('active');
        langWrapper.classList.add('hidden');
      }
      renderReadTab();
    }

    function changeLanguage() {
      renderReadTab();
      renderTranslation();
    }

        // Scroll to Top functionality
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Share functions
    function openShareModal(index) {
      currentAyahIndex = index;
      document.getElementById('includeTransliteration').checked = false;
      document.getElementById('includeTranslation').checked = false;
      document.getElementById('languageSelectDiv').style.display = 'none';
      document.getElementById('shareMessage').style.display = 'none';
      document.getElementById('shareModal').style.display = 'flex';
    }

    function toggleLanguageSelect() {
      const includeTranslation = document.getElementById('includeTranslation').checked;
      document.getElementById('languageSelectDiv').style.display = includeTranslation ? 'block' : 'none';
    }

    function closeShareModal() {
      document.getElementById('shareModal').style.display = 'none';
    }

    function generateAndCopyText() {
      const ayah = ayahs[currentAyahIndex];
      let text = `Surah Adh-Dhariyat\nVerse ${currentAyahIndex + 1}\n\nArabic:\n${ayah.arabic}\n`;

      if (document.getElementById('includeTransliteration').checked && ayah.trans) {
        text += `\nTransliteration:\n${ayah.trans}\n`;
      }

      if (document.getElementById('includeTranslation').checked) {
        const lang = document.getElementById('shareLanguage').value;
        text += `\nTranslation (${lang === 'en' ? 'English' : 'Urdu'}):\n${ayah[lang]}\n`;
      }

      text += `\nhttps://adil43534.github.io/Muslimbro1400.com/`;

      const shareMessage = document.getElementById('shareMessage');
      navigator.clipboard.writeText(text).then(() => {
        shareMessage.textContent = 'Text copied to clipboard!';
        shareMessage.style.color = '#007b5e';
        shareMessage.style.display = 'block';
        setTimeout(() => {
          closeShareModal();
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy text: ', err);
        shareMessage.textContent = 'Failed to copy text. Please try again.';
        shareMessage.style.color = '#d9534f';
        shareMessage.style.display = 'block';
      });
    }

    // Show/hide scroll to top button and update progress bar based on scroll position
    window.addEventListener('scroll', () => {
      const scrollToTopBtn = document.getElementById('scrollToTop');
      if (window.pageYOffset > 300) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }

      // Update progress bar
      const progressBar = document.getElementById('progress-bar');
      const totalHeight = document.body.scrollHeight - window.innerHeight;
      const progress = (window.pageYOffset / totalHeight) * 100;
      progressBar.style.width = progress + '%';
    });

    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
      populateLanguageSelector();
      renderReadTab();
      // Ensure modal is hidden on load
      document.getElementById('audioModal').classList.add('hidden');

      // Check for ayah parameter in URL and navigate to it
      const urlParams = new URLSearchParams(window.location.search);
      const ayah = urlParams.get('ayah');
      if (ayah) {
        document.getElementById('verse-number').value = ayah;
        goToVerse();
      }
    };
  </script>
</body>
</html>
