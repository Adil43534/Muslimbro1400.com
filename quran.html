<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MuslimBro1400 - Quran</title>
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600&family=Amiri:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="icon" href="favicon.png" type="image/x-icon">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }

    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    .navbar {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #f0f0f0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.5s ease;
    }

    .dark-mode .navbar {
      background-color: #2c2c2c;
    }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-links a {
      margin-left: 1rem;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .dark-mode .nav-links a {
      color: #e0e0e0;
    }

    .nav-links a:hover {
      color: #007b5e;
    }

    .dark-mode .nav-links a:hover {
      color: #0c8;
    }

    .theme-toggle {
      cursor: pointer;
      margin-left: 1rem;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .theme-toggle img.rotate {
      transform: rotate(180deg);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
    }

    .menu-toggle img {
      width: 24px;
      height: 24px;
    }

    .banner {
      width: 100%;
      overflow: hidden;
    }

    .banner-img {
      width: 100%;
      height: auto;
      max-height: 300px;
      object-fit: cover;
    }

    .container {
      padding: 2rem 1rem;
      max-width: 1200px;
      margin: auto;
    }

    .tabs {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }

    .tab-button {
      padding: 0.6rem 1.2rem;
      background-color: #ddd;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .tab-button.active {
      background-color: #007b5e;
      color: #fff;
    }

    .dark-mode .tab-button {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .tab-button.active {
      background-color: #0c8;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .juz-group {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      margin-top: 1rem;
    }

    .juz {
      background-color: #f1f1f1;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: background-color 0.5s ease, transform 0.2s;
    }

    .juz:hover {
      transform: translateY(-5px);
    }

    .dark-mode .juz {
      background-color: #2c2c2c;
      color: #e0e0e0;
    }

    .juz h3 {
      margin: 0 0 0.8rem 0;
      font-size: 1.2rem;
      color: #007b5e;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .juz h3 {
      color: #0c8;
    }

    .juz .cards {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .card {
      background-color: #fff;
      padding: 2rem 1rem 1rem 1rem;
      border-radius: 8px;
      text-decoration: none;
      color: inherit;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s, background-color 0.5s ease;
      position: relative;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      background-color: #e6f5f0;
      border-left: 5px solid #007b5e;
    }

    .dark-mode .card:hover {
      background-color: #244c3a;
      border-left: 5px solid #0c8;
    }

    .dark-mode .card {
      background-color: #2c2c2c;
      color: #e0e0e0;
    }

    .card-content {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }

    .card-content .surah-number {
      font-weight: bold;
      font-size: 1.1rem;
    }

    .card-content .surah-name {
      font-size: 1rem;
      font-weight: 500;
    }

    .card-content .surah-meaning {
      font-size: 0.9rem;
      color: #555;
    }

    .dark-mode .card-content .surah-meaning {
      color: #bbb;
    }

    .card-content .verse-count {
      font-size: 0.85rem;
      color: #777;
    }

    .dark-mode .card-content .verse-count {
      color: #999;
    }

    .icons {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      display: flex;
      gap: 0.5rem;
    }

    .favorite-icon, .bookmark-icon {
      font-size: 1.2rem;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .favorite-icon:hover, .bookmark-icon:hover {
      transform: scale(1.1);
    }

    @media (max-width: 600px) {
      .icons {
        top: 0.3rem;
        right: 0.3rem;
        font-size: 1rem;
      }
    }

    .hidden {
      display: none;
    }

    .recent-surah-section {
      margin-top: 1rem;
    }

    .recent-card-container {
      display: flex;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .recent-card {
      width: 100%;
    }

    .myquran-sections {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      margin-top: 1rem;
    }

    .myquran-section h3 {
      margin-bottom: 1rem;
      font-size: 1.2rem;
      color: #007b5e;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .myquran-section h3 {
      color: #0c8;
    }

    h2 {
      margin-top: 2rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    @media (max-width: 600px) {
      .navbar h1 {
        font-size: 1.25rem;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #f0f0f0;
        position: absolute;
        top: 60px;
        left: 0;
        padding: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        z-index: 1000;
      }

      .dark-mode .nav-links {
        background-color: #2c2c2c;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }

      .theme-toggle {
        margin: 0;
      }

      .menu-toggle {
        display: block;
      }
    }

    /* Scroll to Top Button */
    #scrollToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    #scrollToTop:hover {
      background-color: #005f4a;
    }

    #scrollToTop.show {
      opacity: 1;
      visibility: visible;
    }

    .dark-mode #scrollToTop {
      background-color: #0c8;
    }

    .dark-mode #scrollToTop:hover {
      background-color: #0a6;
    }

    .search-container {
      display: flex;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .search-input {
      padding: 0.5rem 1rem;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1rem;
      width: 100%;
      max-width: 400px;
      background-color: #fff;
      color: #333;
      transition: border-color 0.3s ease, background-color 0.5s ease, color 0.5s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: #007b5e;
    }

    .dark-mode .search-input {
      background-color: #2c2c2c;
      color: #e0e0e0;
      border-color: #444;
    }

    .dark-mode .search-input:focus {
      border-color: #0c8;
    }
  </style>
  <script>
    const unfavoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const favoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="#0c8" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const unbookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#00CC88" stroke-width="66.66" stroke-miterlimit="10" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;
    const bookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#00CC88" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;

    const surahData = [
      { number: 1, name: "Al-Fatiha", meaning: "The Opening", verses: 7, file: "al-fatiha" },
      { number: 2, name: "Al-Baqarah", meaning: "The Cow", verses: 286, file: "al-baqarah" },
      { number: 3, name: "Al-Imran", meaning: "The Family of Imran", verses: 200, file: "al-imran" },
      { number: 4, name: "An-Nisa", meaning: "The Women", verses: 176, file: "an-nisa" },
      { number: 5, name: "Al-Maidah", meaning: "The Table Spread", verses: 120, file: "al-maidah" },
      { number: 6, name: "Al-An'am", meaning: "The Cattle", verses: 165, file: "al-anam" },
      { number: 7, name: "Al-A'raf", meaning: "The Heights", verses: 206, file: "al-araf" },
      { number: 8, name: "Al-Anfal", meaning: "The Spoils of War", verses: 75, file: "al-anfal" },
      { number: 9, name: "At-Tawbah", meaning: "The Repentance", verses: 129, file: "at-tawbah" },
      { number: 10, name: "Yunus", meaning: "Jonah", verses: 109, file: "yunus" },
      { number: 11, name: "Hud", meaning: "Hud", verses: 123, file: "hud" },
      { number: 12, name: "Yusuf", meaning: "Joseph", verses: 111, file: "yusuf" },
      { number: 13, name: "Ar-Ra'd", meaning: "The Thunder", verses: 43, file: "ar-rad" },
      { number: 14, name: "Ibrahim", meaning: "Abraham", verses: 52, file: "ibrahim" },
      { number: 15, name: "Al-Hijr", meaning: "The Rocky Tract", verses: 99, file: "al-hijr" },
      { number: 16, name: "An-Nahl", meaning: "The Bee", verses: 128, file: "an-nahl" },
      { number: 17, name: "Al-Isra", meaning: "The Night Journey", verses: 111, file: "al-isra" },
      { number: 18, name: "Al-Kahf", meaning: "The Cave", verses: 110, file: "al-kahf" },
      { number: 19, name: "Maryam", meaning: "Mary", verses: 98, file: "maryam" },
      { number: 20, name: "Ta-Ha", meaning: "Ta-Ha", verses: 135, file: "taha" },
      { number: 21, name: "Al-Anbiya", meaning: "The Prophets", verses: 112, file: "al-anbiya" },
      { number: 22, name: "Al-Hajj", meaning: "The Pilgrimage", verses: 78, file: "al-hajj" },
      { number: 23, name: "Al-Mu'minun", meaning: "The Believers", verses: 118, file: "al-muminun" },
      { number: 24, name: "An-Nur", meaning: "The Light", verses: 64, file: "an-nur" },
      { number: 25, name: "Al-Furqan", meaning: "The Criterion", verses: 77, file: "al-furqan" },
      { number: 26, name: "Ash-Shu'ara", meaning: "The Poets", verses: 227, file: "ash-shuara" },
      { number: 27, name: "An-Naml", meaning: "The Ant", verses: 93, file: "an-naml" },
      { number: 28, name: "Al-Qasas", meaning: "The Stories", verses: 88, file: "al-qasas" },
      { number: 29, name: "Al-Ankabut", meaning: "The Spider", verses: 69, file: "al-ankabut" },
      { number: 30, name: "Ar-Rum", meaning: "The Romans", verses: 60, file: "ar-rum" },
      { number: 31, name: "Luqman", meaning: "Luqman", verses: 34, file: "luqman" },
      { number: 32, name: "As-Sajda", meaning: "The Prostration", verses: 30, file: "as-sajda" },
      { number: 33, name: "Al-Ahzab", meaning: "The Combined Forces", verses: 73, file: "al-ahzab" },
      { number: 34, name: "Saba", meaning: "Sheba", verses: 54, file: "saba" },
      { number: 35, name: "Fatir", meaning: "The Originator", verses: 45, file: "fatir" },
      { number: 36, name: "Ya-Sin", meaning: "Ya-Sin", verses: 83, file: "ya-sin" },
      { number: 37, name: "As-Saffat", meaning: "Those who set the Ranks", verses: 182, file: "as-saffat" },
      { number: 38, name: "Sad", meaning: "The Letter Sad", verses: 88, file: "sad" },
      { number: 39, name: "Az-Zumar", meaning: "The Troops", verses: 75, file: "az-zumar" },
      { number: 40, name: "Ghafir", meaning: "The Forgiver", verses: 85, file: "ghafir" },
      { number: 41, name: "Fussilat", meaning: "Explained in Detail", verses: 54, file: "fussilat" },
      { number: 42, name: "Ash-Shura", meaning: "The Consultation", verses: 53, file: "ash-shura" },
      { number: 43, name: "Az-Zukhruf", meaning: "The Ornaments of Gold", verses: 89, file: "az-zukhruf" },
      { number: 44, name: "Ad-Dukhan", meaning: "The Smoke", verses: 59, file: "ad-dukhan" },
      { number: 45, name: "Al-Jathiya", meaning: "The Crouching", verses: 37, file: "al-jathiya" },
      { number: 46, name: "Al-Ahqaf", meaning: "The Wind-Curved Sandhills", verses: 35, file: "al-ahqaf" },
      { number: 47, name: "Muhammad", meaning: "Muhammad", verses: 38, file: "muhammad" },
      { number: 48, name: "Al-Fath", meaning: "The Victory", verses: 29, file: "al-fath" },
      { number: 49, name: "Al-Hujurat", meaning: "The Rooms", verses: 18, file: "al-hujurat" },
      { number: 50, name: "Qaf", meaning: "The Letter Qaf", verses: 45, file: "qaf" },
      { number: 51, name: "Adh-Dhariyat", meaning: "The Winnowing Winds", verses: 60, file: "adh-dhariyat" },
      { number: 52, name: "At-Tur", meaning: "The Mount", verses: 49, file: "at-tur" },
      { number: 53, name: "An-Najm", meaning: "The Star", verses: 62, file: "an-najm" },
      { number: 54, name: "Al-Qamar", meaning: "The Moon", verses: 55, file: "al-qamar" },
      { number: 55, name: "Ar-Rahman", meaning: "The Beneficent", verses: 78, file: "ar-rahman" },
      { number: 56, name: "Al-Waqi'a", meaning: "The Inevitable", verses: 96, file: "al-waqia" },
      { number: 57, name: "Al-Hadid", meaning: "The Iron", verses: 29, file: "al-hadid" },
      { number: 58, name: "Al-Mujadila", meaning: "The Pleading Woman", verses: 22, file: "al-mujadila" },
      { number: 59, name: "Al-Hashr", meaning: "The Exile", verses: 24, file: "al-hashr" },
      { number: 60, name: "Al-Mumtahana", meaning: "She that is to be Examined", verses: 13, file: "al-mumtahana" },
      { number: 61, name: "As-Saff", meaning: "The Ranks", verses: 14, file: "as-saff" },
      { number: 62, name: "Al-Jumu'a", meaning: "The Congregation", verses: 11, file: "al-jumua" },
      { number: 63, name: "Al-Munafiqun", meaning: "The Hypocrites", verses: 11, file: "al-munafiqun" },
      { number: 64, name: "At-Taghabun", meaning: "The Mutual Disillusion", verses: 18, file: "at-taghabun" },
      { number: 65, name: "At-Talaq", meaning: "The Divorce", verses: 12, file: "at-talaq" },
      { number: 66, name: "At-Tahrim", meaning: "The Prohibition", verses: 12, file: "at-tahrim" },
      { number: 67, name: "Al-Mulk", meaning: "The Sovereignty", verses: 30, file: "al-mulk" },
      { number: 68, name: "Al-Qalam", meaning: "The Pen", verses: 52, file: "al-qalam" },
      { number: 69, name: "Al-Haqqah", meaning: "The Reality", verses: 52, file: "al-haqqah" },
      { number: 70, name: "Al-Ma'arij", meaning: "The Ascending Stairways", verses: 44, file: "al-maarij" },
      { number: 71, name: "Nuh", meaning: "Noah", verses: 28, file: "nuh" },
      { number: 72, name: "Al-Jinn", meaning: "The Jinn", verses: 28, file: "al-jinn" },
      { number: 73, name: "Al-Muzzammil", meaning: "The Enshrouded One", verses: 20, file: "al-muzzammil" },
      { number: 74, name: "Al-Muddaththir", meaning: "The Cloaked One", verses: 56, file: "al-muddaththir" },
      { number: 75, name: "Al-Qiyamah", meaning: "The Resurrection", verses: 40, file: "al-qiyamah" },
      { number: 76, name: "Al-Insan", meaning: "The Man", verses: 31, file: "al-insan" },
      { number: 77, name: "Al-Mursalat", meaning: "The Emissaries", verses: 50, file: "al-mursalat" },
      { number: 78, name: "An-Naba", meaning: "The Announcement", verses: 40, file: "an-naba" },
      { number: 79, name: "An-Nazi'at", meaning: "Those who Pull Out", verses: 46, file: "an-naziat" },
      { number: 80, name: "Abasa", meaning: "He Frowned", verses: 42, file: "abasa" },
      { number: 81, name: "At-Takwir", meaning: "The Overthrowing", verses: 29, file: "at-takwir" },
      { number: 82, name: "Al-Infitar", meaning: "The Cleaving", verses: 19, file: "al-infitar" },
      { number: 83, name: "Al-Mutaffifin", meaning: "The Defrauding", verses: 36, file: "al-mutaffifin" },
      { number: 84, name: "Al-Inshiqaq", meaning: "The Splitting Open", verses: 25, file: "al-inshiqaq" },
      { number: 85, name: "Al-Buruj", meaning: "The Mansions of the Stars", verses: 22, file: "al-buruj" },
      { number: 86, name: "At-Tariq", meaning: "The Morning Star", verses: 17, file: "at-tariq" },
      { number: 87, name: "Al-A'la", meaning: "The Most High", verses: 19, file: "al-ala" },
      { number: 88, name: "Al-Ghashiyah", meaning: "The Overwhelming", verses: 26, file: "al-ghashiyah" },
      { number: 89, name: "Al-Fajr", meaning: "The Dawn", verses: 30, file: "al-fajr" },
      { number: 90, name: "Al-Balad", meaning: "The City", verses: 20, file: "al-balad" },
      { number: 91, name: "Ash-Shams", meaning: "The Sun", verses: 15, file: "ash-shams" },
      { number: 92, name: "Al-Lail", meaning: "The Night", verses: 21, file: "al-lail" },
      { number: 93, name: "Ad-Duhaa", meaning: "The Morning Hours", verses: 11, file: "ad-duhaa" },
      { number: 94, name: "Ash-Sharh", meaning: "The Relief", verses: 8, file: "ash-sharh" },
      { number: 95, name: "At-Tin", meaning: "The Fig", verses: 8, file: "at-tin" },
      { number: 96, name: "Al-Alaq", meaning: "The Clot", verses: 19, file: "al-alaq" },
      { number: 97, name: "Al-Qadr", meaning: "The Power", verses: 5, file: "al-qadr" },
      { number: 98, name: "Al-Bayyinah", meaning: "The Clear Proof", verses: 8, file: "al-bayyinah" },
      { number: 99, name: "Az-Zalzala", meaning: "The Earthquake", verses: 8, file: "az-zalzalah" },
      { number: 100, name: "Al-Adiyat", meaning: "The Courser", verses: 11, file: "al-adiyat" },
      { number: 101, name: "Al-Qari'a", meaning: "The Calamity", verses: 11, file: "al-qaria" },
      { number: 102, name: "At-Takathur", meaning: "The Rivalry", verses: 8, file: "at-takathur" },
      { number: 103, name: "Al-Asr", meaning: "The Declining Day", verses: 3, file: "al-asr" },
      { number: 104, name: "Al-Humazah", meaning: "The Traducer", verses: 9, file: "al-humazah" },
      { number: 105, name: "Al-Fil", meaning: "The Elephant", verses: 5, file: "al-fil" },
      { number: 106, name: "Quraysh", meaning: "Quraysh", verses: 4, file: "quraysh" },
      { number: 107, name: "Al-Ma'un", meaning: "The Small Kindnesses", verses: 7, file: "al-maun" },
      { number: 108, name: "Al-Kawthar", meaning: "The Abundance", verses: 3, file: "al-kawthar" },
      { number: 109, name: "Al-Kafirun", meaning: "The Disbelievers", verses: 6, file: "al-kafirun" },
      { number: 110, name: "An-Nasr", meaning: "The Divine Support", verses: 3, file: "an-nasr" },
      { number: 111, name: "Al-Masad", meaning: "The Palm Fiber", verses: 5, file: "al-masad" },
      { number: 112, name: "Al-Ikhlas", meaning: "The Sincerity", verses: 4, file: "al-ikhlas" },
      { number: 113, name: "Al-Falaq", meaning: "The Daybreak", verses: 5, file: "al-falaq" },
      { number: 114, name: "An-Nas", meaning: "The Mankind", verses: 6, file: "an-nas" }
    ];

    function setThemeIcon() {
      const icon = document.getElementById('theme-icon');
      icon.classList.remove('rotate');
      void icon.offsetWidth;
      icon.classList.add('rotate');

      if (document.body.classList.contains('dark-mode')) {
        icon.src = "sun.png";
        icon.alt = "Switch to light mode";
      } else {
        icon.src = "moon.png";
        icon.alt = "Switch to dark mode";
      }
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      setThemeIcon();
    }

    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(div => div.classList.add('hidden'));

      document.getElementById(tab + '-tab').classList.add('active');
      document.getElementById(tab + '-content').classList.remove('hidden');

      if (tab === 'myquran') {
        populateMyQuran();
      }
    }

    function createSurahCard(surah) {
      const card = document.createElement('a');
      card.href = `${surah.file}.html`;
      card.className = 'card';
      card.setAttribute('data-surah', surah.number);
      card.onclick = () => {
        localStorage.setItem('recentSurah', surah.number);
      };

      const favoritedSurahs = JSON.parse(localStorage.getItem('favoritedSurahs') || '[]');
      const bookmarkedSurahs = JSON.parse(localStorage.getItem('bookmarkedSurahs') || '[]');
      const isFavorited = favoritedSurahs.includes(surah.number);
      const isBookmarked = bookmarkedSurahs.includes(surah.number);

      card.innerHTML = `
        <div class="icons">
          <span class="favorite-icon" onclick="event.preventDefault(); toggleFavoriteSurah(${surah.number});">${isFavorited ? favoriteSVG : unfavoriteSVG}</span>
          <span class="bookmark-icon" onclick="event.preventDefault(); toggleBookmarkSurah(${surah.number});">${isBookmarked ? bookmarkedSVG : unbookmarkedSVG}</span>
        </div>
        <div class="card-content">
          <span class="surah-number">${surah.number}. ${surah.name}</span>
          <span class="surah-meaning">${surah.meaning}</span>
          <span class="verse-count">${surah.verses} verses</span>
        </div>
      `;
      return card;
    }

    function toggleFavoriteSurah(surahNumber) {
      let favoritedSurahs = JSON.parse(localStorage.getItem('favoritedSurahs') || '[]');
      if (favoritedSurahs.includes(surahNumber)) {
        favoritedSurahs = favoritedSurahs.filter(num => num !== surahNumber);
      } else {
        favoritedSurahs.push(surahNumber);
      }
      localStorage.setItem('favoritedSurahs', JSON.stringify(favoritedSurahs));
      // Update all icons for this surah across the page
      const isFavorited = favoritedSurahs.includes(surahNumber);
      const cards = document.querySelectorAll(`[data-surah="${surahNumber}"] .favorite-icon`);
      cards.forEach(icon => {
        icon.innerHTML = isFavorited ? favoriteSVG : unfavoriteSVG;
      });
    }

    function toggleBookmarkSurah(surahNumber) {
      let bookmarkedSurahs = JSON.parse(localStorage.getItem('bookmarkedSurahs') || '[]');
      if (bookmarkedSurahs.includes(surahNumber)) {
        bookmarkedSurahs = bookmarkedSurahs.filter(num => num !== surahNumber);
      } else {
        bookmarkedSurahs.push(surahNumber);
      }
      localStorage.setItem('bookmarkedSurahs', JSON.stringify(bookmarkedSurahs));
      // Update all icons for this surah across the page
      const isBookmarked = bookmarkedSurahs.includes(surahNumber);
      const cards = document.querySelectorAll(`[data-surah="${surahNumber}"] .bookmark-icon`);
      cards.forEach(icon => {
        icon.innerHTML = isBookmarked ? bookmarkedSVG : unbookmarkedSVG;
      });
    }

    function populateSurahs(filter = '') {
      const surahContainer = document.querySelector('#surah-content .cards');
      surahContainer.innerHTML = '';
      const filteredSurahs = filter ? surahData.filter(surah =>
        surah.name.toLowerCase().includes(filter.toLowerCase()) ||
        surah.meaning.toLowerCase().includes(filter.toLowerCase())
      ) : surahData;
      filteredSurahs.forEach(surah => {
        surahContainer.appendChild(createSurahCard(surah));
      });
    }

    function populateJuz() {
      const juzGroup = document.querySelector('#juz-content .juz-group');
      juzGroup.innerHTML = '';
      const juzData = [
        { juz: 1, surahs: ["Al-Fatiha", "Al-Baqarah"] },
        { juz: 2, surahs: ["Al-Baqarah"] },
        { juz: 3, surahs: ["Al-Baqarah", "Al-Imran"] },
        { juz: 4, surahs: ["Al-Imran", "An-Nisa"] },
        { juz: 5, surahs: ["An-Nisa"] },
        { juz: 6, surahs: ["An-Nisa", "Al-Maidah"] },
        { juz: 7, surahs: ["Al-Maidah", "Al-An'am"] },
        { juz: 8, surahs: ["Al-An'am", "Al-A'raf"] },
        { juz: 9, surahs: ["Al-A'raf"] },
        { juz: 10, surahs: ["Al-A'raf", "Al-Anfal"] },
        { juz: 11, surahs: ["At-Tawbah", "Yunus"] },
        { juz: 12, surahs: ["Yunus", "Hud"] },
        { juz: 13, surahs: ["Yusuf"] },
        { juz: 14, surahs: ["Ar-Ra'd", "Ibrahim"] },
        { juz: 15, surahs: ["Al-Hijr", "An-Nahl"] },
        { juz: 16, surahs: ["An-Nahl", "Al-Isra"] },
        { juz: 17, surahs: ["Al-Isra", "Al-Kahf"] },
        { juz: 18, surahs: ["Al-Kahf", "Maryam"] },
        { juz: 19, surahs: ["Maryam", "Taha"] },
        { juz: 20, surahs: ["Ta-Ha", "Al-Anbiya"] },
        { juz: 21, surahs: ["Al-Hajj", "Al-Mu'minun"] },
        { juz: 22, surahs: ["An-Nur", "Al-Furqan"] },
        { juz: 23, surahs: ["Ash-Shu'ara", "An-Naml"] },
        { juz: 24, surahs: ["An-Naml", "Al-Qasas"] },
        { juz: 25, surahs: ["Al-Qasas", "Al-Ankabut"] },
        { juz: 26, surahs: ["Al-Ankabut", "Al-Ahzab"] },
        { juz: 27, surahs: ["Saba", "Fatir", "Ya-Sin"] },
        { juz: 28, surahs: ["Al-Mujadila", "Al-Hashr", "Al-Mumtahana", "As-Saff", "Al-Jumu'a", "Al-Munafiqun"] },
        { juz: 29, surahs: ["Al-Mulk", "Al-Qalam", "Al-Haqqah", "Al-Ma'arij", "Nuh", "Al-Jinn", "Al-Muzzammil", "Al-Muddathir", "Al-Qiyama", "Al-Insan", "Al-Mursalat"] },
        { juz: 30, surahs: ["An-Naba", "An-Nazi'at", "Abasa", "At-Takwir", "Al-Infitar", "Al-Mutaffifin", "Al-Inshiqaq", "Al-Buruj", "At-Tariq", "Al-A'la", "Al-Ghashiyah", "Al-Fajr", "Al-Balad", "Ash-Shams", "Al-Lail", "Ad-Duhaa", "Ash-Sharh", "At-Tin", "Al-Alaq", "Al-Qadr", "Al-Bayyina", "Az-Zalzala", "Al-Adiyat", "Al-Qari'a", "At-Takathur", "Al-Asr", "Al-Humazah", "Al-Fil", "Quraysh", "Al-Ma'un", "Al-Kawthar", "Al-Kafirun", "An-Nasr", "Al-Masad", "Al-Ikhlas", "Al-Falaq", "An-Nas"] }
      ];

      juzData.forEach(juz => {
        const juzDiv = document.createElement('div');
        juzDiv.className = 'juz';
        juzDiv.innerHTML = `<h3>Juz ${juz.juz}</h3><div class="cards"></div>`;
        const cards = juzDiv.querySelector('.cards');
        juz.surahs.forEach(surahName => {
          const surah = surahData.find(s => s.name === surahName);
          if (surah) {
            cards.appendChild(createSurahCard(surah));
          }
        });
        juzGroup.appendChild(juzDiv);
      });
    }

    function populateRevelationOrder() {
      const revealContainer = document.querySelector('#reveal-content .cards');
      revealContainer.innerHTML = '';
      const revelationOrder = [
        "Al-Alaq", "Al-Qalam", "Al-Muzzammil", "Al-Muddathir", "Al-Fatiha", "Al-Masad", "At-Takwir", "Al-A'la",
        "Al-Lail", "Al-Fajr", "Ad-Duhaa", "Ash-Sharh", "Al-Asr", "Al-Adiyat", "Al-Kawthar", "At-Takathur",
        "Al-Ma'un", "Al-Kafirun", "Al-Fil", "Al-Falaq", "An-Nas", "An-Naba", "An-Nazi'at", "Abasa",
        "Al-Qadr", "Ash-Shams", "Al-Buruj", "At-Tin", "Quraysh", "Al-Qari'a", "Al-Qiyama", "Al-Humazah",
        "Al-Mursalat", "Qaf", "Al-Balad", "At-Tariq", "Al-Qamar", "Sad", "Al-A'raf", "Al-Jinn", "Ya-Sin",
        "Al-Furqan", "Fatir", "Maryam", "Ta-Ha", "Al-Waqi'a", "Ash-Shu'ara", "An-Naml", "Al-Qasas",
        "Al-Isra", "Yunus", "Hud", "Yusuf", "Al-Hijr", "Al-An'am", "As-Saffat", "Luqman", "Saba",
        "Az-Zumar", "Ghafir", "Fussilat", "Ash-Shura", "Az-Zukhruf", "Ad-Dukhan", "Al-Jathiya",
        "Al-Ahqaf", "Adh-Dhariyat", "Al-Ghashiyah", "Al-Kahf", "An-Nahl", "Nuh", "Ibrahim", "Al-Anbiya",
        "Al-Mu'minun", "As-Sajda", "At-Tur", "Al-Mulk", "Al-Haqqah", "Al-Ma'arij", "An-Naba", "An-Nazi'at",
        "Al-Infitar", "Al-Inshiqaq", "Ar-Rum", "Al-Ankabut", "Al-Mutaffifin", "Al-Baqarah", "Al-Anfal",
        "Al-Imran", "Al-Ahzab", "Al-Mumtahana", "An-Nisa", "Az-Zalzala", "Al-Hadid", "Muhammad",
        "Ar-Ra'd", "Ar-Rahman", "Al-Insan", "At-Talaq", "Al-Bayyina", "Al-Hashr", "An-Nur", "Al-Hajj",
        "Al-Munafiqun", "Al-Mujadila", "Al-Hujurat", "At-Tahrim", "At-Taghabun", "As-Saff", "Al-Jumu'a",
        "Al-Fath", "Al-Maidah", "At-Tawbah", "An-Nasr"
      ];

      revelationOrder.forEach((surahName, index) => {
        const surah = surahData.find(s => s.name === surahName);
        if (surah) {
          const card = createSurahCard(surah);
          card.querySelector('.surah-number').textContent = `${index + 1}. ${surah.name}`;
          revealContainer.appendChild(card);
        }
      });
    }

    function showRecentSurah() {
      const recentSurahNumber = localStorage.getItem('recentSurah');
      if (recentSurahNumber) {
        const recentSurah = surahData.find(s => s.number == recentSurahNumber);
        if (recentSurah) {
          const recentCardContainer = document.querySelector('.recent-card-container');
          recentCardContainer.innerHTML = '';
          const card = createSurahCard(recentSurah);
          card.classList.add('recent-card');
          recentCardContainer.appendChild(card);
          document.getElementById('recent-surah-section').classList.remove('hidden');
        }
      }
    }

    function createAyahCard(ayah) {
      const surah = surahData.find(s => s.number === ayah.surah);
      const card = document.createElement('a');
      card.href = `${surah.file}.html?ayah=${ayah.ayah}`;
      card.className = 'card';
      card.innerHTML = `
        <div class="card-content">
          <span class="surah-number">${surah.name} - Ayah ${ayah.ayah}</span>
          <span class="surah-meaning">${surah.meaning}</span>
        </div>
      `;
      return card;
    }

    function populateMyQuran() {
      // Favorited Surahs
      const favoritedSurahs = JSON.parse(localStorage.getItem('favoritedSurahs') || '[]');
      const favoritedSurahsContainer = document.getElementById('favorited-surahs');
      favoritedSurahsContainer.innerHTML = '';
      favoritedSurahs.forEach(surahNum => {
        const surah = surahData.find(s => s.number === surahNum);
        if (surah) {
          favoritedSurahsContainer.appendChild(createSurahCard(surah));
        }
      });

      // Favorited Ayahs
      const favoritedAyahs = JSON.parse(localStorage.getItem('favoritedAyahs') || '[]');
      const favoritedAyahsContainer = document.getElementById('favorited-ayahs');
      favoritedAyahsContainer.innerHTML = '';
      favoritedAyahs.forEach(ayah => {
        favoritedAyahsContainer.appendChild(createAyahCard(ayah));
      });

      // Bookmarked Surahs
      const bookmarkedSurahs = JSON.parse(localStorage.getItem('bookmarkedSurahs') || '[]');
      const bookmarkedSurahsContainer = document.getElementById('bookmarked-surahs');
      bookmarkedSurahsContainer.innerHTML = '';
      bookmarkedSurahs.forEach(surahNum => {
        const surah = surahData.find(s => s.number === surahNum);
        if (surah) {
          bookmarkedSurahsContainer.appendChild(createSurahCard(surah));
        }
      });

      // Bookmarked Ayahs
      const bookmarkedAyahs = JSON.parse(localStorage.getItem('bookmarkedAyahs') || '[]');
      const bookmarkedAyahsContainer = document.getElementById('bookmarked-ayahs');
      bookmarkedAyahsContainer.innerHTML = '';
      bookmarkedAyahs.forEach(ayah => {
        bookmarkedAyahsContainer.appendChild(createAyahCard(ayah));
      });
    }

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.addEventListener('scroll', () => {
      const scrollToTopBtn = document.getElementById('scrollToTop');
      if (window.scrollY > 300) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }
    });

    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
      populateSurahs();
      populateJuz();
      populateRevelationOrder();
      showRecentSurah();

      // Add search functionality
      const searchInput = document.getElementById('surah-search');
      searchInput.addEventListener('input', () => {
        if (document.getElementById('surah-tab').classList.contains('active')) {
          populateSurahs(searchInput.value);
        }
      });
    };
  </script>
</head>
<body>
  <nav class="navbar">
    <h1>MuslimBro1400</h1>
    <button class="menu-toggle" onclick="toggleMenu()">
      <img src="menu.png" alt="Menu" />
    </button>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="quran.html">Quran</a>
      <a href="hadith.html">Hadith</a>
      <a href="islamic-books.html">Islamic Books</a>
      <a href="quran-recitations.html">Quran Recitations</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <img id="theme-icon" src="moon.png" alt="Toggle Theme" title="Toggle light/dark mode" />
      </button>
    </div>
  </nav>

  <header class="banner">
    <img src="banner.png" alt="Banner" class="banner-img">
  </header>

  <main class="container">
    <div class="search-container">
      <input type="text" id="surah-search" placeholder="Search for Surahs..." class="search-input">
    </div>
    <div class="tabs">
      <button id="surah-tab" class="tab-button active" onclick="switchTab('surah')">Surahs</button>
      <button id="juz-tab" class="tab-button" onclick="switchTab('juz')">Juz</button>
      <button id="reveal-tab" class="tab-button" onclick="switchTab('reveal')">Revelation Order</button>
      <button id="myquran-tab" class="tab-button" onclick="switchTab('myquran')">My Quran</button>
    </div>

    <section id="surah-content" class="tab-content">
      <div id="recent-surah-section" class="recent-surah-section hidden">
        <h2><hr> Recently Visited Surah<hr></h2>
        <div class="recent-card-container"></div>
      </div>
      <h2><hr> All Surahs<hr></h2>
      <div class="cards"></div>
    </section>

    <section id="juz-content" class="tab-content hidden">
      <h2><hr>Read Juz<hr></h2>
      <div class="juz-group"></div>
    </section>

    <section id="reveal-content" class="tab-content hidden">
      <h2><hr>Read in Revelation Order<hr></h2>
      <div class="cards"></div>
    </section>

    <section id="myquran-content" class="tab-content hidden">
      <h2><hr>My Quran<hr></h2>
      <div class="myquran-sections">
        <div class="myquran-section">
          <h3>Favorited Ayahs</h3>
          <div id="favorited-ayahs" class="cards"></div>
        </div>
        <div class="myquran-section">
          <h3>Favorited Surahs</h3>
          <div id="favorited-surahs" class="cards"></div>
        </div>
        <div class="myquran-section">
          <h3>Bookmarked Ayahs</h3>
          <div id="bookmarked-ayahs" class="cards"></div>
        </div>
        <div class="myquran-section">
          <h3>Bookmarked Surahs</h3>
          <div id="bookmarked-surahs" class="cards"></div>
        </div>
      </div>
    </section>
  </main>

  <button id="scrollToTop" onclick="scrollToTop()">â†‘</button>
</body>
</html>
