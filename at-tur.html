<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>52. Surah: At-Tur 1-49 - MuslimBro1400</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600&family=Noto+Naskh+Arabic:wght@400;700&family=Noto+Nastaliq+Urdu:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.png" type="image/x-icon">

  <style>
    /* Jameel Noori Nastaleeq Custom Font Face */
    @font-face {
      font-family: 'Jameel Noori Nastaleeq';
      src: url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff2') format('woff2'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.woff') format('woff'),
           url('https://db.onlinewebfonts.com/t/173976378411b22976d3381e494d4ef7.ttf') format('truetype');
      font-display: swap;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      transition: background-color 0.5s ease, color 0.5s ease;
    }
    body.dark-mode {
      background-color: #1a1a1a;
      color: #e0e0e0;
    }

    #progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 4px;
      background-color: #007b5e;
      z-index: 1001;
      transition: width 0.25s ease;
    }

    .dark-mode #progress-bar {
      background-color: #0c8;
    }

    .navbar {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #f0f0f0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: background-color 0.5s ease;
    }

    .dark-mode .navbar { background-color: #2c2c2c; }

    .nav-links {
      display: flex;
      align-items: center;
    }

    .nav-links a {
      margin-left: 1rem;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }

    .dark-mode .nav-links a { color: #e0e0e0; }

    .nav-links a:hover {
      color: #007b5e;
    }

    .theme-toggle {
      cursor: pointer;
      margin-left: 1rem;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
    }

    .theme-toggle img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s ease;
    }

    .theme-toggle img.rotate {
      transform: rotate(180deg);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      background-color: transparent;
      border: none;
      padding: 0.4rem 0.6rem;
    }

    .menu-toggle img {
      width: 24px;
      height: 24px;
    }

    .container {
      padding: 2rem 1rem;
      max-width: 800px;
      margin: auto;
    }

    .surah-info {
      text-align: center;
      margin-bottom: 2rem;
    }

    .surah-info h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      font-family: 'Amiri', serif;
    }

    .meaning {
      font-style: italic;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meaning { color: #bbb; }

    .meta {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #888;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }
    .dark-mode .meta { color: #aaa; }

    .bismillah {
      margin-top: 1.5rem;
      font-size: 1.5rem;
      color: #007b5e;
      font-weight: bold;
      font-family: 'Amiri', serif;
    }

    .dark-mode .bismillah { color: #0c8; }

    .ayah {
      background-color: #fff;
      padding: 3rem 3rem 3rem 3rem;
      margin-bottom: 1rem;
      border-left: 4px solid #007b5e;
      border-radius: 6px;
      position: relative;
    }

    .dark-mode .ayah {
      background-color: #2c2c2c;
      border-left-color: #0c8;
    }

    .ayah-number {
      position: absolute;
      top: 1rem;
      left: 1rem;
      font-size: 0.9rem;
      color: #007b5e;
      text-align: left;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .ayah-number { color: #0c8; }

    .arabic {
      font-size: 1.8rem;
      text-align: right;
      direction: rtl;
      font-family: 'Amiri', serif;
    }

    .translation {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-size: 1.2rem
    }

    /* Updated Urdu Translation Class */
    .translation.ur {
      text-align: right;
      direction: rtl;
      /* Prioritizing Jameel Noori */
      font-family: 'Jameel Noori Nastaleeq', 'Noto Nastaliq Urdu', serif;
      font-size: 1.5rem;
      line-height: 2.2; /* Increased line-height for Nastaliq script */
      margin-top: 10px;
      color: #444;
    }

    .dark-mode .translation { color: #ccc; }

    .transliteration {
      margin-top: 0.5rem;
      color: #666;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      font-style: italic;
    }

    .dark-mode .transliteration { color: #ccc; }

    .verse-icon {
      display: inline-block;
      font-size: 1.2rem;
      margin-left: 0.5rem;
      vertical-align: middle;
      color: #007b5e;
      font-family: 'Amiri', serif;
    }

    .dark-mode .verse-icon {
      color: #0c8;
    }

    .favorite-btn, .bookmark-btn, .share-icon {
      position: absolute;
      right: 1rem;
      width: 24px;
      height: 24px;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .favorite-btn:hover, .bookmark-btn:hover, .share-icon:hover {
      opacity: 1;
    }

    .share-icon {
      top: 1rem;
    }

    .favorite-btn {
      top: 3rem;
    }

    .bookmark-btn {
      top: 5rem;
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }

    .navigation a {
      color: #007b5e;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .navigation a { color: #0c8; }

    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
      gap: 1rem;
    }

    .tab-button {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tab-button.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .tab-button {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .tab-button.active {
      background-color: #0c8;
    }

    .transliteration-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .transliteration-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .transliteration-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .transliteration-toggle.active {
      background-color: #0c8;
    }

    .translation-toggle {
      padding: 0.5rem 1.2rem;
      border: none;
      border-radius: 5px;
      background-color: #ddd;
      cursor: pointer;
      font-weight: bold;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease;
      margin-top: 1rem;
    }

    .translation-toggle.active {
      background-color: #007b5e;
      color: white;
    }

    .dark-mode .translation-toggle {
      background-color: #444;
      color: #eee;
    }

    .dark-mode .translation-toggle.active {
      background-color: #0c8;
    }

    .lang-select, .audio-select {
      margin-top: 1rem;
      text-align: center;
    }

    .lang-select label, .audio-select label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .lang-select label, .dark-mode .audio-select label {
      color: #e0e0e0;
    }

    .lang-select select, .audio-select select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .audio-select button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .audio-select button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .audio-select button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .audio-select button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .dark-mode .lang-select select, .dark-mode .audio-select select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .lang-select select:hover, .audio-select select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .lang-select select:hover, .dark-mode .audio-select select:hover {
      border-color: #0a6;
    }

    .lang-select select:focus, .audio-select select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .lang-select select:focus, .dark-mode .audio-select select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .hidden { display: none; }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      max-width: 600px;
      width: 90%;
      position: relative;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .dark-mode .modal-content {
      background-color: #2c2c2c;
      color: #e0e0e0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
    }

    .modal-content iframe {
      border-radius: 8px;
      border: none;
      width: 100%;
      height: 60px;
    }

    .modal-content button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
    }

    .dark-mode .modal-content button:hover {
      background-color: #0a6;
    }

        .go-to-verse {
      margin-top: 1rem;
      text-align: center;
    }

    .go-to-verse label {
      margin-right: 0.5rem;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
    }

    .dark-mode .go-to-verse label {
      color: #e0e0e0;
    }

    .go-to-verse input {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 80px;
      text-align: center;
    }

    .dark-mode .go-to-verse input {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .go-to-verse input:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse input:hover {
      border-color: #0a6;
    }

    .go-to-verse input:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .go-to-verse input:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .go-to-verse button {
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
      margin-left: 0.5rem;
    }

    .go-to-verse button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .go-to-verse button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .dark-mode .go-to-verse button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    /* Scroll to Top Button */
    #scrollToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background-color: #007b5e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    #scrollToTop:hover {
      background-color: #005f4a;
    }

    #scrollToTop.show {
      opacity: 1;
      visibility: visible;
    }

    .dark-mode #scrollToTop {
      background-color: #0c8;
    }

    .dark-mode #scrollToTop:hover {
      background-color: #0a6;
    }

    /* Share Modal Styling */
    .modal-content h2 {
      margin-top: 0;
      color: #333;
      font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .dark-mode .modal-content h2 {
      color: #e0e0e0;
    }

    .modal-content div {
      margin-bottom: 1rem;
      text-align: left;
    }

    .modal-content label {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #333;
      transition: color 0.3s ease;
      cursor: pointer;
    }

    .dark-mode .modal-content label {
      color: #e0e0e0;
    }

    .modal-content input[type="checkbox"] {
      margin-right: 0.5rem;
      width: 18px;
      height: 18px;
      border: 2px solid #007b5e;
      border-radius: 4px;
      background-color: #fff;
      cursor: pointer;
      transition: border-color 0.3s ease, background-color 0.3s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content input[type="checkbox"]:checked {
      background-color: #007b5e;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23fff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="12" height="12"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
    }

    .dark-mode .modal-content input[type="checkbox"] {
      background-color: #2c2c2c;
      border-color: #0c8;
    }

    .dark-mode .modal-content input[type="checkbox"]:checked {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content select {
      padding: 0.6rem 2rem 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%23007b5e" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 0.5rem center;
      background-size: 18px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
    }

    .modal-content select:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content select {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%230c8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M7 10l5 5 5-5z"/></svg>');
    }

    .dark-mode .modal-content select:hover {
      border-color: #0a6;
    }

    .modal-content select:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content select:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    .modal-content button {
      margin-top: 1rem;
      margin-right: 0.5rem;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #007b5e;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
    }

    .modal-content button:hover {
      background-color: #005f4a;
      border-color: #005f4a;
      transform: scale(1.02);
    }

    .dark-mode .modal-content button {
      background-color: #0c8;
      border-color: #0c8;
    }

    .modal-content button:hover {
      background-color: #0a6;
      border-color: #0a6;
    }

    .modal-content input[type="text"] {
      padding: 0.6rem;
      font-size: 1rem;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      border: 2px solid #007b5e;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
      width: 100%;
      box-sizing: border-box;
    }

    .modal-content input[type="text"]:hover {
      border-color: #005f4a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: scale(1.02);
    }

    .dark-mode .modal-content input[type="text"] {
      background-color: #2c2c2c;
      border-color: #0c8;
      color: #e0e0e0;
    }

    .dark-mode .modal-content input[type="text"]:hover {
      border-color: #0a6;
    }

    .modal-content input[type="text"]:focus {
      outline: none;
      border-color: #005f4a;
      box-shadow: 0 0 8px rgba(0,123,94,0.3);
    }

    .dark-mode .modal-content input[type="text"]:focus {
      border-color: #0a6;
      box-shadow: 0 0 8px rgba(0,204,136,0.3);
    }

    @media (max-width: 600px) {
      .navbar h1 {
        font-size: 1.25rem;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        background-color: #f0f0f0;
        position: absolute;
        top: 60px;
        left: 0;
        padding: 1rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        z-index: 1000;
      }

      .dark-mode .nav-links {
        background-color: #2c2c2c;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }

      .theme-toggle {
        margin: 0;
      }

      .menu-toggle {
        display: block;
      }

      .lang-select select, .audio-select select {
        padding: 0.5rem 1.8rem 0.5rem 0.8rem;
        font-size: 0.9rem;
        background-size: 16px;
      }

      .surah-info h1 {
        font-size: 1.5rem;
      }

      .bismillah {
        font-size: 1.3rem;
      }

      .arabic {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div id="progress-bar"></div>
  <!-- Navbar -->
  <nav class="navbar">
    <h1>MuslimBro1400</h1>
    <button class="menu-toggle" onclick="toggleMenu()">
      <img src="menu.png" alt="Menu" />
    </button>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="quran.html">Quran</a>
      <a href="hadith.html">Hadiths</a>
      <a href="islamic-books.html">Books</a>
      <a href="quran-recitations.html">Recitations</a>
      <a href="islamic-calendar.html">Calendar</a>
      <a href="about.html">About</a>
      <button class="theme-toggle" onclick="toggleTheme()">
        <img id="theme-icon" src="moon.png" alt="Toggle Theme" title="Toggle light/dark mode" />
      </button>
    </div>
  </nav>

  <!-- Content -->
  <div class="container">
    <div class="surah-info">
      <h1>Surah At-Tur (سورة الطور)</h1>
      <p class="meaning">Meaning: The Mount</p>
      <p class="meta">Mecca - 49 Verses</p>
      
      <div class="audio-select">
        <label for="reciter">Reciter:</label>
        <select id="reciter" onchange="changeReciter()">
          <option value="saadalghamdi">Saad Al Ghamdi</option>
        </select>
        <br><br>
        <button id="playButton" onclick="playAudio()">Play Audio</button>
      </div>
      
      <p class="bismillah">بِسْمِ اللَّهِ الرَّحْمَـٰنِ الرَّحِيمِ</p>

            <!-- Transliteration Toggle -->
      <button id="transliteration-toggle" class="transliteration-toggle" onclick="toggleTransliteration()">Show Transliteration</button>

      <!-- Translation Toggle -->
      <button id="translation-toggle" class="translation-toggle" onclick="toggleTranslation()">Show Translation</button>

      <!-- Language Selector -->
      <div class="lang-select hidden" id="languageSelector">
        <label for="language">Translation Language:</label>
        <select id="language" onchange="changeLanguage()"></select>
      </div>
      
               <!-- Go to Verse -->
      <div class="go-to-verse">
        <label for="verse-number">Go to Verse:</label>
        <input type="number" id="verse-number" min="1" max="49" placeholder="1-49">
        <button onclick="goToVerse()">Go</button>
      </div>

      <div class="navigation">
        <a href="adh-dhariyat.html">← Surah Adh-Dhariyat</a>
        <a href="an-najm.html">Next: Surah An-Najm →</a>
      </div>
    </div>

    <!-- Arabic Tab -->
    <div id="read-tab"></div>

    <!-- Translation Tab -->
    <div id="translate-tab" class="hidden"></div>

    <div class="navigation">
      <a href="adh-dhariyat.html">← Surah Adh-Dhariyat</a>
      <a href="an-najm.html">Next: Surah An-Najm →</a>
    </div>
  </div>

  <!-- Audio Modal -->
  <div id="audioModal" class="modal" style="display: none;">
    <div class="modal-content">
      <iframe src="https://archive.org/embed/052_20260102" frameborder="0" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen></iframe>
      <br><br>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>

    <!-- Share Modal -->
  <div id="shareModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Share Ayah Options</h2>
      <div>
        <label><input type="checkbox" id="includeTransliteration"> Include Transliteration</label>
      </div>
      <div>
        <label><input type="checkbox" id="includeTranslation" onchange="toggleLanguageSelect()"> Include Translation</label>
      </div>
      <div id="languageSelectDiv" style="display: none;">
        <label for="shareLanguage">Translation Language:</label>
        <select id="shareLanguage">
          <option value="en">English</option>
          <option value="ur">Urdu</option>
        </select>
      </div>
      <br>
      <div id="shareMessage" style="display: none; margin-top: 1rem; text-align: center; font-weight: bold;"></div>
      <button onclick="generateAndCopyText()">Copy Text</button>
      <button onclick="closeShareModal()">Cancel</button>
    </div>
  </div>

    <!-- Scroll to Top Button -->
  <button id="scrollToTop" onclick="scrollToTop()">↑</button>

  <script>
    const unfavoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const favoriteSVG = `<svg width="24" height="24" viewBox="0 0 24 24" fill="#0c8" stroke="#0c8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`;
    const unbookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#00CC88" stroke-width="66.66" stroke-miterlimit="10" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;
    const bookmarkedSVG = `<svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#00CC88" d="M166.7,206.7c0-37.3,0-56,7.3-70.3c6.4-12.5,16.6-22.7,29.1-29.1c14.3-7.3,32.9-7.3,70.3-7.3h253.3c37.3,0,56,0,70.3,7.3c12.5,6.4,22.7,16.6,29.1,29.1c7.3,14.3,7.3,32.9,7.3,70.3V700L400,533.3L166.7,700V206.7z"/></svg>`;

    const ayahs = [
      {
        arabic: "وَالطّورِ",
        en: "By Mount Ṭûr!",
        ur: "قسم ہے طور کی۔",
        trans : "Wat-Toor"
      },
      {
        arabic: "وَكِتابٍ مَسطورٍ",
        en: "And by the Book written",
        ur: "اور اس کتاب کی قسم جو لکھی ہوئی ہے۔",
        trans : "Wa kitaabim mastoor"
      },
      {
        arabic: "في رَقٍّ مَنشورٍ",
        en: "on open pages ˹for all to read˺!",
        ur: "کشادہ ورق میں۔",
        trans : "Fee raqqim manshoor"
      },
      {
        arabic: "وَالبَيتِ المَعمورِ",
        en: "And by the ˹Sacred˺ House frequently visited!",
        ur: "اور قسم ہے آباد گھر کی۔",
        trans : "Wal baitil ma’moor"
      },
      {
        arabic: "وَالسَّقفِ المَرفوعِ",
        en: "And by the canopy raised ˹high˺!",
        ur: "اور قسم ہے اونچی چھت کی۔",
        trans : "Wassaqfil marfoo’"
      },
      {
        arabic: "وَالبَحرِ المَسجورِ",
        en: "And by the seas set on fire!",
        ur: "اور قسم ہے ابلتے ہوئے سمندر کی۔",
        trans : "Wal bahril masjoor"
      },
      {
        arabic: "إِنَّ عَذابَ رَبِّكَ لَواقِعٌ",
        en: "Indeed, the punishment of your Lord will come to pass—",
        ur: "تیرے رب کا عذاب یقینا واقع ہو کر رہے گا۔",
        trans : "Inna ‘azaaba Rabbika lawaaqi’"
      },  
      {
        arabic: "ما لَهُ مِن دافِعٍ",
        en: "none will avert it—",
        ur: "اسے کوئی روکنے والا نہ ہوگا۔",
        trans : "Maa lahoo min daafi’"
      },
      {
        arabic: "يَومَ تَمورُ السَّماءُ مَورًا",
        en: "on the Day the heavens will be shaken violently,",
        ur: "جس روز کہ آسمان بری طرح لرزے گا۔",
        trans : "Yawma tamoorus samaaa’u mawraa"
      },
      {
        arabic: "وَتَسيرُ الجِبالُ سَيرًا",
        en: "and the mountains will be blown away entirely.",
        ur: "اور پہاڑ چل رہے ہوں گے جیسے چلا جاتا ہے۔",
        trans : "Wa taseerul jibaalu sairaa"
      },
      {
        arabic: "فَوَيلٌ يَومَئِذٍ لِلمُكَذِّبينَ",
        en: "Then woe on that Day to the deniers—",
        ur: "پس ہلاکت و بربادی ہے اس دن جھٹلانے والوں کے لیے۔",
        trans : "Fawailuny yawma ‘izil lil mukaazzibeen"
      },
      {
        arabic: "الَّذينَ هُم في خَوضٍ يَلعَبونَ",
        en: "those who amuse themselves with falsehood!",
        ur: "وہ لوگ جو خوش گپیوں میں مصروف کھیل رہے ہیں۔",
        trans : "Allazeena hum fee khawdiny yal’aboon"
      },
      {
        arabic: "يَومَ يُدَعّونَ إِلىٰ نارِ جَهَنَّمَ دَعًّا",
        en: "˹It is˺ the Day they will be fiercely shoved into the Fire of Hell.",
        ur: "جس دن ان کو دھکے دے دے کر جہنم کی طرف دھکیلاجائے گا۔",
        trans : "Yawma yuda’-‘oona ilaa naari jahannama da’-‘aa"
      },
      {
        arabic: "هٰذِهِ النّارُ الَّتي كُنتُم بِها تُكَذِّبونَ",
        en: "˹They will be told,˺ “This is the Fire which you used to deny.",
        ur: "اور کہا جائے گا) یہ ہے وہ آگ جس کو تم جھٹلایا کرتے تھے۔)",
        trans : "Haazihin naarul latee kuntum bihaa tukazziboon"
      },
      {
        arabic: "أَفَسِحرٌ هٰذا أَم أَنتُم لا تُبصِرونَ",
        en: "Is this magic, or do you not see?",
        ur: "کیا یہ جادو ہے یا تم دیکھ نہیں رہے ہو ؟",
        trans : "Afasihrun haazaaaa am antum laa tubsiroon"
      },
      {
        arabic: "اصلَوها فَاصبِروا أَو لا تَصبِروا سَواءٌ عَلَيكُم ۖ إِنَّما تُجزَونَ ما كُنتُم تَعمَلونَ",
        en: "Burn in it! It is the same whether you endure ˹it˺ patiently or not. You are only rewarded for what you used to do.”",
        ur: "اب داخل ہو جائو اس میں تم خواہ صبر کرو یا نہ کرو اب تمہارے حق میں برابر ہے۔ تمہیں بدلے میں وہی کچھ تو مل رہا ہے جو کچھ تم عمل کیا کرتے تھے۔",
        trans : "Islawhaa fasbirooo aw laa tasbiroo sawaaa’un ‘alaikum innamaa tujzawna maa kuntum ta’maloon"
      },
      {
        arabic: "إِنَّ المُتَّقينَ في جَنّاتٍ وَنَعيمٍ",
        en: "Indeed, the righteous will be in Gardens and bliss,",
        ur: "یقینا متقی لوگ باغات میں اور نعمتوں میں ہوں گے۔",
        trans : "Innal muttaqeena fee jannaatinw wa na’eem"
      },
      {
        arabic: "فاكِهينَ بِما آتاهُم رَبُّهُم وَوَقاهُم رَبُّهُم عَذابَ الجَحيمِ",
        en: "enjoying whatever their Lord will have granted them. And their Lord will have protected them from the torment of the Hellfire.",
        ur: "وہ مزے کر رہے ہوں گے ان نعمتوں کے ساتھ جو ان کے رب نے انہیں عطا کی ہوں گی۔ اور بچا لے گا انہیں ان کا ربّ جہنم کے عذاب سے۔",
        trans : "Faakiheena bimaaa aataahum rabbuhum wa waqaahum rabbuhum ‘azaabal jaheem"
      },
      {
        arabic: "كُلوا وَاشرَبوا هَنيئًا بِما كُنتُم تَعمَلونَ",
        en: "˹They will be told,˺ “Eat and drink happily for what you used to do.”",
        ur: "اور کھائو پیو رچتا پچتا اُن اعمال کا صلہ جو تم کرتے رہے ہو۔",
        trans : "Kuloo washraboo haneee ‘am bimaa kuntum ta’maloon"
      },
      {
        arabic: "مُتَّكِئينَ عَلىٰ سُرُرٍ مَصفوفَةٍ ۖ وَزَوَّجناهُم بِحورٍ عينٍ",
        en: "They will be reclining on thrones, ˹neatly˺ lined up ˹facing each other˺. And We will pair them to maidens with gorgeous eyes.",
        ur: "وہ تکیے لگائے بیٹھے ہوں گے ان تختوں پر جو برابر بچھے ہوں گے صف درصف۔ اورا نہیں ہم بیاہ دیں گے بڑی بڑی آنکھوں والی حوروں کے ساتھ۔",
        trans : "Muttaki’eena ‘alaa sururim masfoofatinw wa zawwaj naahum bihoorin ‘een"
      },
      {
        arabic: "وَالَّذينَ آمَنوا وَاتَّبَعَتهُم ذُرِّيَّتُهُم بِإيمانٍ أَلحَقنا بِهِم ذُرِّيَّتَهُم وَما أَلَتناهُم مِن عَمَلِهِم مِن شَيءٍ ۚ كُلُّ امرِئٍ بِما كَسَبَ رَهينٌ",
        en: "As for those who believe and whose descendants follow them in faith, We will elevate their descendants to their rank, never discounting anything ˹of the reward˺ of their deeds. Every person will reap only what they sowed.",
        ur: "اور وہ لوگ جو ایمان لائے اور ان کی اولاد نے بھی ان کی پیروی کی ایمان کے ساتھ ہم ملا دیں گے ان کے ساتھ ان کی اس اولاد کو اور ہم ان کے عمل میں سے کوئی کمی نہیں کریں گے۔ ہر انسان اپنی کمائی کے عوض رہن ہوگا۔",
        trans : "Wallazeena aamanoo wattaba’at hum zurriyyatuhum bieemaanin alhaqnaa bihim zurriyyatahum wa maaa alatnaahum min ‘amalihim min shai’; kullum ri’im bimaa kasaba raheen"
      },
      {
        arabic: "وَأَمدَدناهُم بِفاكِهَةٍ وَلَحمٍ مِمّا يَشتَهونَ",
        en: "And We will ˹continually˺ provide them with whatever fruit or meat they desire.",
        ur: "اور ہم انہیں دیے چلے جائیں گے پھل اور گوشت جس سے وہ چاہیں گے۔",
        trans : "Wa amdadnaahum bifaa kihatinw wa lahmim mimmaa yashtahoon"
      },
      {
        arabic: "يَتَنازَعونَ فيها كَأسًا لا لَغوٌ فيها وَلا تَأثيمٌ",
        en: "They will pass around to each other a drink ˹of pure wine,˺ which leads to no idle talk or sinfulness.",
        ur: "اس میں وہ ایک دوسرے سے چھین رہے ہوں گے وہ جام جن (کے مشروب) میں نہ تو کوئی بےہودگی ہوگی اور نہ ہی گناہ میں ڈالنے والی کوئی بات۔",
        trans : "Yatanaaza’oona feehaa kaasal laa laghwun feehaa wa laa taaseem"
      },
      {
        arabic: "۞ وَيَطوفُ عَلَيهِم غِلمانٌ لَهُم كَأَنَّهُم لُؤلُؤٌ مَكنونٌ",
        en: "And they will be waited on by their youthful servants like spotless pearls.",
        ur: "اور ان پر گردش میں رہیں گے نوجوان لڑکے ان کی خدمت کے لیے وہ ایسے ہوں گے جیسے موتی ہوں غلافوں میں رکھے ہوئے۔",
        trans : "Wa yatoofu ‘alaihim ghilmaanul lahum ka annahum lu’lu’um maknoon"
      },
      {
        arabic: "وَأَقبَلَ بَعضُهُم عَلىٰ بَعضٍ يَتَساءَلونَ",
        en: "They will turn to one another inquisitively.",
        ur: "اور وہ (اہل جنت) ایک دوسرے کی طرف رخ کرکے باہم سوال کریں گے۔",
        trans : "Wa aqbala ba’duhum ‘alaa ba’diny yatasaaa’aloon"
      },
      {
        arabic: "قالوا إِنّا كُنّا قَبلُ في أَهلِنا مُشفِقينَ",
        en: "They will say, “Before ˹this reward˺ we used to be in awe ˹of Allah˺ in the midst of our people.",
        ur: "وہ کہیں گے کہ ہم پہلے اپنے اہل و عیال میں ڈرتے ہوئے رہتے تھے۔",
        trans : "Qaalooo innaa kunnaa qablu feee ahlinaa mushfiqeen"
      },
      {
        arabic: "فَمَنَّ اللَّهُ عَلَينا وَوَقانا عَذابَ السَّمومِ",
        en: "So Allah has graced us and protected us from the torment of ˹Hell’s˺ scorching heat.",
        ur: "تو اللہ نے بڑا احسان کیا ہم پر اور ہمیں بچالیا لو کے عذاب سے۔",
        trans : "Famannnal laahu ‘alainaa wa waqaanaa ‘azaabas samoom"
      },
      {
        arabic: "إِنّا كُنّا مِن قَبلُ نَدعوهُ ۖ إِنَّهُ هُوَ البَرُّ الرَّحيمُ",
        en: "Indeed, we used to call upon Him ˹alone˺ before. He is truly the Most Kind, Most Merciful.”",
        ur: "یقینا ہم پہلے سے اس کو پکارا کرتے تھے۔",
        trans : "Innaa kunnaa min qablu nad’oohu innahoo huwal barrur raheem"
      },
      {
        arabic: "فَذَكِّر فَما أَنتَ بِنِعمَتِ رَبِّكَ بِكاهِنٍ وَلا مَجنونٍ",
        en: "So ˹continue to˺ remind ˹all, O  Prophet˺. For you, by the grace of your Lord, are not a fortune-teller or a madman.",
        ur: "تو (اے نبی ﷺ !) آپ تذکیر کرتے رہیے پس آپ اپنے رب کے فضل سے نہ کاہن ہیں اور نہ مجنون۔",
        trans : "Fazakkir famaaa anta bini’mati rabbika bikaahininw wa laa majnoon"
      },
      {
        arabic: "أَم يَقولونَ شاعِرٌ نَتَرَبَّصُ بِهِ رَيبَ المَنونِ",
        en: "Or do they say, “˹He is˺ a poet, for whom we ˹eagerly˺ await an ill-fate!”?",
        ur: "کیا ان کا کہنا ہے کہ یہ ایک شاعر ہے جس کے لیے ہم منتظر ہیں گردش زمانہ کے ؟",
        trans : "Am yaqooloona shaa’irun natarabbasu bihee raibal manoon"
      },
      {
        arabic: "قُل تَرَبَّصوا فَإِنّي مَعَكُم مِنَ المُتَرَبِّصينَ",
        en: "Say, “Keep waiting! I too am waiting with you.”",
        ur: "آپ ﷺ کہیے کہ اچھا تم انتظار کرو میں بھی تمہارے ساتھ انتظار کرنے والوں میں ہوں۔",
        trans : "Qul tarabbasoo fa innee ma’akum minal mutarabbiseen"
      },
      {
        arabic: "أَم تَأمُرُهُم أَحلامُهُم بِهٰذا ۚ أَم هُم قَومٌ طاغونَ",
        en: "Or do their ˹intelligent˺ minds prompt them to this ˹paradox˺? Or are they ˹just˺ a transgressing people?",
        ur: "کیا ان کی عقلیں انہیں یہی کچھ سکھا رہی ہیں یا یہ ہیں ہی سرکش لوگ ؟",
        trans : "Am taamuruhum ahlaamuhum bihaazaaa am hum qawmun taaghoon"
      },
      {
        arabic: "أَم يَقولونَ تَقَوَّلَهُ ۚ بَل لا يُؤمِنونَ",
        en: "Or do they say, “He made this ˹Quran˺ up!”? In fact, they have no faith.",
        ur: "کیا ان کا کہنا ہے کہ یہ اس (محمد ﷺ نے خود گھڑ لیا ہے ؟ بلکہ (اصل بات یہ ہے کہ) یہ ماننے والے نہیں ہیں۔",
        trans : "Am yaqooloona taqawwalah; bal laa yu’minoon"
      },
      {
        arabic: "فَليَأتوا بِحَديثٍ مِثلِهِ إِن كانوا صادِقينَ",
        en: "Let them then produce something like it, if what they say is true!",
        ur: "تو وہ لے آئیں اس جیسی کوئی ایک بات اگر وہ سچے ہیں۔",
        trans : "Falyaatoo bihadeesim misliheee in kaanoo saadiqeen"
      },
      {
        arabic: "أَم خُلِقوا مِن غَيرِ شَيءٍ أَم هُمُ الخالِقونَ",
        en: "Or were they created by nothing, or are they ˹their own˺ creators?",
        ur: "کیا یہ بغیر کسی کے بنائے ہوئے خود بن گئے ہیں یا یہ خود ہی خالق ہیں ؟",
        trans : "Am khuliqoo min ghairi shai’in am humul khaaliqoon"
      },
      {
        arabic: "أَم خَلَقُوا السَّماواتِ وَالأَرضَ ۚ بَل لا يوقِنونَ",
        en: "Or did they create the heavens and the earth? In fact, they have no certainty.",
        ur: "کیا آسمانوں اور زمین کو انہوں نے بنایا ہے ؟ بلکہ (اصل بات یہ ہے کہ) یہ یقین نہیں رکھتے۔",
        trans : "Am khalaqus samaawaati wal ard; bal laa yooqinoon"
      },
      {
        arabic: "أَم عِندَهُم خَزائِنُ رَبِّكَ أَم هُمُ المُصَيطِرونَ",
        en: "Or do they possess the treasuries of your Lord, or are they in control ˹of everything˺?",
        ur: "کیا ان کے قبضہ قدرت میں آپ کے رب کے خزانے ہیں یا یہ داروغہ ہیں ؟",
        trans : "Am’indahum khazaaa’inu rabbika am humul musaitiroon"
      },
      {
        arabic: "أَم لَهُم سُلَّمٌ يَستَمِعونَ فيهِ ۖ فَليَأتِ مُستَمِعُهُم بِسُلطانٍ مُبينٍ",
        en: "Or do they have a stairway, by which they eavesdrop ˹on the heavens˺? Then let those who do so bring a compelling proof.",
        ur: "کیا ان کے پاس کوئی ایسی سیڑھی ہے جس کے ذریعے سے یہ آسمان کی خبریں سن لیتے ہیں ؟ اگر ایسا ہے) تو ان کا سننے والا کوئی واضح دلیل لائے۔",
        trans : "Am lahum sullamuny yastami’oona feehi falyaati mustami’uhum bisultaanim mubeen"
      },
      {
        arabic: "أَم لَهُ البَناتُ وَلَكُمُ البَنونَ",
        en: "Or does He have daughters ˹as you claim˺, while you ˹prefer to˺ have sons?",
        ur: "کیا اس کے لیے تو بیٹیاں ہیں اور تمہارے لیے بیٹے ؟",
        trans : "Am lahul banaatu wa lakumul banoon"
      },
      {
        arabic: "أَم تَسأَلُهُم أَجرًا فَهُم مِن مَغرَمٍ مُثقَلونَ",
        en: "Or are you ˹O Prophet˺ asking them for a reward ˹for the message˺ so that they are overburdened by debt?",
        ur: "کیا آپ ان لوگوں سے کوئی اجرت طلب کر رہے ہیں کہ یہ تاوان کے بوجھ تلے دبے جا رہے ہیں ؟",
        trans : "Am tas’aluhum ajran fahum mim maghramim musqaloon"
      },
      {
        arabic: "أَم عِندَهُمُ الغَيبُ فَهُم يَكتُبونَ",
        en: "Or do they have access to ˹the Record in˺ the unseen, so they copy it ˹for all to see˺?",
        ur: "کیا ان کے پاس غیب کا علم ہے جسے یہ لکھ رہے ہیں ؟",
        trans : "Am ‘indahumul ghaibu fahum yaktuboon"
      },
      {
        arabic: "أَم يُريدونَ كَيدًا ۖ فَالَّذينَ كَفَروا هُمُ المَكيدونَ",
        en: "Or do they intend to scheme ˹against the Prophet˺? Then it is the disbelievers who will fall victim to ˹their˺ schemes.",
        ur: "کیا یہ لوگ کوئی چال چلنا چاہتے ہیں ؟ اصل میں تو یہ کافر خود ہی چال کا شکار ہوگئے ہیں۔",
        trans : "Am yureedoona kaidan fallazeena kafaroo humul makeedoon"
      },
      {
        arabic: "أَم لَهُم إِلٰهٌ غَيرُ اللَّهِ ۚ سُبحانَ اللَّهِ عَمّا يُشرِكونَ",
        en: "Or do they have a god other than Allah? Glorified is Allah far above what they associate ˹with Him˺!",
        ur: "کیا ان کے لیے اللہ کے سوا کوئی اور الٰہ بھی ہے ؟ پاک ہے اللہ اس سے جو شرک یہ کر رہے ہیں۔",
        trans : "Am lahum ilaahun ghairul laa; subhaanal laahi ‘ammaa yushrikoon"
      },
      {
        arabic: "وَإِن يَرَوا كِسفًا مِنَ السَّماءِ ساقِطًا يَقولوا سَحابٌ مَركومٌ",
        en: "If they were to see a ˹deadly˺ piece of the sky fall down ˹upon them˺, still they would say, “˹This is just˺ a pile of clouds.”",
        ur: "اور اگر کبھی یہ دیکھیں آسمان کا کوئی ٹکڑا گرتا ہوا تو کہیں گے کہ یہ تو بادل ہیں تہ بر تہ۔",
        trans : "Wa iny yaraw kisfam minas samaaa’i saaqitany yaqooloo sahaabum markoom"
      },
      {
        arabic: "فَذَرهُم حَتّىٰ يُلاقوا يَومَهُمُ الَّذي فيهِ يُصعَقونَ",
        en: "So leave them until they face their Day in which they will be struck dead—",
        ur: "تو (اے نبی ﷺ !) چھوڑے رکھیے ان کو یہاں تک کہ وہ اپنے اس دن سے دوچار ہوں جس میں ان پر بجلی کی کڑک گرے گی۔",
        trans : "Fazarhum hatta yulaaqoo yawmahumul lazee feehi yus’aqoon"
      },
      {
        arabic: "يَومَ لا يُغني عَنهُم كَيدُهُم شَيئًا وَلا هُم يُنصَرونَ",
        en: "the Day their scheming will be of no benefit to them whatsoever, nor will they be helped.",
        ur: "جس دن ان کی چالیں ان کے کسی کام نہ آسکیں گی اور نہ ہی ان کی کوئی مدد ہی ہوگی۔",
        trans : "Yawma laa yughnee ‘anhum kaiduhum shai’anw wa laa hum yunsaroon"
      },
      {
        arabic: "وَإِنَّ لِلَّذينَ ظَلَموا عَذابًا دونَ ذٰلِكَ وَلٰكِنَّ أَكثَرَهُم لا يَعلَمونَ",
        en: "Also, the wrongdoers will certainly have another torment before that ˹Day˺, but most of them do not know.",
        ur: "اور ان ظالموں کے لیے اس (آخرت کے عذاب) کے علاوہ بھی ایک عذاب ہے لیکن ان کی اکثریت علم نہیں رکھتی۔",
        trans : "Wa inna lillazeena zalamoo ‘azaaban doona zalika wa laakinna aksarahum laa ya’lamoon"
      },
      {
        arabic: "وَاصبِر لِحُكمِ رَبِّكَ فَإِنَّكَ بِأَعيُنِنا ۖ وَسَبِّح بِحَمدِ رَبِّكَ حينَ تَقومُ",
        en: "So be patient with your Lord’s decree, for you are truly under Our ˹watchful˺ Eyes. And glorify the praises of your Lord when you rise.",
        ur: "(اور اے نبی ﷺ آپ اپنے ربّ کے فیصلے کا انتظار کیجیے۔ بیشک آپ ہماری نگاہوں میں ہیں۔ اور آپ تسبیح کرتے رہیں اپنے رب کی حمد کے ساتھ جب آپ کھڑے ہوں۔",
        trans : "Wasbir lihukmi rabbika fa innaka bi-a’yuninaa wa sabbih bihamdi rabbika heena taqoom"
      },
      {
        arabic: "وَمِنَ اللَّيلِ فَسَبِّحهُ وَإِدبارَ النُّجومِ",
        en: "And glorify Him during part of the night and at the fading of the stars.",
        ur: "اور رات کے ایک حصے میں بھی آپ اس کی تسبیح کریں اور ستاروں کے پیٹھ موڑتے وقت بھی (آپ تسبیح کیجیے)",
        trans : "Wa minal laili fasabbihhu wa idbaaran nujoom"
      },
    ];

    const readTab = document.getElementById('read-tab');
    const translateTab = document.getElementById('translate-tab');
    const langSelect = document.getElementById('language');
    const langWrapper = document.getElementById('languageSelector');
    let showTransliteration = false;
    let showTranslation = false;
    let currentAyahIndex = 0;

    // Favorites and Bookmarks storage
    let favoritedAyahs = JSON.parse(localStorage.getItem('favoritedAyahs')) || [];
    let bookmarkedAyahs = JSON.parse(localStorage.getItem('bookmarkedAyahs')) || [];

    function isFavorite(index) {
      return favoritedAyahs.some(ayah => ayah.surah === 52 && ayah.ayah === index + 1);
    }

    function toggleFavorite(index) {
      const ayahObj = { surah: 52, ayah: index + 1 };
      if (isFavorite(index)) {
        favoritedAyahs = favoritedAyahs.filter(ayah => !(ayah.surah === 52 && ayah.ayah === index + 1));
      } else {
        favoritedAyahs.push(ayahObj);
      }
      localStorage.setItem('favoritedAyahs', JSON.stringify(favoritedAyahs));
      renderReadTab();
      renderTranslation();
    }

    function isBookmarked(index) {
      return bookmarkedAyahs.some(ayah => ayah.surah === 52 && ayah.ayah === index + 1);
    }

    function toggleBookmark(index) {
      const ayahObj = { surah: 52, ayah: index + 1 };
      if (isBookmarked(index)) {
        bookmarkedAyahs = bookmarkedAyahs.filter(ayah => !(ayah.surah === 52 && ayah.ayah === index + 1));
      } else {
        bookmarkedAyahs.push(ayahObj);
      }
      localStorage.setItem('bookmarkedAyahs', JSON.stringify(bookmarkedAyahs));
      renderReadTab();
      renderTranslation();
    }

    // Language options with display names
    const languages = [
      { value: 'en', name: 'English: Dr. Mustafa Khattab' },
      { value: 'ur', name: 'Urdu: Dr. Israr Ahmed' }
      // Add more languages here in the future, e.g., { value: 'ar', name: 'Arabic' }
    ];

    // Populate language selector with sorted options
    function populateLanguageSelector() {
      // Sort languages alphabetically by name
      languages.sort((a, b) => a.name.localeCompare(b.name));
      
      // Clear existing options
      langSelect.innerHTML = '';
      
      // Add sorted options
      languages.forEach(lang => {
        const option = document.createElement('option');
        option.value = lang.value;
        option.textContent = lang.name;
        langSelect.appendChild(option);
      });
    }

    // Load Arabic verses
    function renderReadTab() {
      readTab.innerHTML = '';
      const lang = langSelect.value;
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = 'ayah';
        let transliterationHTML = '';
        if (showTransliteration && ayah.trans) {
          transliterationHTML = `<div class="transliteration">${ayah.trans}</div>`;
        }
        let translationHTML = '';
        if (showTranslation) {
          translationHTML = `<div class="translation ${lang}">${ayah[lang]}</div>`;
        }
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="arabic">${ayah.arabic}<span class="verse-icon">۝</span></div>
          ${transliterationHTML}
          ${translationHTML}
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        readTab.appendChild(div);
      });
    }

    function renderTranslation() {
      const lang = langSelect.value;
      translateTab.innerHTML = '';
      ayahs.forEach((ayah, index) => {
        const div = document.createElement('div');
        div.className = `ayah translation ${lang}`;
        div.innerHTML = `
          <div class="ayah-number">Verse ${index + 1}</div>
          <div class="translation ${lang}">${ayah[lang]}<span class="verse-icon">۝</span></div>
          <button class="favorite-btn" onclick="toggleFavorite(${index})">${isFavorite(index) ? favoriteSVG : unfavoriteSVG}</button>
          <button class="bookmark-btn" onclick="toggleBookmark(${index})">${isBookmarked(index) ? bookmarkedSVG : unbookmarkedSVG}</button>
          <svg class="share-icon" onclick="openShareModal(${index})" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
          </svg>
        `;
        translateTab.appendChild(div);
      });
    }

    let currentEmbedSrc = "https://archive.org/embed/052_20260102"; // Default for saadalghamdi

    function changeReciter() {
      const reciter = document.getElementById('reciter').value;
      const playButton = document.getElementById('playButton');

      // Define your reciter embed sources (Archive.org embed links)
      const reciterEmbeds = {
        saadalghamdi: "https://archive.org/embed/052_20260102",
        // Add more reciters here as needed, e.g., anotherreciter: "https://archive.org/embed/another_id"
      };

      // Get the correct embed URL for the selected reciter
      const newSrc = reciterEmbeds[reciter];

      if (newSrc) {
        currentEmbedSrc = newSrc;
        // Show the play button
        playButton.style.display = 'block';
      } else {
        alert("Embed source not available for this reciter.");
        playButton.style.display = 'none';
      }
    }

    function playAudio() {
      // Show the modal with the embed iframe
      const modal = document.getElementById('audioModal');
      const iframe = modal.querySelector('iframe');
      iframe.src = currentEmbedSrc;
      modal.style.display = 'flex';
    }

    function closeModal() {
      const modal = document.getElementById('audioModal');
      modal.style.display = 'none';
    }

    function switchTab(tab) {
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.tabs button')[tab === 'read' ? 0 : 1].classList.add('active');

      if (tab === 'read') {
        readTab.classList.remove('hidden');
        translateTab.classList.add('hidden');
        langWrapper.classList.add('hidden');
        renderReadTab();
      } else {
        readTab.classList.add('hidden');
        translateTab.classList.remove('hidden');
        langWrapper.classList.remove('hidden');
        renderTranslation();
      }
    }

    function goToVerse() {
      const verseNumber = parseInt(document.getElementById('verse-number').value);
      if (isNaN(verseNumber) || verseNumber < 1 || verseNumber > 49) {
        alert('Please enter a valid verse number between 1 and 49.');
        return;
      }

      // Determine which tab is active
      const activeTab = readTab.classList.contains('hidden') ? translateTab : readTab;
      const ayahs = activeTab.querySelectorAll('.ayah');

      if (ayahs[verseNumber - 1]) {
        ayahs[verseNumber - 1].scrollIntoView({ behavior: 'smooth' });

        // Highlight the verse temporarily
        ayahs[verseNumber - 1].style.backgroundColor = '#005f4a';
        setTimeout(() => {
          ayahs[verseNumber - 1].style.backgroundColor = '';
        }, 2000);
      }
    }

    function setThemeIcon() {
      const icon = document.getElementById('theme-icon');
      icon.classList.remove('rotate');
      void icon.offsetWidth;
      icon.classList.add('rotate');
      icon.src = document.body.classList.contains('dark-mode')
        ? "sun.png"
        : "moon.png";
      icon.alt = document.body.classList.contains('dark-mode')
        ? "Switch to light mode"
        : "Switch to dark mode";
    }

    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      setThemeIcon();
    }

    function toggleMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    function toggleTransliteration() {
      showTransliteration = !showTransliteration;
      const toggleButton = document.getElementById('transliteration-toggle');
      if (showTransliteration) {
        toggleButton.textContent = 'Hide Transliteration';
        toggleButton.classList.add('active');
      } else {
        toggleButton.textContent = 'Show Transliteration';
        toggleButton.classList.remove('active');
      }
      renderReadTab();
    }

    function toggleTranslation() {
      showTranslation = !showTranslation;
      const toggleButton = document.getElementById('translation-toggle');
      if (showTranslation) {
        toggleButton.textContent = 'Hide Translation';
        toggleButton.classList.add('active');
        langWrapper.classList.remove('hidden');
      } else {
        toggleButton.textContent = 'Show Translation';
        toggleButton.classList.remove('active');
        langWrapper.classList.add('hidden');
      }
      renderReadTab();
    }

    function changeLanguage() {
      renderReadTab();
      renderTranslation();
    }

        // Scroll to Top functionality
    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Share functions
    function openShareModal(index) {
      currentAyahIndex = index;
      document.getElementById('includeTransliteration').checked = false;
      document.getElementById('includeTranslation').checked = false;
      document.getElementById('languageSelectDiv').style.display = 'none';
      document.getElementById('shareMessage').style.display = 'none';
      document.getElementById('shareModal').style.display = 'flex';
    }

    function toggleLanguageSelect() {
      const includeTranslation = document.getElementById('includeTranslation').checked;
      document.getElementById('languageSelectDiv').style.display = includeTranslation ? 'block' : 'none';
    }

    function closeShareModal() {
      document.getElementById('shareModal').style.display = 'none';
    }

    function generateAndCopyText() {
      const ayah = ayahs[currentAyahIndex];
      let text = `Surah At-Tur\nVerse ${currentAyahIndex + 1}\n\nArabic:\n${ayah.arabic}\n`;

      if (document.getElementById('includeTransliteration').checked && ayah.trans) {
        text += `\nTransliteration:\n${ayah.trans}\n`;
      }

      if (document.getElementById('includeTranslation').checked) {
        const lang = document.getElementById('shareLanguage').value;
        text += `\nTranslation (${lang === 'en' ? 'English' : 'Urdu'}):\n${ayah[lang]}\n`;
      }

      text += `\nhttps://adil43534.github.io/Muslimbro1400.com/`;

      const shareMessage = document.getElementById('shareMessage');
      navigator.clipboard.writeText(text).then(() => {
        shareMessage.textContent = 'Text copied to clipboard!';
        shareMessage.style.color = '#007b5e';
        shareMessage.style.display = 'block';
        setTimeout(() => {
          closeShareModal();
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy text: ', err);
        shareMessage.textContent = 'Failed to copy text. Please try again.';
        shareMessage.style.color = '#d9534f';
        shareMessage.style.display = 'block';
      });
    }

    // Show/hide scroll to top button and update progress bar based on scroll position
    window.addEventListener('scroll', () => {
      const scrollToTopBtn = document.getElementById('scrollToTop');
      if (window.pageYOffset > 300) {
        scrollToTopBtn.classList.add('show');
      } else {
        scrollToTopBtn.classList.remove('show');
      }

      // Update progress bar
      const progressBar = document.getElementById('progress-bar');
      const totalHeight = document.body.scrollHeight - window.innerHeight;
      const progress = (window.pageYOffset / totalHeight) * 100;
      progressBar.style.width = progress + '%';
    });

    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
      }
      setThemeIcon();
      populateLanguageSelector();
      renderReadTab();
      // Ensure modal is hidden on load
      document.getElementById('audioModal').classList.add('hidden');

      // Check for ayah parameter in URL and navigate to it
      const urlParams = new URLSearchParams(window.location.search);
      const ayah = urlParams.get('ayah');
      if (ayah) {
        document.getElementById('verse-number').value = ayah;
        goToVerse();
      }
    };
  </script>
</body>
</html>
